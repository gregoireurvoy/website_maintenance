<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.506">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Gregoire Urvoy – projet_3</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Gregoire Urvoy</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./home.html"> 
<span class="menu-text">Home page</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-visualizations" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Visualizations</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-visualizations">    
        <li>
    <a class="dropdown-item" href="./visualization_using_Tableau.html">
 <span class="dropdown-text">Visualization using Tableau</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./visualization_using_R.html">
 <span class="dropdown-text">Visualization using R</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-academic-project" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Academic project</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-academic-project">    
        <li>
    <a class="dropdown-item" href="./projet_1.html">
 <span class="dropdown-text">Analysis of ESG factors in investment decisionmaking (2019)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./projet_2.html">
 <span class="dropdown-text">Estimating market capitalisation of companies using machine learning models (2021)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./projet_3.html">
 <span class="dropdown-text">House prices predictions using machine learning models (2021)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./projet_5.html">
 <span class="dropdown-text">Images classifier using deep learning and machine learning models (2021)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./projet_4.html">
 <span class="dropdown-text">Open food facts dataset: simple analysis (2021)</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-work-project" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Work project</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-work-project">    
        <li>
    <a class="dropdown-item" href="./w_projet_1.html">
 <span class="dropdown-text">Proposal for a Maturity Continuum Model for Open Research Data (2019)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./w_projet_2.html">
 <span class="dropdown-text">Performance analysis of marathon runners using Strava data (in progress)</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-football-stories" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Football stories</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-football-stories">    
        <li>
    <a class="dropdown-item" href="./premiere_league.html">
 <span class="dropdown-text">Premier league - Simply the best</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./manchester.html">
 <span class="dropdown-text">Manchester - Blue or Red? (in progress)</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-tutorials" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Tutorials</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-tutorials">    
        <li>
    <a class="dropdown-item" href="./t_animated.html">
 <span class="dropdown-text">How to animate your plots with R? (in progress)</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/gr%C3%A9goire-urvoy-456347a8/"> <i class="bi bi-linkedin" role="img" aria-label="linkedin">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#house-prices-predictions-using-machine-learning-models" id="toc-house-prices-predictions-using-machine-learning-models" class="nav-link active" data-scroll-target="#house-prices-predictions-using-machine-learning-models">House prices predictions using machine learning models</a></li>
  </ul>
<div class="quarto-alternate-notebooks"><h2>Notebooks</h2><ul><li><a href="..\..\Documents\ML\Course_3\09_Course_project\House_prices_prediction-preview.html"><i class="bi bi-journal-code"></i>Packages</a></li></ul></div></nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">




<section id="house-prices-predictions-using-machine-learning-models" class="level1">
<h1>House prices predictions using machine learning models</h1>
<p>The goal of this project was to build several models of varying complexity that can predict house prices. Then, we compare the results.</p>
<p>The dataset contains about 3000 observations (i.e.&nbsp;houses) and 82 attributes. We use the first 2500 observations to fit our models and estimate prices for the 500 others.</p>
</section>
<div class="quarto-embed-nb-cell">
<section id="packages" class="level1">
<h1>Packages</h1>
<div id="cell-1" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span>  plt</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>matplotlib inline</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> math</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy <span class="im">import</span> stats</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LinearRegression</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> HuberRegressor</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> StandardScaler</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data-set" class="level1">
<h1>Data set</h1>
<div id="cell-3" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>data_df <span class="op">=</span> pd.read_csv(<span class="st">"/Users/gregoireurvoy/Documents/ML/Course 3/09. Course project/Project/house-prices.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-4" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'data_df shape:'</span>, data_df.shape) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>data_df shape: (2430, 82)</code></pre>
</div>
</div>
<div id="cell-5" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>data_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Order</th>
<th data-quarto-table-cell-role="th">PID</th>
<th data-quarto-table-cell-role="th">MS SubClass</th>
<th data-quarto-table-cell-role="th">MS Zoning</th>
<th data-quarto-table-cell-role="th">Lot Frontage</th>
<th data-quarto-table-cell-role="th">Lot Area</th>
<th data-quarto-table-cell-role="th">Street</th>
<th data-quarto-table-cell-role="th">Alley</th>
<th data-quarto-table-cell-role="th">Lot Shape</th>
<th data-quarto-table-cell-role="th">Land Contour</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Pool Area</th>
<th data-quarto-table-cell-role="th">Pool QC</th>
<th data-quarto-table-cell-role="th">Fence</th>
<th data-quarto-table-cell-role="th">Misc Feature</th>
<th data-quarto-table-cell-role="th">Misc Val</th>
<th data-quarto-table-cell-role="th">Mo Sold</th>
<th data-quarto-table-cell-role="th">Yr Sold</th>
<th data-quarto-table-cell-role="th">Sale Type</th>
<th data-quarto-table-cell-role="th">Sale Condition</th>
<th data-quarto-table-cell-role="th">SalePrice</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>484</td>
<td>528275070</td>
<td>60</td>
<td>RL</td>
<td>NaN</td>
<td>8795</td>
<td>Pave</td>
<td>NaN</td>
<td>IR1</td>
<td>Lvl</td>
<td>...</td>
<td>0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0</td>
<td>4</td>
<td>2009</td>
<td>WD</td>
<td>Normal</td>
<td>236000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2586</td>
<td>535305120</td>
<td>20</td>
<td>RL</td>
<td>75.0</td>
<td>10170</td>
<td>Pave</td>
<td>NaN</td>
<td>Reg</td>
<td>Lvl</td>
<td>...</td>
<td>0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0</td>
<td>6</td>
<td>2006</td>
<td>WD</td>
<td>Normal</td>
<td>155000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2289</td>
<td>923228250</td>
<td>160</td>
<td>RM</td>
<td>21.0</td>
<td>2001</td>
<td>Pave</td>
<td>NaN</td>
<td>Reg</td>
<td>Lvl</td>
<td>...</td>
<td>0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0</td>
<td>1</td>
<td>2007</td>
<td>WD</td>
<td>Normal</td>
<td>75000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>142</td>
<td>535152150</td>
<td>20</td>
<td>RL</td>
<td>70.0</td>
<td>10552</td>
<td>Pave</td>
<td>NaN</td>
<td>IR1</td>
<td>Lvl</td>
<td>...</td>
<td>0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0</td>
<td>4</td>
<td>2010</td>
<td>WD</td>
<td>Normal</td>
<td>165500</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2042</td>
<td>903475060</td>
<td>190</td>
<td>RM</td>
<td>60.0</td>
<td>10120</td>
<td>Pave</td>
<td>NaN</td>
<td>IR1</td>
<td>Bnk</td>
<td>...</td>
<td>0</td>
<td>NaN</td>
<td>MnPrv</td>
<td>NaN</td>
<td>0</td>
<td>1</td>
<td>2007</td>
<td>WD</td>
<td>Normal</td>
<td>122000</td>
</tr>
</tbody>
</table>

<p>5 rows × 82 columns</p>
</div>
</div>
</div>
</section>
<section id="data-cleaning" class="level1">
<h1>1. Data cleaning:</h1>
<div id="cell-7" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>data_df.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 2430 entries, 0 to 2429
Data columns (total 82 columns):
Order              2430 non-null int64
PID                2430 non-null int64
MS SubClass        2430 non-null int64
MS Zoning          2430 non-null object
Lot Frontage       2010 non-null float64
Lot Area           2430 non-null int64
Street             2430 non-null object
Alley              163 non-null object
Lot Shape          2430 non-null object
Land Contour       2430 non-null object
Utilities          2430 non-null object
Lot Config         2430 non-null object
Land Slope         2430 non-null object
Neighborhood       2430 non-null object
Condition 1        2430 non-null object
Condition 2        2430 non-null object
Bldg Type          2430 non-null object
House Style        2430 non-null object
Overall Qual       2430 non-null int64
Overall Cond       2430 non-null int64
Year Built         2430 non-null int64
Year Remod/Add     2430 non-null int64
Roof Style         2430 non-null object
Roof Matl          2430 non-null object
Exterior 1st       2430 non-null object
Exterior 2nd       2430 non-null object
Mas Vnr Type       2410 non-null object
Mas Vnr Area       2410 non-null float64
Exter Qual         2430 non-null object
Exter Cond         2430 non-null object
Foundation         2430 non-null object
Bsmt Qual          2359 non-null object
Bsmt Cond          2359 non-null object
Bsmt Exposure      2356 non-null object
BsmtFin Type 1     2359 non-null object
BsmtFin SF 1       2429 non-null float64
BsmtFin Type 2     2358 non-null object
BsmtFin SF 2       2429 non-null float64
Bsmt Unf SF        2429 non-null float64
Total Bsmt SF      2429 non-null float64
Heating            2430 non-null object
Heating QC         2430 non-null object
Central Air        2430 non-null object
Electrical         2429 non-null object
1st Flr SF         2430 non-null int64
2nd Flr SF         2430 non-null int64
Low Qual Fin SF    2430 non-null int64
Gr Liv Area        2430 non-null int64
Bsmt Full Bath     2428 non-null float64
Bsmt Half Bath     2428 non-null float64
Full Bath          2430 non-null int64
Half Bath          2430 non-null int64
Bedroom AbvGr      2430 non-null int64
Kitchen AbvGr      2430 non-null int64
Kitchen Qual       2430 non-null object
TotRms AbvGrd      2430 non-null int64
Functional         2430 non-null object
Fireplaces         2430 non-null int64
Fireplace Qu       1244 non-null object
Garage Type        2294 non-null object
Garage Yr Blt      2292 non-null float64
Garage Finish      2292 non-null object
Garage Cars        2429 non-null float64
Garage Area        2429 non-null float64
Garage Qual        2292 non-null object
Garage Cond        2292 non-null object
Paved Drive        2430 non-null object
Wood Deck SF       2430 non-null int64
Open Porch SF      2430 non-null int64
Enclosed Porch     2430 non-null int64
3Ssn Porch         2430 non-null int64
Screen Porch       2430 non-null int64
Pool Area          2430 non-null int64
Pool QC            12 non-null object
Fence              489 non-null object
Misc Feature       90 non-null object
Misc Val           2430 non-null int64
Mo Sold            2430 non-null int64
Yr Sold            2430 non-null int64
Sale Type          2430 non-null object
Sale Condition     2430 non-null object
SalePrice          2430 non-null int64
dtypes: float64(11), int64(28), object(43)
memory usage: 1.5+ MB</code></pre>
</div>
</div>
<p>The datatype seems correct for every columns except for the first column MS SubClass that should be an object and not an int64. To avoid any confusion, I change the labels of the column the following way:</p>
<div id="cell-9" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>change <span class="op">=</span> { <span class="dv">20</span>:<span class="st">"a"</span>, <span class="dv">30</span>:<span class="st">"b"</span>, <span class="dv">40</span>:<span class="st">"c"</span>, <span class="dv">45</span>:<span class="st">"d"</span>, <span class="dv">50</span>:<span class="st">"e"</span>, <span class="dv">60</span>:<span class="st">"f"</span>, <span class="dv">70</span>:<span class="st">"g"</span>, <span class="dv">75</span>:<span class="st">"h"</span>, <span class="dv">80</span>:<span class="st">"i"</span>, <span class="dv">85</span>:<span class="st">"j"</span>, <span class="dv">90</span>:<span class="st">"k"</span>, <span class="dv">120</span>:<span class="st">"l"</span>, <span class="dv">150</span>:<span class="st">"m"</span>, <span class="dv">160</span>:<span class="st">"n"</span>, <span class="dv">180</span>:<span class="st">"o"</span>, <span class="dv">190</span>:<span class="st">"p"</span>}</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'MS SubClass'</span>]<span class="op">=</span> data_df[<span class="st">'MS SubClass'</span>].<span class="bu">map</span>(change)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'MS SubClass'</span>].head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>0    f
1    a
2    n
3    a
4    p
Name: MS SubClass, dtype: object</code></pre>
</div>
</div>
<p>I delete the two columns Order and PID since they do not provide usefull informations (they are only identifiers).</p>
<div id="cell-11" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>data_df <span class="op">=</span> data_df.drop([<span class="st">'Order'</span>, <span class="st">'PID'</span>], axis<span class="op">=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="duplicated-and-missing-values" class="level3">
<h3 class="anchored" data-anchor-id="duplicated-and-missing-values">Duplicated and missing values</h3>
<p>I check if there are duplicated values.</p>
<div id="cell-14" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>data_df.duplicated().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>0</code></pre>
</div>
</div>
<p>There is no duplicated values. I can check now the missing values.</p>
<div id="cell-16" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>col_NA <span class="op">=</span> [col <span class="cf">for</span> col <span class="kw">in</span> data_df.columns <span class="cf">if</span> data_df[col].isnull().<span class="bu">any</span>()]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-17" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>data_df[col_NA].isnull().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>Lot Frontage       420
Alley             2267
Mas Vnr Type        20
Mas Vnr Area        20
Bsmt Qual           71
Bsmt Cond           71
Bsmt Exposure       74
BsmtFin Type 1      71
BsmtFin SF 1         1
BsmtFin Type 2      72
BsmtFin SF 2         1
Bsmt Unf SF          1
Total Bsmt SF        1
Electrical           1
Bsmt Full Bath       2
Bsmt Half Bath       2
Fireplace Qu      1186
Garage Type        136
Garage Yr Blt      138
Garage Finish      138
Garage Cars          1
Garage Area          1
Garage Qual        138
Garage Cond        138
Pool QC           2418
Fence             1941
Misc Feature      2340
dtype: int64</code></pre>
</div>
</div>
<p>For some of these variables, the missing value NaN actually gives us information. For example, for the variable “Alley”, it means that the house does not have an alley. It doesn’t mean that the information is missing. Therefore, we should fill the NaN values with the string NA as indicated in the documentation. In some cases, it is maybe a true missing value, but for most of the cases it should be correct to make this hypothesis.</p>
<div id="cell-19" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'Alley'</span>].unique()</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>(data_df[<span class="st">'Alley'</span>] <span class="op">==</span> <span class="st">'NA'</span>).<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<pre><code>0</code></pre>
</div>
</div>
<div id="cell-20" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>(data_df[<span class="st">'Bsmt Qual'</span>] <span class="op">==</span> <span class="st">'NA'</span>).<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<pre><code>0</code></pre>
</div>
</div>
<div id="cell-21" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>(data_df[<span class="st">'Bsmt Cond'</span>] <span class="op">==</span> <span class="st">'NA'</span>).<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<pre><code>0</code></pre>
</div>
</div>
<div id="cell-22" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>(data_df[<span class="st">'Bsmt Exposure'</span>] <span class="op">==</span> <span class="st">'NA'</span>).<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>0</code></pre>
</div>
</div>
<div id="cell-23" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>(data_df[<span class="st">'BsmtFin Type 1'</span>] <span class="op">==</span> <span class="st">'NA'</span>).<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<pre><code>0</code></pre>
</div>
</div>
<div id="cell-24" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>(data_df[<span class="st">'BsmtFin Type 2'</span>] <span class="op">==</span> <span class="st">'NA'</span>).<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<pre><code>0</code></pre>
</div>
</div>
<div id="cell-25" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>(data_df[<span class="st">'Fireplace Qu'</span>] <span class="op">==</span> <span class="st">'NA'</span>).<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<pre><code>0</code></pre>
</div>
</div>
<div id="cell-26" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>(data_df[<span class="st">'Garage Type'</span>] <span class="op">==</span> <span class="st">'NA'</span>).<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>0</code></pre>
</div>
</div>
<div id="cell-27" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>(data_df[<span class="st">'Garage Finish'</span>] <span class="op">==</span> <span class="st">'NA'</span>).<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>0</code></pre>
</div>
</div>
<div id="cell-28" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>(data_df[<span class="st">'Garage Qual'</span>] <span class="op">==</span> <span class="st">'NA'</span>).<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<pre><code>0</code></pre>
</div>
</div>
<div id="cell-29" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>(data_df[<span class="st">'Garage Cond'</span>] <span class="op">==</span> <span class="st">'NA'</span>).<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<pre><code>0</code></pre>
</div>
</div>
<div id="cell-30" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>(data_df[<span class="st">'Pool QC'</span>] <span class="op">==</span> <span class="st">'NA'</span>).<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>0</code></pre>
</div>
</div>
<div id="cell-31" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>(data_df[<span class="st">'Fence'</span>] <span class="op">==</span> <span class="st">'NA'</span>).<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<pre><code>0</code></pre>
</div>
</div>
<div id="cell-32" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>(data_df[<span class="st">'Misc Feature'</span>] <span class="op">==</span> <span class="st">'NA'</span>).<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">
<pre><code>0</code></pre>
</div>
</div>
<div id="cell-33" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'Alley'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'Bsmt Qual'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'Bsmt Cond'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'Bsmt Exposure'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'BsmtFin Type 1'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'BsmtFin Type 2'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'Fireplace Qu'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'Garage Type'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'Garage Finish'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'Garage Qual'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'Garage Cond'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'Pool QC'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'Fence'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'Misc Feature'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-34" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>col_NA2 <span class="op">=</span> [col <span class="cf">for</span> col <span class="kw">in</span> data_df.columns <span class="cf">if</span> data_df[col].isnull().<span class="bu">any</span>()]</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>data_df[col_NA2].isnull().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<pre><code>Lot Frontage      420
Mas Vnr Type       20
Mas Vnr Area       20
BsmtFin SF 1        1
BsmtFin SF 2        1
Bsmt Unf SF         1
Total Bsmt SF       1
Electrical          1
Bsmt Full Bath      2
Bsmt Half Bath      2
Garage Yr Blt     138
Garage Cars         1
Garage Area         1
dtype: int64</code></pre>
</div>
</div>
<p>I decide to delete the rows where there is only 1 or 2 missing values in the variable. It should not impact the overall results of the analysis since we have more than 2000 rows.</p>
<div id="cell-36" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>data_df.dropna(subset<span class="op">=</span>[<span class="st">'BsmtFin SF 1'</span>, <span class="st">'BsmtFin SF 2'</span>,<span class="st">'Bsmt Unf SF'</span>,<span class="st">'Total Bsmt SF'</span>,<span class="st">'Electrical'</span>,<span class="st">'Bsmt Full Bath'</span>,<span class="st">'Bsmt Half Bath'</span>,<span class="st">'Garage Cars'</span>,<span class="st">'Garage Area'</span>],inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-37" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>col_NA3 <span class="op">=</span> [col <span class="cf">for</span> col <span class="kw">in</span> data_df.columns <span class="cf">if</span> data_df[col].isnull().<span class="bu">any</span>()]</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>data_df[col_NA3].isnull().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="28">
<pre><code>Lot Frontage     420
Mas Vnr Type      20
Mas Vnr Area      20
Garage Yr Blt    137
dtype: int64</code></pre>
</div>
</div>
<p>For the last 4 ones, we need to investigate the variables one by one.</p>
<ul>
<li>Lot Frontage:</li>
</ul>
<div id="cell-40" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'Lot Frontage'</span>].value_counts()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="29">
<pre><code>60.0     229
80.0     112
70.0     104
50.0      98
75.0      87
65.0      74
85.0      67
63.0      43
78.0      42
24.0      42
90.0      42
68.0      40
21.0      40
64.0      34
72.0      33
74.0      31
52.0      26
73.0      25
100.0     25
62.0      24
51.0      23
55.0      23
79.0      22
82.0      22
57.0      20
66.0      20
40.0      19
76.0      19
59.0      19
44.0      18
        ... 
134.0      2
313.0      2
115.0      2
140.0      2
128.0      2
130.0      2
121.0      2
125.0      2
116.0      2
38.0       2
122.0      2
200.0      1
182.0      1
138.0      1
195.0      1
152.0      1
33.0       1
126.0      1
168.0      1
150.0      1
135.0      1
136.0      1
22.0       1
31.0       1
25.0       1
155.0      1
113.0      1
119.0      1
133.0      1
141.0      1
Name: Lot Frontage, Length: 120, dtype: int64</code></pre>
</div>
</div>
<p>This variable is continuous and measures the linear feet of street connected to property. In order to limit the effects of potential outliers, I decided to fill the missing values by the median value of the varialbe.</p>
<div id="cell-42" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'Lot Frontage'</span>].fillna(value<span class="op">=</span>data_df[<span class="st">'Lot Frontage'</span>].median(), inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Mas Vnr Type &amp; Mas Vnr Area:</li>
</ul>
<div id="cell-44" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'Mas Vnr Type'</span>].value_counts()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="31">
<pre><code>None       1438
BrkFace     736
Stone       210
BrkCmn       21
CBlock        1
Name: Mas Vnr Type, dtype: int64</code></pre>
</div>
</div>
<div id="cell-45" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'Mas Vnr Area'</span>].value_counts()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="32">
<pre><code>0.0       1434
120.0       14
200.0       12
144.0       11
176.0       10
196.0        9
108.0        9
16.0         9
180.0        9
210.0        9
216.0        9
72.0         9
128.0        8
164.0        7
178.0        7
170.0        7
40.0         7
256.0        7
456.0        7
302.0        7
174.0        7
340.0        7
80.0         7
240.0        7
50.0         6
420.0        6
260.0        6
203.0        6
186.0        6
132.0        6
          ... 
528.0        1
53.0         1
1170.0       1
283.0        1
568.0        1
263.0        1
562.0        1
970.0        1
571.0        1
221.0        1
530.0        1
376.0        1
254.0        1
291.0        1
102.0        1
754.0        1
634.0        1
630.0        1
257.0        1
1050.0       1
522.0        1
323.0        1
428.0        1
418.0        1
616.0        1
440.0        1
664.0        1
760.0        1
57.0         1
394.0        1
Name: Mas Vnr Area, Length: 408, dtype: int64</code></pre>
</div>
</div>
<p>We can see that the most common value is None for the type of Masonry and 0 for the area. Let’s check the value of the type when there is a missing value for the Area.</p>
<div id="cell-47" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>data_df[data_df[<span class="st">'Mas Vnr Area'</span>].isnull()][<span class="st">'Mas Vnr Type'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="33">
<pre><code>66      NaN
83      NaN
101     NaN
159     NaN
201     NaN
270     NaN
352     NaN
447     NaN
456     NaN
457     NaN
465     NaN
624     NaN
851     NaN
891     NaN
1098    NaN
1480    NaN
1592    NaN
1832    NaN
2137    NaN
2219    NaN
Name: Mas Vnr Type, dtype: object</code></pre>
</div>
</div>
<p>When there is a missing value for the type, there is also a missing value for the area. Therefore I propose to replace the missing values the most common ones: None and 0.</p>
<div id="cell-49" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'Mas Vnr Area'</span>].fillna(value<span class="op">=</span><span class="dv">0</span>, inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-50" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'Mas Vnr Type'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Garage Yr Blt:</li>
</ul>
<div id="cell-52" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'Garage Yr Blt'</span>].value_counts()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="36">
<pre><code>2005.0    114
2007.0     90
2006.0     89
2004.0     84
2003.0     79
1977.0     58
2008.0     54
2002.0     46
1998.0     46
1976.0     45
1999.0     44
2000.0     44
1968.0     42
1993.0     42
1950.0     39
1978.0     38
2001.0     37
1958.0     36
1997.0     35
1954.0     34
1967.0     33
1974.0     33
1965.0     31
1956.0     31
1920.0     31
1959.0     30
1979.0     30
1994.0     30
1969.0     30
1960.0     29
         ... 
1936.0      7
1935.0      7
1922.0      6
1946.0      6
1924.0      6
1928.0      6
1900.0      5
1942.0      5
1927.0      5
1923.0      5
1915.0      5
1932.0      4
1921.0      4
1937.0      4
2010.0      4
1947.0      4
1916.0      4
1982.0      4
1934.0      3
1918.0      2
1931.0      2
1929.0      2
1917.0      2
1914.0      2
2207.0      1
1943.0      1
1933.0      1
1919.0      1
1896.0      1
1908.0      1
Name: Garage Yr Blt, Length: 101, dtype: int64</code></pre>
</div>
</div>
<p>We can therefore replace by the median in these cases.</p>
<div id="cell-54" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>np.median(data_df[data_df[<span class="st">'Garage Yr Blt'</span>] <span class="op">!=</span> <span class="st">'NA'</span>][<span class="st">'Garage Yr Blt'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="37">
<pre><code>nan</code></pre>
</div>
</div>
<div id="cell-55" class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'Garage Yr Blt'</span>].fillna(value<span class="op">=</span><span class="dv">1978</span>, inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-56" class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>data_df.isnull().<span class="bu">sum</span>().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="39">
<pre><code>0</code></pre>
</div>
</div>
<p>There is no more missing values.</p>
</section>
<section id="inconsistencies-in-the-variables" class="level3">
<h3 class="anchored" data-anchor-id="inconsistencies-in-the-variables">Inconsistencies in the variables</h3>
<p>To check potential inconsistencies, I need to be sure that: - if Bsmt Qual = 0, then Bsmt Cond, Bsmt Exposure, BsmtFin Type 1, BsmtFin Type 2 = NA, and BsmtFin SF 1, BsmtFin SF 2, Bsmt Unf SF, Total Bsmt SF, Bsmt Full Bath, Bsmt Half Bath = 0. - if House style = 1Story, then 2nd Flr SF = 0. - if Fireplaces == 0, then FireplaceQu == NA. - if Garage Type = NA, then Garage Yr Blt, Garage Finish, Garage Qual, Garage Cond = NA, and Garage Cars, Garage Area = 0. - if Pool QC = NA, then Pool Area = 0 (and vice versa). - if Misc Feature = 0, then Misc Val = 0 (and vice versa). - Yr Sold &gt; Year Built - Correct numbers: Lot Frontage, Lot Area, Mas Vnr Area, BsmtFin SF 1, BsmtFin SF 2, Bsmt Unf SF, Total Bsmt SF, 1st Flr SF, 2nd Fr SF, Low Qual Fin SF, Gr Liv Area, Bsmt Full bath, Bsmt Half Bath, Full Bath, Half Bath, Bedroom, Kitchen, TotRmsAbvGrd, Fireplaces, Garage Cars, Garage Area, Wood Deck SF, Open Porch SF, Enclosed Porch, 3-Ssn Porch, Screen Porch, Pool Area, Misc Val, SalePrice - Correct Years: Year Built, Year Remod/Add, Garage Yr Blt, Yr Sold</p>
<ul>
<li>Basement</li>
</ul>
<div id="cell-61" class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>data_df[(data_df[<span class="st">'Bsmt Qual'</span> ] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (data_df[<span class="st">'Bsmt Cond'</span>]<span class="op">!=</span> <span class="st">'NA'</span>)][[<span class="st">'Bsmt Qual'</span>,<span class="st">'Bsmt Cond'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="40">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Bsmt Qual</th>
<th data-quarto-table-cell-role="th">Bsmt Cond</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-62" class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>data_df[(data_df[<span class="st">'Bsmt Qual'</span> ] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (data_df[<span class="st">'Bsmt Exposure'</span>]<span class="op">!=</span> <span class="st">'NA'</span>)][[<span class="st">'Bsmt Qual'</span>,<span class="st">'Bsmt Exposure'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="41">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Bsmt Qual</th>
<th data-quarto-table-cell-role="th">Bsmt Exposure</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-63" class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>data_df[(data_df[<span class="st">'Bsmt Qual'</span> ] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (data_df[<span class="st">'BsmtFin Type 1'</span>]<span class="op">!=</span> <span class="st">'NA'</span>)][[<span class="st">'Bsmt Qual'</span>,<span class="st">'BsmtFin Type 1'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="42">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Bsmt Qual</th>
<th data-quarto-table-cell-role="th">BsmtFin Type 1</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-64" class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>data_df[(data_df[<span class="st">'Bsmt Qual'</span> ] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (data_df[<span class="st">'BsmtFin Type 2'</span>]<span class="op">!=</span> <span class="st">'NA'</span>)][[<span class="st">'Bsmt Qual'</span>,<span class="st">'BsmtFin Type 2'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="43">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Bsmt Qual</th>
<th data-quarto-table-cell-role="th">BsmtFin Type 2</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-65" class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>data_df[(data_df[<span class="st">'Bsmt Qual'</span> ] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (data_df[<span class="st">'BsmtFin SF 1'</span>]<span class="op">!=</span> <span class="dv">0</span>)][[<span class="st">'Bsmt Qual'</span>,<span class="st">'BsmtFin SF 1'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="44">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Bsmt Qual</th>
<th data-quarto-table-cell-role="th">BsmtFin SF 1</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-66" class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>data_df[(data_df[<span class="st">'Bsmt Qual'</span> ] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (data_df[<span class="st">'BsmtFin SF 2'</span>]<span class="op">!=</span> <span class="dv">0</span>)][[<span class="st">'Bsmt Qual'</span>,<span class="st">'BsmtFin SF 2'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="45">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Bsmt Qual</th>
<th data-quarto-table-cell-role="th">BsmtFin SF 2</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-67" class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>data_df[(data_df[<span class="st">'Bsmt Qual'</span> ] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (data_df[<span class="st">'Bsmt Unf SF'</span>]<span class="op">!=</span> <span class="dv">0</span>)][[<span class="st">'Bsmt Qual'</span>,<span class="st">'Bsmt Unf SF'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="46">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Bsmt Qual</th>
<th data-quarto-table-cell-role="th">Bsmt Unf SF</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-68" class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>data_df[(data_df[<span class="st">'Bsmt Qual'</span> ] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (data_df[<span class="st">'Total Bsmt SF'</span>]<span class="op">!=</span> <span class="dv">0</span>)][[<span class="st">'Bsmt Qual'</span>,<span class="st">'Total Bsmt SF'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="47">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Bsmt Qual</th>
<th data-quarto-table-cell-role="th">Total Bsmt SF</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-69" class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>data_df[(data_df[<span class="st">'Bsmt Qual'</span> ] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (data_df[<span class="st">'Bsmt Full Bath'</span>]<span class="op">!=</span> <span class="dv">0</span>)][[<span class="st">'Bsmt Qual'</span>,<span class="st">'Bsmt Full Bath'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="48">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Bsmt Qual</th>
<th data-quarto-table-cell-role="th">Bsmt Full Bath</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-70" class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>data_df[(data_df[<span class="st">'Bsmt Qual'</span> ] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (data_df[<span class="st">'Bsmt Half Bath'</span>]<span class="op">!=</span> <span class="dv">0</span>)][[<span class="st">'Bsmt Qual'</span>,<span class="st">'Bsmt Half Bath'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="49">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Bsmt Qual</th>
<th data-quarto-table-cell-role="th">Bsmt Half Bath</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<p>There is no inconsistency with the basement variables.</p>
<ul>
<li>House Style</li>
</ul>
<div id="cell-73" class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>data_df[(data_df[<span class="st">'House Style'</span> ] <span class="op">==</span> <span class="st">'1Story'</span>) <span class="op">&amp;</span> (data_df[<span class="st">'2nd Flr SF'</span>]<span class="op">!=</span> <span class="dv">0</span>)][[<span class="st">'House Style'</span>,<span class="st">'2nd Flr SF'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="50">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">House Style</th>
<th data-quarto-table-cell-role="th">2nd Flr SF</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">247</td>
<td>1Story</td>
<td>192</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1136</td>
<td>1Story</td>
<td>467</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1308</td>
<td>1Story</td>
<td>144</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Since it does not make sense to have the surface of area of the 2nd Floor for an house of one story, I replace the area by 0 in these cases.</p>
<div id="cell-75" class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>data_df.loc[<span class="dv">247</span>,<span class="st">'2nd Flr SF'</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>data_df.loc[<span class="dv">1136</span>,<span class="st">'2nd Flr SF'</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>data_df.loc[<span class="dv">1308</span>,<span class="st">'2nd Flr SF'</span>] <span class="op">=</span> <span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Fireplace</li>
</ul>
<div id="cell-77" class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>data_df[(data_df[<span class="st">'Fireplaces'</span>] <span class="op">==</span> <span class="dv">0</span>) <span class="op">&amp;</span> (data_df[<span class="st">'Fireplace Qu'</span>]<span class="op">!=</span> <span class="st">'NA'</span>)][[<span class="st">'Fireplaces'</span>,<span class="st">'Fireplace Qu'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="52">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Fireplaces</th>
<th data-quarto-table-cell-role="th">Fireplace Qu</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<p>There is no inconsistency with the fireplace variable.</p>
<ul>
<li>Garage</li>
</ul>
<div id="cell-80" class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>data_df[(data_df[<span class="st">'Garage Type'</span>] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (data_df[<span class="st">'Garage Yr Blt'</span>]<span class="op">!=</span> <span class="dv">1978</span>)][[<span class="st">'Garage Type'</span>,<span class="st">'Garage Yr Blt'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="53">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Garage Type</th>
<th data-quarto-table-cell-role="th">Garage Yr Blt</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-81" class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>data_df[(data_df[<span class="st">'Garage Type'</span>] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (data_df[<span class="st">'Garage Finish'</span>]<span class="op">!=</span> <span class="st">'NA'</span>)][[<span class="st">'Garage Type'</span>,<span class="st">'Garage Finish'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="54">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Garage Type</th>
<th data-quarto-table-cell-role="th">Garage Finish</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-82" class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>data_df[(data_df[<span class="st">'Garage Type'</span>] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (data_df[<span class="st">'Garage Cars'</span>]<span class="op">!=</span> <span class="dv">0</span>)][[<span class="st">'Garage Type'</span>,<span class="st">'Garage Cars'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="55">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Garage Type</th>
<th data-quarto-table-cell-role="th">Garage Cars</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-83" class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>data_df[(data_df[<span class="st">'Garage Type'</span>] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (data_df[<span class="st">'Garage Area'</span>]<span class="op">!=</span> <span class="dv">0</span>)][[<span class="st">'Garage Type'</span>,<span class="st">'Garage Area'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="56">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Garage Type</th>
<th data-quarto-table-cell-role="th">Garage Area</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-84" class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>data_df[(data_df[<span class="st">'Garage Type'</span>] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (data_df[<span class="st">'Garage Qual'</span>]<span class="op">!=</span> <span class="st">'NA'</span>)][[<span class="st">'Garage Type'</span>,<span class="st">'Garage Qual'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="57">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Garage Type</th>
<th data-quarto-table-cell-role="th">Garage Qual</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-85" class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>data_df[(data_df[<span class="st">'Garage Type'</span>] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (data_df[<span class="st">'Garage Cond'</span>]<span class="op">!=</span> <span class="st">'NA'</span>)][[<span class="st">'Garage Type'</span>,<span class="st">'Garage Cond'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="58">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Garage Type</th>
<th data-quarto-table-cell-role="th">Garage Cond</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<p>There is no inconsistency with the garage variables.</p>
<ul>
<li>Pool</li>
</ul>
<div id="cell-88" class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>data_df[(data_df[<span class="st">'Pool QC'</span> ] <span class="op">!=</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (data_df[<span class="st">'Pool Area'</span>]<span class="op">==</span> <span class="dv">0</span>)][[<span class="st">'Pool QC'</span>,<span class="st">'Pool Area'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="59">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Pool QC</th>
<th data-quarto-table-cell-role="th">Pool Area</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-89" class="cell" data-execution_count="60">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>data_df[(data_df[<span class="st">'Pool QC'</span> ] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (data_df[<span class="st">'Pool Area'</span>]<span class="op">!=</span> <span class="dv">0</span>)][[<span class="st">'Pool QC'</span>,<span class="st">'Pool Area'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="60">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Pool QC</th>
<th data-quarto-table-cell-role="th">Pool Area</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<p>There is no inconsistency with the pool variable.</p>
<ul>
<li>Misc</li>
</ul>
<div id="cell-92" class="cell" data-execution_count="61">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>data_df[(data_df[<span class="st">'Misc Feature'</span> ] <span class="op">!=</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (data_df[<span class="st">'Misc Val'</span>]<span class="op">==</span> <span class="dv">0</span>)][[<span class="st">'Misc Feature'</span>,<span class="st">'Misc Val'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="61">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Misc Feature</th>
<th data-quarto-table-cell-role="th">Misc Val</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1690</td>
<td>Shed</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2012</td>
<td>Shed</td>
<td>0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-93" class="cell" data-execution_count="62">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>data_df[(data_df[<span class="st">'Misc Feature'</span> ] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (data_df[<span class="st">'Misc Val'</span>]<span class="op">!=</span> <span class="dv">0</span>)][[<span class="st">'Misc Feature'</span>,<span class="st">'Misc Val'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="62">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Misc Feature</th>
<th data-quarto-table-cell-role="th">Misc Val</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<p>It is unlikely that a shed is worth 0, so I replace the misc feature by NA in these 2 cases.</p>
<div id="cell-95" class="cell" data-execution_count="63">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>data_df.loc[<span class="dv">1690</span>,<span class="st">'Misc Feature'</span>] <span class="op">=</span> <span class="st">'NA'</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>data_df.loc[<span class="dv">2012</span>,<span class="st">'Misc Feature'</span>] <span class="op">=</span> <span class="st">'NA'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Year Built:</li>
</ul>
<div id="cell-97" class="cell" data-execution_count="64">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>(data_df[<span class="st">'Year Built'</span>] <span class="op">&gt;</span> data_df[<span class="st">'Yr Sold'</span>]).<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="64">
<pre><code>1</code></pre>
</div>
</div>
<div id="cell-98" class="cell" data-execution_count="65">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>data_df[(data_df[<span class="st">'Year Built'</span>] <span class="op">&gt;</span> data_df[<span class="st">'Yr Sold'</span>]) <span class="op">==</span> <span class="va">True</span>][[<span class="st">'Year Built'</span>,<span class="st">'Yr Sold'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="65">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Year Built</th>
<th data-quarto-table-cell-role="th">Yr Sold</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">71</td>
<td>2008</td>
<td>2007</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Since it does not make sense in this case, I replace the year built by ‘NA’.</p>
<div id="cell-100" class="cell" data-execution_count="66">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>data_df.loc[<span class="dv">71</span>,<span class="st">'Year Built'</span>] <span class="op">=</span> <span class="dv">1978</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Correct numbers:</li>
</ul>
<div id="cell-102" class="cell" data-execution_count="67">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>data_df[[<span class="st">'Lot Frontage'</span>,</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Lot Area'</span>, </span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Mas Vnr Area'</span>,</span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>         <span class="st">'BsmtFin SF 1'</span>,</span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a>         <span class="st">'BsmtFin SF 2'</span>,</span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Bsmt Unf SF'</span>,</span>
<span id="cb96-7"><a href="#cb96-7" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Total Bsmt SF'</span>,</span>
<span id="cb96-8"><a href="#cb96-8" aria-hidden="true" tabindex="-1"></a>         <span class="st">'1st Flr SF'</span>,</span>
<span id="cb96-9"><a href="#cb96-9" aria-hidden="true" tabindex="-1"></a>         <span class="st">'2nd Flr SF'</span>,</span>
<span id="cb96-10"><a href="#cb96-10" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Low Qual Fin SF'</span>,</span>
<span id="cb96-11"><a href="#cb96-11" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Gr Liv Area'</span>,</span>
<span id="cb96-12"><a href="#cb96-12" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Bsmt Full Bath'</span>,</span>
<span id="cb96-13"><a href="#cb96-13" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Bsmt Half Bath'</span>,</span>
<span id="cb96-14"><a href="#cb96-14" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Full Bath'</span>,</span>
<span id="cb96-15"><a href="#cb96-15" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Half Bath'</span>,</span>
<span id="cb96-16"><a href="#cb96-16" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Bedroom AbvGr'</span>,</span>
<span id="cb96-17"><a href="#cb96-17" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Kitchen AbvGr'</span>,</span>
<span id="cb96-18"><a href="#cb96-18" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Total Bsmt SF'</span>,</span>
<span id="cb96-19"><a href="#cb96-19" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Fireplaces'</span>,</span>
<span id="cb96-20"><a href="#cb96-20" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Garage Cars'</span>,</span>
<span id="cb96-21"><a href="#cb96-21" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Garage Area'</span>,</span>
<span id="cb96-22"><a href="#cb96-22" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Wood Deck SF'</span>,</span>
<span id="cb96-23"><a href="#cb96-23" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Open Porch SF'</span>,</span>
<span id="cb96-24"><a href="#cb96-24" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Enclosed Porch'</span>,</span>
<span id="cb96-25"><a href="#cb96-25" aria-hidden="true" tabindex="-1"></a>         <span class="st">'3Ssn Porch'</span>,</span>
<span id="cb96-26"><a href="#cb96-26" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Screen Porch'</span>,</span>
<span id="cb96-27"><a href="#cb96-27" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Pool Area'</span>,</span>
<span id="cb96-28"><a href="#cb96-28" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Misc Val'</span>,</span>
<span id="cb96-29"><a href="#cb96-29" aria-hidden="true" tabindex="-1"></a>         <span class="st">'SalePrice'</span>]].describe().T</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="67">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">count</th>
<th data-quarto-table-cell-role="th">mean</th>
<th data-quarto-table-cell-role="th">std</th>
<th data-quarto-table-cell-role="th">min</th>
<th data-quarto-table-cell-role="th">25%</th>
<th data-quarto-table-cell-role="th">50%</th>
<th data-quarto-table-cell-role="th">75%</th>
<th data-quarto-table-cell-role="th">max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Lot Frontage</td>
<td>2426.0</td>
<td>68.965787</td>
<td>21.342066</td>
<td>21.0</td>
<td>60.00</td>
<td>68.0</td>
<td>78.00</td>
<td>313.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Lot Area</td>
<td>2426.0</td>
<td>10230.875103</td>
<td>8326.905693</td>
<td>1470.0</td>
<td>7482.00</td>
<td>9500.0</td>
<td>11604.50</td>
<td>215245.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Mas Vnr Area</td>
<td>2426.0</td>
<td>101.322754</td>
<td>176.221672</td>
<td>0.0</td>
<td>0.00</td>
<td>0.0</td>
<td>164.00</td>
<td>1600.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">BsmtFin SF 1</td>
<td>2426.0</td>
<td>444.267519</td>
<td>457.553941</td>
<td>0.0</td>
<td>0.00</td>
<td>375.0</td>
<td>737.00</td>
<td>5644.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">BsmtFin SF 2</td>
<td>2426.0</td>
<td>51.136851</td>
<td>172.240590</td>
<td>0.0</td>
<td>0.00</td>
<td>0.0</td>
<td>0.00</td>
<td>1526.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Bsmt Unf SF</td>
<td>2426.0</td>
<td>556.882523</td>
<td>439.734434</td>
<td>0.0</td>
<td>216.00</td>
<td>462.0</td>
<td>800.50</td>
<td>2336.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Total Bsmt SF</td>
<td>2426.0</td>
<td>1052.286892</td>
<td>444.227724</td>
<td>0.0</td>
<td>794.25</td>
<td>990.0</td>
<td>1299.75</td>
<td>6110.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1st Flr SF</td>
<td>2426.0</td>
<td>1159.114592</td>
<td>389.545598</td>
<td>334.0</td>
<td>880.50</td>
<td>1086.0</td>
<td>1387.75</td>
<td>5095.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2nd Flr SF</td>
<td>2426.0</td>
<td>326.251443</td>
<td>419.651918</td>
<td>0.0</td>
<td>0.00</td>
<td>0.0</td>
<td>698.00</td>
<td>2065.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Low Qual Fin SF</td>
<td>2426.0</td>
<td>4.594394</td>
<td>47.254734</td>
<td>0.0</td>
<td>0.00</td>
<td>0.0</td>
<td>0.00</td>
<td>1064.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Gr Liv Area</td>
<td>2426.0</td>
<td>1490.291426</td>
<td>494.130532</td>
<td>334.0</td>
<td>1120.00</td>
<td>1440.0</td>
<td>1740.00</td>
<td>5642.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Bsmt Full Bath</td>
<td>2426.0</td>
<td>0.434460</td>
<td>0.528011</td>
<td>0.0</td>
<td>0.00</td>
<td>0.0</td>
<td>1.00</td>
<td>3.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Bsmt Half Bath</td>
<td>2426.0</td>
<td>0.060181</td>
<td>0.243017</td>
<td>0.0</td>
<td>0.00</td>
<td>0.0</td>
<td>0.00</td>
<td>2.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Full Bath</td>
<td>2426.0</td>
<td>1.560181</td>
<td>0.547803</td>
<td>0.0</td>
<td>1.00</td>
<td>2.0</td>
<td>2.00</td>
<td>4.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Half Bath</td>
<td>2426.0</td>
<td>0.369332</td>
<td>0.501165</td>
<td>0.0</td>
<td>0.00</td>
<td>0.0</td>
<td>1.00</td>
<td>2.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Bedroom AbvGr</td>
<td>2426.0</td>
<td>2.842127</td>
<td>0.816968</td>
<td>0.0</td>
<td>2.00</td>
<td>3.0</td>
<td>3.00</td>
<td>8.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Kitchen AbvGr</td>
<td>2426.0</td>
<td>1.042869</td>
<td>0.208620</td>
<td>0.0</td>
<td>1.00</td>
<td>1.0</td>
<td>1.00</td>
<td>3.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Total Bsmt SF</td>
<td>2426.0</td>
<td>1052.286892</td>
<td>444.227724</td>
<td>0.0</td>
<td>794.25</td>
<td>990.0</td>
<td>1299.75</td>
<td>6110.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Fireplaces</td>
<td>2426.0</td>
<td>0.595218</td>
<td>0.646164</td>
<td>0.0</td>
<td>0.00</td>
<td>1.0</td>
<td>1.00</td>
<td>4.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Garage Cars</td>
<td>2426.0</td>
<td>1.762572</td>
<td>0.758523</td>
<td>0.0</td>
<td>1.00</td>
<td>2.0</td>
<td>2.00</td>
<td>4.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Garage Area</td>
<td>2426.0</td>
<td>472.025556</td>
<td>215.824704</td>
<td>0.0</td>
<td>324.00</td>
<td>478.0</td>
<td>576.00</td>
<td>1488.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Wood Deck SF</td>
<td>2426.0</td>
<td>93.959604</td>
<td>128.173796</td>
<td>0.0</td>
<td>0.00</td>
<td>0.0</td>
<td>168.00</td>
<td>1424.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Open Porch SF</td>
<td>2426.0</td>
<td>47.016076</td>
<td>66.833834</td>
<td>0.0</td>
<td>0.00</td>
<td>27.0</td>
<td>70.00</td>
<td>742.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Enclosed Porch</td>
<td>2426.0</td>
<td>22.244023</td>
<td>62.313936</td>
<td>0.0</td>
<td>0.00</td>
<td>0.0</td>
<td>0.00</td>
<td>1012.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3Ssn Porch</td>
<td>2426.0</td>
<td>2.475680</td>
<td>24.900553</td>
<td>0.0</td>
<td>0.00</td>
<td>0.0</td>
<td>0.00</td>
<td>508.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Screen Porch</td>
<td>2426.0</td>
<td>16.556472</td>
<td>56.865103</td>
<td>0.0</td>
<td>0.00</td>
<td>0.0</td>
<td>0.00</td>
<td>490.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Pool Area</td>
<td>2426.0</td>
<td>2.405194</td>
<td>36.141627</td>
<td>0.0</td>
<td>0.00</td>
<td>0.0</td>
<td>0.00</td>
<td>800.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Misc Val</td>
<td>2426.0</td>
<td>56.272465</td>
<td>617.165693</td>
<td>0.0</td>
<td>0.00</td>
<td>0.0</td>
<td>0.00</td>
<td>17000.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">SalePrice</td>
<td>2426.0</td>
<td>180215.640561</td>
<td>79615.671593</td>
<td>12789.0</td>
<td>129000.00</td>
<td>160000.0</td>
<td>213099.75</td>
<td>755000.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>There are no negatives numbers and no extreme values. So the data seem consistent here. I will check again the extreme values later.</p>
<ul>
<li>Correct years:</li>
</ul>
<div id="cell-105" class="cell" data-execution_count="68">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>data_df[[<span class="st">'Year Built'</span>,<span class="st">'Year Remod/Add'</span>,<span class="st">'Yr Sold'</span>]].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="68">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Year Built</th>
<th data-quarto-table-cell-role="th">Year Remod/Add</th>
<th data-quarto-table-cell-role="th">Yr Sold</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>2426.000000</td>
<td>2426.000000</td>
<td>2426.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>1971.176010</td>
<td>1984.232481</td>
<td>2007.783594</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>30.194448</td>
<td>20.747941</td>
<td>1.312806</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>1875.000000</td>
<td>1950.000000</td>
<td>2006.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>1954.000000</td>
<td>1966.000000</td>
<td>2007.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>1973.000000</td>
<td>1993.000000</td>
<td>2008.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>2000.000000</td>
<td>2003.000000</td>
<td>2009.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>2010.000000</td>
<td>2010.000000</td>
<td>2010.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-106" class="cell" data-execution_count="69">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>GarageYrBlt <span class="op">=</span> data_df[<span class="st">'Garage Yr Blt'</span>].convert_objects(convert_numeric<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>GarageYrBlt <span class="op">=</span> GarageYrBlt.convert_objects(convert_numeric<span class="op">=</span><span class="va">True</span>).dropna()</span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>GarageYrBlt.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="69">
<pre><code>count    2426.000000
mean     1977.877988
std        24.810639
min      1896.000000
25%      1962.000000
50%      1978.000000
75%      2001.000000
max      2207.000000
Name: Garage Yr Blt, dtype: float64</code></pre>
</div>
</div>
<div id="cell-107" class="cell" data-execution_count="70">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>data_df[data_df[<span class="st">'Garage Yr Blt'</span>] <span class="op">==</span> <span class="dv">2207</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="70">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">MS SubClass</th>
<th data-quarto-table-cell-role="th">MS Zoning</th>
<th data-quarto-table-cell-role="th">Lot Frontage</th>
<th data-quarto-table-cell-role="th">Lot Area</th>
<th data-quarto-table-cell-role="th">Street</th>
<th data-quarto-table-cell-role="th">Alley</th>
<th data-quarto-table-cell-role="th">Lot Shape</th>
<th data-quarto-table-cell-role="th">Land Contour</th>
<th data-quarto-table-cell-role="th">Utilities</th>
<th data-quarto-table-cell-role="th">Lot Config</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Pool Area</th>
<th data-quarto-table-cell-role="th">Pool QC</th>
<th data-quarto-table-cell-role="th">Fence</th>
<th data-quarto-table-cell-role="th">Misc Feature</th>
<th data-quarto-table-cell-role="th">Misc Val</th>
<th data-quarto-table-cell-role="th">Mo Sold</th>
<th data-quarto-table-cell-role="th">Yr Sold</th>
<th data-quarto-table-cell-role="th">Sale Type</th>
<th data-quarto-table-cell-role="th">Sale Condition</th>
<th data-quarto-table-cell-role="th">SalePrice</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2219</td>
<td>a</td>
<td>RL</td>
<td>68.0</td>
<td>8298</td>
<td>Pave</td>
<td>NA</td>
<td>IR1</td>
<td>HLS</td>
<td>AllPub</td>
<td>Inside</td>
<td>...</td>
<td>0</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>0</td>
<td>9</td>
<td>2007</td>
<td>New</td>
<td>Partial</td>
<td>267300</td>
</tr>
</tbody>
</table>

<p>1 rows × 80 columns</p>
</div>
</div>
</div>
<p>Since a year of 2207 is not possible, I actually replace this value by the median.</p>
<div id="cell-109" class="cell" data-execution_count="71">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>data_df.loc[<span class="dv">2219</span>,<span class="st">'Garage Yr Blt'</span>] <span class="op">=</span> <span class="dv">1978</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="handle-outliers" class="level3">
<h3 class="anchored" data-anchor-id="handle-outliers">Handle outliers</h3>
<p>We can start by the special notes of the documentation that specifies some outliers. The notes recommends to remove any houses with more than 4000 square feet from the data set.</p>
<div id="cell-112" class="cell" data-execution_count="72">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>(data_df[<span class="st">'Gr Liv Area'</span>] <span class="op">&gt;</span> <span class="dv">4000</span>).<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="72">
<pre><code>4</code></pre>
</div>
</div>
<div id="cell-113" class="cell" data-execution_count="73">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>plt.scatter(data_df[<span class="st">'Gr Liv Area'</span>],data_df[<span class="st">'SalePrice'</span>])</span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Living area in square feet'</span>)</span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Sale price in </span></span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a><span class="er">);</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="projet_3_files/figure-html/cell-74-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Indeed, these datapoints seem to be outliers. I remove them from the dataset.</p>
<div id="cell-115" class="cell" data-execution_count="74">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>data_df <span class="op">=</span> data_df[data_df[<span class="st">'Gr Liv Area'</span>] <span class="op">&lt;</span> <span class="dv">4000</span>]</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>plt.scatter(data_df[<span class="st">'Gr Liv Area'</span>],data_df[<span class="st">'SalePrice'</span>])</span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Living area in square feet'</span>)</span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Sale price in </span></span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a><span class="er">);</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="projet_3_files/figure-html/cell-75-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Now, I can check all the other variables.</p>
<div id="cell-117" class="cell" data-execution_count="75">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>cols <span class="op">=</span> data_df.select_dtypes(include<span class="op">=</span>[<span class="st">'float64'</span>]).columns</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>cols <span class="op">=</span> cols.append(data_df.select_dtypes(include<span class="op">=</span>[<span class="st">'int64'</span>]).columns)</span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a>fig,axes <span class="op">=</span> plt.subplots(nrows<span class="op">=</span><span class="dv">9</span>,ncols<span class="op">=</span><span class="dv">4</span>,figsize<span class="op">=</span>(<span class="dv">16</span>,<span class="dv">40</span>))</span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col,ax <span class="kw">in</span> <span class="bu">zip</span>(cols,axes.ravel()):</span>
<span id="cb106-7"><a href="#cb106-7" aria-hidden="true" tabindex="-1"></a>    ax.boxplot(data_df[col],whis<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb106-8"><a href="#cb106-8" aria-hidden="true" tabindex="-1"></a>    ax.set_title(col)   </span>
<span id="cb106-9"><a href="#cb106-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-10"><a href="#cb106-10" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="projet_3_files/figure-html/cell-76-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>For some variables, it is better to visualize the boxplots without the 0 values. For example, a 0 value for the variable basement full bath does not necessarily mean no bathrooms. Indeed, it can also mean no basement. I replot these variables to better visualize the outliers.</p>
<div id="cell-119" class="cell" data-execution_count="76">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>NoZerosCols <span class="op">=</span> [<span class="st">'Mas Vnr Area'</span>,<span class="st">'BsmtFin SF 1'</span>,<span class="st">'BsmtFin SF 2'</span>, <span class="st">'Bsmt Unf SF'</span>,<span class="st">'Total Bsmt SF'</span>,<span class="st">'2nd Flr SF'</span>,<span class="st">'Bsmt Full Bath'</span>, <span class="st">'Bsmt Half Bath'</span></span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>               ,<span class="st">'Fireplaces'</span>, <span class="st">'Garage Cars'</span>, <span class="st">'Garage Area'</span>,<span class="st">'Wood Deck SF'</span>,<span class="st">'Open Porch SF'</span>,<span class="st">'Enclosed Porch'</span>,<span class="st">'3Ssn Porch'</span>,</span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>               <span class="st">'Screen Porch'</span>,<span class="st">'Pool Area'</span>,<span class="st">'Misc Val'</span>]</span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(NoZerosCols)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="76">
<pre><code>18</code></pre>
</div>
</div>
<div id="cell-120" class="cell" data-execution_count="77">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>fig,axes <span class="op">=</span> plt.subplots(nrows<span class="op">=</span><span class="dv">5</span>,ncols<span class="op">=</span><span class="dv">4</span>,figsize<span class="op">=</span> (<span class="dv">20</span>,<span class="dv">50</span>))</span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col,ax <span class="kw">in</span> <span class="bu">zip</span>(NoZerosCols,axes.ravel()):</span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a>    ax.boxplot(data_df[data_df[col] <span class="op">!=</span> <span class="dv">0</span>][col])</span>
<span id="cb109-5"><a href="#cb109-5" aria-hidden="true" tabindex="-1"></a>    ax.set_title(col)   </span>
<span id="cb109-6"><a href="#cb109-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-7"><a href="#cb109-7" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="projet_3_files/figure-html/cell-78-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>From the boxplots, the dataset doesn’t seem to contain outliers or incorrect values. Some values are big but remain consistents with their respective distributions. I will use the Huber regressor later to take that into account. Therefore, I will work with this dataset for the next part of the project.</p>
</section>
</section>
<section id="feature-encoding" class="level1">
<h1>2. Feature encoding</h1>
<p>We basically have 4 types of variables: - continuous variables (e.g.&nbsp;Lot Area) - discrete variables (e.g.&nbsp;Year Built)<br>
- nominal variables (e.g.&nbsp;Type of dwelling) - ordinal variables (e.g.&nbsp;Utilities)</p>
<p>Continuous and discrete variables can remain in this format for the analysis. However, we have a problem for the nominal and ordinal variables.</p>
<p>For the nominal variables, I decide to replace their values with the One-hot encoding transformation. It makes sense because we cannot give an order for this kind of variable. What I mean is that there is no good or bad value. Therefore, creating dummy variables seem to be a good idea for me.</p>
<p>For the ordinal variables, I decide to replace their values by a scale beginning from “1” to “Variable.nunique()”, 1 being the worst value. I will use the value “0” to indicate the absence of the variable.</p>
<p>From the documentation, we can easily distinguish the 4 types of variables.</p>
<div id="cell-125" class="cell" data-execution_count="78">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>ContinuousVar <span class="op">=</span> [<span class="st">'Lot Frontage'</span>,<span class="st">'Lot Area'</span>,<span class="st">'Mas Vnr Area'</span>,<span class="st">'BsmtFin SF 1'</span>,<span class="st">'BsmtFin SF 2'</span>,<span class="st">'Bsmt Unf SF'</span>,<span class="st">'Total Bsmt SF'</span>,<span class="st">'1st Flr SF'</span>,</span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>                <span class="st">'2nd Flr SF'</span>, <span class="st">'Low Qual Fin SF'</span>,<span class="st">'Gr Liv Area'</span>,<span class="st">'Garage Area'</span>,<span class="st">'Wood Deck SF'</span>,<span class="st">'Open Porch SF'</span>,<span class="st">'Enclosed Porch'</span>,<span class="st">'3Ssn Porch'</span>,</span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a>                <span class="st">'Screen Porch'</span>,<span class="st">'Pool Area'</span>,<span class="st">'Misc Val'</span>]</span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a>DiscreteVar <span class="op">=</span> [<span class="st">'Year Built'</span>,<span class="st">'Year Remod/Add'</span>,<span class="st">'Bsmt Full Bath'</span>, <span class="st">'Bsmt Half Bath'</span> ,<span class="st">'Full Bath'</span>  ,<span class="st">'Half Bath'</span>,<span class="st">'Bedroom AbvGr'</span>,<span class="st">'Kitchen AbvGr'</span></span>
<span id="cb110-6"><a href="#cb110-6" aria-hidden="true" tabindex="-1"></a>              ,<span class="st">'TotRms AbvGrd'</span>,<span class="st">'Fireplaces'</span>,<span class="st">'Garage Yr Blt'</span>,<span class="st">'Garage Cars'</span>,<span class="st">'Mo Sold'</span>,<span class="st">'Yr Sold'</span>]</span>
<span id="cb110-7"><a href="#cb110-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-8"><a href="#cb110-8" aria-hidden="true" tabindex="-1"></a>NominalVar <span class="op">=</span> [<span class="st">'MS SubClass'</span>,<span class="st">'MS Zoning'</span>,<span class="st">'Street'</span>,<span class="st">'Alley'</span>,<span class="st">'Land Contour'</span>,<span class="st">'Lot Config'</span>,<span class="st">'Neighborhood'</span>,<span class="st">'Condition 1'</span>,<span class="st">'Condition 2'</span>,<span class="st">'Bldg Type'</span></span>
<span id="cb110-9"><a href="#cb110-9" aria-hidden="true" tabindex="-1"></a>             ,<span class="st">'House Style'</span>,<span class="st">'Roof Style'</span>,<span class="st">'Roof Matl'</span>,<span class="st">'Exterior 1st'</span>, <span class="st">'Exterior 2nd'</span>,<span class="st">'Mas Vnr Type'</span>,<span class="st">'Foundation'</span>,<span class="st">'Heating'</span>,<span class="st">'Central Air'</span>,</span>
<span id="cb110-10"><a href="#cb110-10" aria-hidden="true" tabindex="-1"></a>             <span class="st">'Garage Type'</span>, <span class="st">'Misc Feature'</span>,<span class="st">'Sale Type'</span>,<span class="st">'Sale Condition'</span>]</span>
<span id="cb110-11"><a href="#cb110-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-12"><a href="#cb110-12" aria-hidden="true" tabindex="-1"></a>OrdinalVar <span class="op">=</span> [<span class="st">'Lot Shape'</span>,<span class="st">'Utilities'</span>,<span class="st">'Land Slope'</span>,<span class="st">'Overall Qual'</span>,<span class="st">'Overall Cond'</span>,<span class="st">'Exter Qual'</span>,<span class="st">'Exter Cond'</span>,<span class="st">'Bsmt Qual'</span>,<span class="st">'Bsmt Cond'</span>,</span>
<span id="cb110-13"><a href="#cb110-13" aria-hidden="true" tabindex="-1"></a>             <span class="st">'Bsmt Exposure'</span>,<span class="st">'BsmtFin Type 1'</span>,<span class="st">'BsmtFin Type 2'</span>,<span class="st">'Heating QC'</span>,<span class="st">'Electrical'</span>,<span class="st">'Kitchen Qual'</span>,<span class="st">'Functional'</span>,<span class="st">'Fireplace Qu'</span>,</span>
<span id="cb110-14"><a href="#cb110-14" aria-hidden="true" tabindex="-1"></a>             <span class="st">'Garage Finish'</span>,<span class="st">'Garage Qual'</span>,<span class="st">'Garage Cond'</span>,<span class="st">'Paved Drive'</span>,<span class="st">'Pool QC'</span>,<span class="st">'Fence'</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="ordinal-variables" class="level4">
<h4 class="anchored" data-anchor-id="ordinal-variables">Ordinal variables</h4>
<div id="cell-127" class="cell" data-execution_count="79">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'Lot Shape'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="79">
<pre><code>array(['IR1', 'Reg', 'IR2', 'IR3'], dtype=object)</code></pre>
</div>
</div>
<p>Unfortunately, the function unique does not order automatically the values from a feature. It takes the first unique values that comes row by row. So, I have to change the values “by hand”.</p>
<div id="cell-129" class="cell" data-execution_count="80">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>data_df[OrdinalVar[<span class="dv">0</span>]].replace({<span class="st">'Reg'</span>:<span class="dv">4</span>, <span class="st">'IR1'</span>:<span class="dv">3</span>,<span class="st">'IR2'</span>:<span class="dv">2</span>,<span class="st">'IR3'</span>:<span class="dv">1</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>data_df[OrdinalVar[<span class="dv">1</span>]].replace({<span class="st">'AllPub'</span>:<span class="dv">4</span>, <span class="st">'NoSewr'</span>:<span class="dv">3</span>,<span class="st">'NoSeWa'</span>:<span class="dv">2</span>,<span class="st">'ELO'</span>:<span class="dv">1</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a>data_df[OrdinalVar[<span class="dv">2</span>]].replace({ <span class="st">'Gtl'</span>:<span class="dv">3</span>,<span class="st">'Mod'</span>:<span class="dv">2</span>,<span class="st">'Sev'</span>:<span class="dv">1</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a><span class="co">### data_df[OrdinalVar[3]].replace({},inplace=True) (already in a numerical order)</span></span>
<span id="cb113-5"><a href="#cb113-5" aria-hidden="true" tabindex="-1"></a><span class="co">### data_df[OrdinalVar[4]].replace({},inplace=True) (already in a numerical order)</span></span>
<span id="cb113-6"><a href="#cb113-6" aria-hidden="true" tabindex="-1"></a>data_df[OrdinalVar[<span class="dv">5</span>]].replace({<span class="st">'Ex'</span>:<span class="dv">5</span>, <span class="st">'Gd'</span>:<span class="dv">4</span>, <span class="st">'TA'</span>:<span class="dv">3</span>,<span class="st">'Fa'</span>:<span class="dv">2</span>,<span class="st">'Po'</span>:<span class="dv">1</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb113-7"><a href="#cb113-7" aria-hidden="true" tabindex="-1"></a>data_df[OrdinalVar[<span class="dv">6</span>]].replace({<span class="st">'Ex'</span>:<span class="dv">5</span>, <span class="st">'Gd'</span>:<span class="dv">4</span>, <span class="st">'TA'</span>:<span class="dv">3</span>,<span class="st">'Fa'</span>:<span class="dv">2</span>,<span class="st">'Po'</span>:<span class="dv">1</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb113-8"><a href="#cb113-8" aria-hidden="true" tabindex="-1"></a>data_df[OrdinalVar[<span class="dv">7</span>]].replace({<span class="st">'Ex'</span>:<span class="dv">5</span>, <span class="st">'Gd'</span>:<span class="dv">4</span>, <span class="st">'TA'</span>:<span class="dv">3</span>,<span class="st">'Fa'</span>:<span class="dv">2</span>,<span class="st">'Po'</span>:<span class="dv">1</span>,<span class="st">'NA'</span>:<span class="dv">0</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb113-9"><a href="#cb113-9" aria-hidden="true" tabindex="-1"></a>data_df[OrdinalVar[<span class="dv">8</span>]].replace({<span class="st">'Ex'</span>:<span class="dv">5</span>, <span class="st">'Gd'</span>:<span class="dv">4</span>, <span class="st">'TA'</span>:<span class="dv">3</span>,<span class="st">'Fa'</span>:<span class="dv">2</span>,<span class="st">'Po'</span>:<span class="dv">1</span>, <span class="st">'NA'</span>:<span class="dv">0</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb113-10"><a href="#cb113-10" aria-hidden="true" tabindex="-1"></a>data_df[OrdinalVar[<span class="dv">9</span>]].replace({<span class="st">'Gd'</span>:<span class="dv">4</span>, <span class="st">'Av'</span>:<span class="dv">3</span>,<span class="st">'Mn'</span>:<span class="dv">2</span>,<span class="st">'No'</span>:<span class="dv">1</span>, <span class="st">'NA'</span>:<span class="dv">0</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb113-11"><a href="#cb113-11" aria-hidden="true" tabindex="-1"></a>data_df[OrdinalVar[<span class="dv">10</span>]].replace({<span class="st">'GLQ'</span>:<span class="dv">6</span>,<span class="st">'ALQ'</span>:<span class="dv">5</span>, <span class="st">'BLQ'</span>:<span class="dv">4</span>, <span class="st">'Rec'</span>:<span class="dv">3</span>,<span class="st">'LwQ'</span>:<span class="dv">2</span>,<span class="st">'Unf'</span>:<span class="dv">1</span>, <span class="st">'NA'</span>:<span class="dv">0</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb113-12"><a href="#cb113-12" aria-hidden="true" tabindex="-1"></a>data_df[OrdinalVar[<span class="dv">11</span>]].replace({<span class="st">'GLQ'</span>:<span class="dv">6</span>,<span class="st">'ALQ'</span>:<span class="dv">5</span>, <span class="st">'BLQ'</span>:<span class="dv">4</span>, <span class="st">'Rec'</span>:<span class="dv">3</span>,<span class="st">'LwQ'</span>:<span class="dv">2</span>,<span class="st">'Unf'</span>:<span class="dv">1</span>, <span class="st">'NA'</span>:<span class="dv">0</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb113-13"><a href="#cb113-13" aria-hidden="true" tabindex="-1"></a>data_df[OrdinalVar[<span class="dv">12</span>]].replace({<span class="st">'Ex'</span>:<span class="dv">5</span>, <span class="st">'Gd'</span>:<span class="dv">4</span>, <span class="st">'TA'</span>:<span class="dv">3</span>,<span class="st">'Fa'</span>:<span class="dv">2</span>,<span class="st">'Po'</span>:<span class="dv">1</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb113-14"><a href="#cb113-14" aria-hidden="true" tabindex="-1"></a>data_df[OrdinalVar[<span class="dv">13</span>]].replace({<span class="st">'SBrkr'</span>:<span class="dv">5</span>, <span class="st">'FuseA'</span>:<span class="dv">4</span>, <span class="st">'FuseF'</span>:<span class="dv">3</span>,<span class="st">'FuseP'</span>:<span class="dv">2</span>,<span class="st">'Mix'</span>:<span class="dv">1</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb113-15"><a href="#cb113-15" aria-hidden="true" tabindex="-1"></a>data_df[OrdinalVar[<span class="dv">14</span>]].replace({<span class="st">'Ex'</span>:<span class="dv">5</span>, <span class="st">'Gd'</span>:<span class="dv">4</span>, <span class="st">'TA'</span>:<span class="dv">3</span>,<span class="st">'Fa'</span>:<span class="dv">2</span>,<span class="st">'Po'</span>:<span class="dv">1</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb113-16"><a href="#cb113-16" aria-hidden="true" tabindex="-1"></a>data_df[OrdinalVar[<span class="dv">15</span>]].replace({<span class="st">'Typ'</span>:<span class="dv">8</span>,<span class="st">'Min1'</span>:<span class="dv">7</span>,<span class="st">'Min2'</span>:<span class="dv">6</span>,<span class="st">'Mod'</span>:<span class="dv">5</span>, <span class="st">'Maj1'</span>:<span class="dv">4</span>, <span class="st">'Maj2'</span>:<span class="dv">3</span>,<span class="st">'Sev'</span>:<span class="dv">2</span>,<span class="st">'Sal'</span>:<span class="dv">1</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb113-17"><a href="#cb113-17" aria-hidden="true" tabindex="-1"></a>data_df[OrdinalVar[<span class="dv">16</span>]].replace({<span class="st">'Ex'</span>:<span class="dv">5</span>, <span class="st">'Gd'</span>:<span class="dv">4</span>, <span class="st">'TA'</span>:<span class="dv">3</span>,<span class="st">'Fa'</span>:<span class="dv">2</span>,<span class="st">'Po'</span>:<span class="dv">1</span>,<span class="st">'NA'</span>:<span class="dv">0</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb113-18"><a href="#cb113-18" aria-hidden="true" tabindex="-1"></a>data_df[OrdinalVar[<span class="dv">17</span>]].replace({<span class="st">'Fin'</span>:<span class="dv">3</span>,<span class="st">'RFn'</span>:<span class="dv">2</span>,<span class="st">'Unf'</span>:<span class="dv">1</span>,<span class="st">'NA'</span>:<span class="dv">0</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb113-19"><a href="#cb113-19" aria-hidden="true" tabindex="-1"></a>data_df[OrdinalVar[<span class="dv">18</span>]].replace({<span class="st">'Ex'</span>:<span class="dv">5</span>, <span class="st">'Gd'</span>:<span class="dv">4</span>, <span class="st">'TA'</span>:<span class="dv">3</span>,<span class="st">'Fa'</span>:<span class="dv">2</span>,<span class="st">'Po'</span>:<span class="dv">1</span>,<span class="st">'NA'</span>:<span class="dv">0</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb113-20"><a href="#cb113-20" aria-hidden="true" tabindex="-1"></a>data_df[OrdinalVar[<span class="dv">19</span>]].replace({<span class="st">'Ex'</span>:<span class="dv">5</span>, <span class="st">'Gd'</span>:<span class="dv">4</span>, <span class="st">'TA'</span>:<span class="dv">3</span>,<span class="st">'Fa'</span>:<span class="dv">2</span>,<span class="st">'Po'</span>:<span class="dv">1</span>,<span class="st">'NA'</span>:<span class="dv">0</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb113-21"><a href="#cb113-21" aria-hidden="true" tabindex="-1"></a>data_df[OrdinalVar[<span class="dv">20</span>]].replace({<span class="st">'Y'</span>:<span class="dv">3</span>,<span class="st">'P'</span>:<span class="dv">2</span>,<span class="st">'N'</span>:<span class="dv">1</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb113-22"><a href="#cb113-22" aria-hidden="true" tabindex="-1"></a>data_df[OrdinalVar[<span class="dv">21</span>]].replace({<span class="st">'Ex'</span>:<span class="dv">4</span>, <span class="st">'Gd'</span>:<span class="dv">3</span>,<span class="st">'TA'</span>:<span class="dv">2</span>,<span class="st">'Fa'</span>:<span class="dv">1</span>,<span class="st">'NA'</span>:<span class="dv">0</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb113-23"><a href="#cb113-23" aria-hidden="true" tabindex="-1"></a>data_df[OrdinalVar[<span class="dv">22</span>]].replace({<span class="st">'GdPrv'</span>:<span class="dv">4</span>, <span class="st">'MnPrv'</span>:<span class="dv">3</span>,<span class="st">'GdWo'</span>:<span class="dv">2</span>,<span class="st">'MnWw'</span>:<span class="dv">1</span>,<span class="st">'NA'</span>:<span class="dv">0</span>},inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>I can verify that everything has been changed correctly:</p>
<div id="cell-131" class="cell" data-execution_count="81">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>pd.options.display.max_columns <span class="op">=</span> <span class="dv">500</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-132" class="cell" data-execution_count="82">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>data_df[OrdinalVar].head(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="82">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Lot Shape</th>
<th data-quarto-table-cell-role="th">Utilities</th>
<th data-quarto-table-cell-role="th">Land Slope</th>
<th data-quarto-table-cell-role="th">Overall Qual</th>
<th data-quarto-table-cell-role="th">Overall Cond</th>
<th data-quarto-table-cell-role="th">Exter Qual</th>
<th data-quarto-table-cell-role="th">Exter Cond</th>
<th data-quarto-table-cell-role="th">Bsmt Qual</th>
<th data-quarto-table-cell-role="th">Bsmt Cond</th>
<th data-quarto-table-cell-role="th">Bsmt Exposure</th>
<th data-quarto-table-cell-role="th">BsmtFin Type 1</th>
<th data-quarto-table-cell-role="th">BsmtFin Type 2</th>
<th data-quarto-table-cell-role="th">Heating QC</th>
<th data-quarto-table-cell-role="th">Electrical</th>
<th data-quarto-table-cell-role="th">Kitchen Qual</th>
<th data-quarto-table-cell-role="th">Functional</th>
<th data-quarto-table-cell-role="th">Fireplace Qu</th>
<th data-quarto-table-cell-role="th">Garage Finish</th>
<th data-quarto-table-cell-role="th">Garage Qual</th>
<th data-quarto-table-cell-role="th">Garage Cond</th>
<th data-quarto-table-cell-role="th">Paved Drive</th>
<th data-quarto-table-cell-role="th">Pool QC</th>
<th data-quarto-table-cell-role="th">Fence</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>3</td>
<td>4</td>
<td>3</td>
<td>7</td>
<td>5</td>
<td>4</td>
<td>3</td>
<td>4</td>
<td>3</td>
<td>1</td>
<td>6</td>
<td>1</td>
<td>5</td>
<td>5</td>
<td>4</td>
<td>8</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>4</td>
<td>4</td>
<td>3</td>
<td>6</td>
<td>6</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>3</td>
<td>5</td>
<td>4</td>
<td>8</td>
<td>4</td>
<td>1</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>4</td>
<td>4</td>
<td>3</td>
<td>4</td>
<td>5</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>5</td>
<td>3</td>
<td>8</td>
<td>0</td>
<td>1</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>3</td>
<td>4</td>
<td>3</td>
<td>5</td>
<td>5</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>1</td>
<td>3</td>
<td>1</td>
<td>4</td>
<td>5</td>
<td>4</td>
<td>8</td>
<td>4</td>
<td>2</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>3</td>
<td>4</td>
<td>3</td>
<td>7</td>
<td>4</td>
<td>2</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>8</td>
<td>4</td>
<td>1</td>
<td>3</td>
<td>3</td>
<td>1</td>
<td>0</td>
<td>3</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-133" class="cell" data-execution_count="83">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>data_df[OrdinalVar].<span class="bu">apply</span>(<span class="kw">lambda</span> s: pd.to_numeric(s, errors<span class="op">=</span><span class="st">'coerce'</span>).notnull().<span class="bu">all</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="83">
<pre><code>Lot Shape         True
Utilities         True
Land Slope        True
Overall Qual      True
Overall Cond      True
Exter Qual        True
Exter Cond        True
Bsmt Qual         True
Bsmt Cond         True
Bsmt Exposure     True
BsmtFin Type 1    True
BsmtFin Type 2    True
Heating QC        True
Electrical        True
Kitchen Qual      True
Functional        True
Fireplace Qu      True
Garage Finish     True
Garage Qual       True
Garage Cond       True
Paved Drive       True
Pool QC           True
Fence             True
dtype: bool</code></pre>
</div>
</div>
<p>Everything seem correct.</p>
</section>
<section id="nominal-variables" class="level4">
<h4 class="anchored" data-anchor-id="nominal-variables">Nominal variables</h4>
<p>The idea is to create a new variable for each possible value. And to avoid redundance, I drop the first column for each “old variable”.</p>
<div id="cell-137" class="cell" data-execution_count="84">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>data_df <span class="op">=</span> pd.get_dummies(data_df, columns<span class="op">=</span>NominalVar, drop_first<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-138" class="cell" data-execution_count="85">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>data_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="85">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Lot Frontage</th>
<th data-quarto-table-cell-role="th">Lot Area</th>
<th data-quarto-table-cell-role="th">Lot Shape</th>
<th data-quarto-table-cell-role="th">Utilities</th>
<th data-quarto-table-cell-role="th">Land Slope</th>
<th data-quarto-table-cell-role="th">Overall Qual</th>
<th data-quarto-table-cell-role="th">Overall Cond</th>
<th data-quarto-table-cell-role="th">Year Built</th>
<th data-quarto-table-cell-role="th">Year Remod/Add</th>
<th data-quarto-table-cell-role="th">Mas Vnr Area</th>
<th data-quarto-table-cell-role="th">Exter Qual</th>
<th data-quarto-table-cell-role="th">Exter Cond</th>
<th data-quarto-table-cell-role="th">Bsmt Qual</th>
<th data-quarto-table-cell-role="th">Bsmt Cond</th>
<th data-quarto-table-cell-role="th">Bsmt Exposure</th>
<th data-quarto-table-cell-role="th">BsmtFin Type 1</th>
<th data-quarto-table-cell-role="th">BsmtFin SF 1</th>
<th data-quarto-table-cell-role="th">BsmtFin Type 2</th>
<th data-quarto-table-cell-role="th">BsmtFin SF 2</th>
<th data-quarto-table-cell-role="th">Bsmt Unf SF</th>
<th data-quarto-table-cell-role="th">Total Bsmt SF</th>
<th data-quarto-table-cell-role="th">Heating QC</th>
<th data-quarto-table-cell-role="th">Electrical</th>
<th data-quarto-table-cell-role="th">1st Flr SF</th>
<th data-quarto-table-cell-role="th">2nd Flr SF</th>
<th data-quarto-table-cell-role="th">Low Qual Fin SF</th>
<th data-quarto-table-cell-role="th">Gr Liv Area</th>
<th data-quarto-table-cell-role="th">Bsmt Full Bath</th>
<th data-quarto-table-cell-role="th">Bsmt Half Bath</th>
<th data-quarto-table-cell-role="th">Full Bath</th>
<th data-quarto-table-cell-role="th">Half Bath</th>
<th data-quarto-table-cell-role="th">Bedroom AbvGr</th>
<th data-quarto-table-cell-role="th">Kitchen AbvGr</th>
<th data-quarto-table-cell-role="th">Kitchen Qual</th>
<th data-quarto-table-cell-role="th">TotRms AbvGrd</th>
<th data-quarto-table-cell-role="th">Functional</th>
<th data-quarto-table-cell-role="th">Fireplaces</th>
<th data-quarto-table-cell-role="th">Fireplace Qu</th>
<th data-quarto-table-cell-role="th">Garage Yr Blt</th>
<th data-quarto-table-cell-role="th">Garage Finish</th>
<th data-quarto-table-cell-role="th">Garage Cars</th>
<th data-quarto-table-cell-role="th">Garage Area</th>
<th data-quarto-table-cell-role="th">Garage Qual</th>
<th data-quarto-table-cell-role="th">Garage Cond</th>
<th data-quarto-table-cell-role="th">Paved Drive</th>
<th data-quarto-table-cell-role="th">Wood Deck SF</th>
<th data-quarto-table-cell-role="th">Open Porch SF</th>
<th data-quarto-table-cell-role="th">Enclosed Porch</th>
<th data-quarto-table-cell-role="th">3Ssn Porch</th>
<th data-quarto-table-cell-role="th">Screen Porch</th>
<th data-quarto-table-cell-role="th">Pool Area</th>
<th data-quarto-table-cell-role="th">Pool QC</th>
<th data-quarto-table-cell-role="th">Fence</th>
<th data-quarto-table-cell-role="th">Misc Val</th>
<th data-quarto-table-cell-role="th">Mo Sold</th>
<th data-quarto-table-cell-role="th">Yr Sold</th>
<th data-quarto-table-cell-role="th">SalePrice</th>
<th data-quarto-table-cell-role="th">MS SubClass_b</th>
<th data-quarto-table-cell-role="th">MS SubClass_c</th>
<th data-quarto-table-cell-role="th">MS SubClass_d</th>
<th data-quarto-table-cell-role="th">MS SubClass_e</th>
<th data-quarto-table-cell-role="th">MS SubClass_f</th>
<th data-quarto-table-cell-role="th">MS SubClass_g</th>
<th data-quarto-table-cell-role="th">MS SubClass_h</th>
<th data-quarto-table-cell-role="th">MS SubClass_i</th>
<th data-quarto-table-cell-role="th">MS SubClass_j</th>
<th data-quarto-table-cell-role="th">MS SubClass_k</th>
<th data-quarto-table-cell-role="th">MS SubClass_l</th>
<th data-quarto-table-cell-role="th">MS SubClass_m</th>
<th data-quarto-table-cell-role="th">MS SubClass_n</th>
<th data-quarto-table-cell-role="th">MS SubClass_o</th>
<th data-quarto-table-cell-role="th">MS SubClass_p</th>
<th data-quarto-table-cell-role="th">MS Zoning_C (all)</th>
<th data-quarto-table-cell-role="th">MS Zoning_FV</th>
<th data-quarto-table-cell-role="th">MS Zoning_I (all)</th>
<th data-quarto-table-cell-role="th">MS Zoning_RH</th>
<th data-quarto-table-cell-role="th">MS Zoning_RL</th>
<th data-quarto-table-cell-role="th">MS Zoning_RM</th>
<th data-quarto-table-cell-role="th">Street_Pave</th>
<th data-quarto-table-cell-role="th">Alley_NA</th>
<th data-quarto-table-cell-role="th">Alley_Pave</th>
<th data-quarto-table-cell-role="th">Land Contour_HLS</th>
<th data-quarto-table-cell-role="th">Land Contour_Low</th>
<th data-quarto-table-cell-role="th">Land Contour_Lvl</th>
<th data-quarto-table-cell-role="th">Lot Config_CulDSac</th>
<th data-quarto-table-cell-role="th">Lot Config_FR2</th>
<th data-quarto-table-cell-role="th">Lot Config_FR3</th>
<th data-quarto-table-cell-role="th">Lot Config_Inside</th>
<th data-quarto-table-cell-role="th">Neighborhood_Blueste</th>
<th data-quarto-table-cell-role="th">Neighborhood_BrDale</th>
<th data-quarto-table-cell-role="th">Neighborhood_BrkSide</th>
<th data-quarto-table-cell-role="th">Neighborhood_ClearCr</th>
<th data-quarto-table-cell-role="th">Neighborhood_CollgCr</th>
<th data-quarto-table-cell-role="th">Neighborhood_Crawfor</th>
<th data-quarto-table-cell-role="th">Neighborhood_Edwards</th>
<th data-quarto-table-cell-role="th">Neighborhood_Gilbert</th>
<th data-quarto-table-cell-role="th">Neighborhood_Greens</th>
<th data-quarto-table-cell-role="th">Neighborhood_GrnHill</th>
<th data-quarto-table-cell-role="th">Neighborhood_IDOTRR</th>
<th data-quarto-table-cell-role="th">Neighborhood_Landmrk</th>
<th data-quarto-table-cell-role="th">Neighborhood_MeadowV</th>
<th data-quarto-table-cell-role="th">Neighborhood_Mitchel</th>
<th data-quarto-table-cell-role="th">Neighborhood_NAmes</th>
<th data-quarto-table-cell-role="th">Neighborhood_NPkVill</th>
<th data-quarto-table-cell-role="th">Neighborhood_NWAmes</th>
<th data-quarto-table-cell-role="th">Neighborhood_NoRidge</th>
<th data-quarto-table-cell-role="th">Neighborhood_NridgHt</th>
<th data-quarto-table-cell-role="th">Neighborhood_OldTown</th>
<th data-quarto-table-cell-role="th">Neighborhood_SWISU</th>
<th data-quarto-table-cell-role="th">Neighborhood_Sawyer</th>
<th data-quarto-table-cell-role="th">Neighborhood_SawyerW</th>
<th data-quarto-table-cell-role="th">Neighborhood_Somerst</th>
<th data-quarto-table-cell-role="th">Neighborhood_StoneBr</th>
<th data-quarto-table-cell-role="th">Neighborhood_Timber</th>
<th data-quarto-table-cell-role="th">Neighborhood_Veenker</th>
<th data-quarto-table-cell-role="th">Condition 1_Feedr</th>
<th data-quarto-table-cell-role="th">Condition 1_Norm</th>
<th data-quarto-table-cell-role="th">Condition 1_PosA</th>
<th data-quarto-table-cell-role="th">Condition 1_PosN</th>
<th data-quarto-table-cell-role="th">Condition 1_RRAe</th>
<th data-quarto-table-cell-role="th">Condition 1_RRAn</th>
<th data-quarto-table-cell-role="th">Condition 1_RRNe</th>
<th data-quarto-table-cell-role="th">Condition 1_RRNn</th>
<th data-quarto-table-cell-role="th">Condition 2_Feedr</th>
<th data-quarto-table-cell-role="th">Condition 2_Norm</th>
<th data-quarto-table-cell-role="th">Condition 2_PosA</th>
<th data-quarto-table-cell-role="th">Condition 2_PosN</th>
<th data-quarto-table-cell-role="th">Condition 2_RRAe</th>
<th data-quarto-table-cell-role="th">Condition 2_RRAn</th>
<th data-quarto-table-cell-role="th">Condition 2_RRNn</th>
<th data-quarto-table-cell-role="th">Bldg Type_2fmCon</th>
<th data-quarto-table-cell-role="th">Bldg Type_Duplex</th>
<th data-quarto-table-cell-role="th">Bldg Type_Twnhs</th>
<th data-quarto-table-cell-role="th">Bldg Type_TwnhsE</th>
<th data-quarto-table-cell-role="th">House Style_1.5Unf</th>
<th data-quarto-table-cell-role="th">House Style_1Story</th>
<th data-quarto-table-cell-role="th">House Style_2.5Fin</th>
<th data-quarto-table-cell-role="th">House Style_2.5Unf</th>
<th data-quarto-table-cell-role="th">House Style_2Story</th>
<th data-quarto-table-cell-role="th">House Style_SFoyer</th>
<th data-quarto-table-cell-role="th">House Style_SLvl</th>
<th data-quarto-table-cell-role="th">Roof Style_Gable</th>
<th data-quarto-table-cell-role="th">Roof Style_Gambrel</th>
<th data-quarto-table-cell-role="th">Roof Style_Hip</th>
<th data-quarto-table-cell-role="th">Roof Style_Mansard</th>
<th data-quarto-table-cell-role="th">Roof Style_Shed</th>
<th data-quarto-table-cell-role="th">Roof Matl_Membran</th>
<th data-quarto-table-cell-role="th">Roof Matl_Metal</th>
<th data-quarto-table-cell-role="th">Roof Matl_Tar&amp;Grv</th>
<th data-quarto-table-cell-role="th">Roof Matl_WdShake</th>
<th data-quarto-table-cell-role="th">Roof Matl_WdShngl</th>
<th data-quarto-table-cell-role="th">Exterior 1st_AsphShn</th>
<th data-quarto-table-cell-role="th">Exterior 1st_BrkComm</th>
<th data-quarto-table-cell-role="th">Exterior 1st_BrkFace</th>
<th data-quarto-table-cell-role="th">Exterior 1st_CBlock</th>
<th data-quarto-table-cell-role="th">Exterior 1st_CemntBd</th>
<th data-quarto-table-cell-role="th">Exterior 1st_HdBoard</th>
<th data-quarto-table-cell-role="th">Exterior 1st_ImStucc</th>
<th data-quarto-table-cell-role="th">Exterior 1st_MetalSd</th>
<th data-quarto-table-cell-role="th">Exterior 1st_Plywood</th>
<th data-quarto-table-cell-role="th">Exterior 1st_PreCast</th>
<th data-quarto-table-cell-role="th">Exterior 1st_Stone</th>
<th data-quarto-table-cell-role="th">Exterior 1st_Stucco</th>
<th data-quarto-table-cell-role="th">Exterior 1st_VinylSd</th>
<th data-quarto-table-cell-role="th">Exterior 1st_Wd Sdng</th>
<th data-quarto-table-cell-role="th">Exterior 1st_WdShing</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_AsphShn</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_Brk Cmn</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_BrkFace</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_CBlock</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_CmentBd</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_HdBoard</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_ImStucc</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_MetalSd</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_Plywood</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_PreCast</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_Stone</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_Stucco</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_VinylSd</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_Wd Sdng</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_Wd Shng</th>
<th data-quarto-table-cell-role="th">Mas Vnr Type_BrkFace</th>
<th data-quarto-table-cell-role="th">Mas Vnr Type_CBlock</th>
<th data-quarto-table-cell-role="th">Mas Vnr Type_NA</th>
<th data-quarto-table-cell-role="th">Mas Vnr Type_None</th>
<th data-quarto-table-cell-role="th">Mas Vnr Type_Stone</th>
<th data-quarto-table-cell-role="th">Foundation_CBlock</th>
<th data-quarto-table-cell-role="th">Foundation_PConc</th>
<th data-quarto-table-cell-role="th">Foundation_Slab</th>
<th data-quarto-table-cell-role="th">Foundation_Stone</th>
<th data-quarto-table-cell-role="th">Foundation_Wood</th>
<th data-quarto-table-cell-role="th">Heating_GasA</th>
<th data-quarto-table-cell-role="th">Heating_GasW</th>
<th data-quarto-table-cell-role="th">Heating_Grav</th>
<th data-quarto-table-cell-role="th">Heating_OthW</th>
<th data-quarto-table-cell-role="th">Heating_Wall</th>
<th data-quarto-table-cell-role="th">Central Air_Y</th>
<th data-quarto-table-cell-role="th">Garage Type_Attchd</th>
<th data-quarto-table-cell-role="th">Garage Type_Basment</th>
<th data-quarto-table-cell-role="th">Garage Type_BuiltIn</th>
<th data-quarto-table-cell-role="th">Garage Type_CarPort</th>
<th data-quarto-table-cell-role="th">Garage Type_Detchd</th>
<th data-quarto-table-cell-role="th">Garage Type_NA</th>
<th data-quarto-table-cell-role="th">Misc Feature_NA</th>
<th data-quarto-table-cell-role="th">Misc Feature_Othr</th>
<th data-quarto-table-cell-role="th">Misc Feature_Shed</th>
<th data-quarto-table-cell-role="th">Misc Feature_TenC</th>
<th data-quarto-table-cell-role="th">Sale Type_CWD</th>
<th data-quarto-table-cell-role="th">Sale Type_Con</th>
<th data-quarto-table-cell-role="th">Sale Type_ConLD</th>
<th data-quarto-table-cell-role="th">Sale Type_ConLI</th>
<th data-quarto-table-cell-role="th">Sale Type_ConLw</th>
<th data-quarto-table-cell-role="th">Sale Type_New</th>
<th data-quarto-table-cell-role="th">Sale Type_Oth</th>
<th data-quarto-table-cell-role="th">Sale Type_VWD</th>
<th data-quarto-table-cell-role="th">Sale Type_WD</th>
<th data-quarto-table-cell-role="th">Sale Condition_AdjLand</th>
<th data-quarto-table-cell-role="th">Sale Condition_Alloca</th>
<th data-quarto-table-cell-role="th">Sale Condition_Family</th>
<th data-quarto-table-cell-role="th">Sale Condition_Normal</th>
<th data-quarto-table-cell-role="th">Sale Condition_Partial</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>68.0</td>
<td>8795</td>
<td>3</td>
<td>4</td>
<td>3</td>
<td>7</td>
<td>5</td>
<td>2000</td>
<td>2000</td>
<td>0.0</td>
<td>4</td>
<td>3</td>
<td>4</td>
<td>3</td>
<td>1</td>
<td>6</td>
<td>300.0</td>
<td>1</td>
<td>0.0</td>
<td>652.0</td>
<td>952.0</td>
<td>5</td>
<td>5</td>
<td>980</td>
<td>1276</td>
<td>0</td>
<td>2256</td>
<td>0.0</td>
<td>0.0</td>
<td>2</td>
<td>1</td>
<td>4</td>
<td>1</td>
<td>4</td>
<td>8</td>
<td>8</td>
<td>1</td>
<td>3</td>
<td>2000.0</td>
<td>3</td>
<td>2.0</td>
<td>554.0</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>224</td>
<td>54</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>4</td>
<td>2009</td>
<td>236000</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>75.0</td>
<td>10170</td>
<td>4</td>
<td>4</td>
<td>3</td>
<td>6</td>
<td>6</td>
<td>1951</td>
<td>1951</td>
<td>522.0</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>1</td>
<td>1</td>
<td>0.0</td>
<td>1</td>
<td>0.0</td>
<td>216.0</td>
<td>216.0</td>
<td>3</td>
<td>5</td>
<td>1575</td>
<td>0</td>
<td>0</td>
<td>1575</td>
<td>0.0</td>
<td>0.0</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>4</td>
<td>5</td>
<td>8</td>
<td>1</td>
<td>4</td>
<td>1951.0</td>
<td>1</td>
<td>2.0</td>
<td>400.0</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>6</td>
<td>2006</td>
<td>155000</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>21.0</td>
<td>2001</td>
<td>4</td>
<td>4</td>
<td>3</td>
<td>4</td>
<td>5</td>
<td>1970</td>
<td>1970</td>
<td>80.0</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>1</td>
<td>1</td>
<td>0.0</td>
<td>1</td>
<td>0.0</td>
<td>546.0</td>
<td>546.0</td>
<td>2</td>
<td>5</td>
<td>546</td>
<td>546</td>
<td>0</td>
<td>1092</td>
<td>0.0</td>
<td>0.0</td>
<td>1</td>
<td>1</td>
<td>3</td>
<td>1</td>
<td>3</td>
<td>6</td>
<td>8</td>
<td>0</td>
<td>0</td>
<td>1970.0</td>
<td>1</td>
<td>1.0</td>
<td>286.0</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>2007</td>
<td>75000</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>70.0</td>
<td>10552</td>
<td>3</td>
<td>4</td>
<td>3</td>
<td>5</td>
<td>5</td>
<td>1959</td>
<td>1959</td>
<td>0.0</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>1</td>
<td>3</td>
<td>1018.0</td>
<td>1</td>
<td>0.0</td>
<td>380.0</td>
<td>1398.0</td>
<td>4</td>
<td>5</td>
<td>1700</td>
<td>0</td>
<td>0</td>
<td>1700</td>
<td>0.0</td>
<td>1.0</td>
<td>1</td>
<td>1</td>
<td>4</td>
<td>1</td>
<td>4</td>
<td>6</td>
<td>8</td>
<td>1</td>
<td>4</td>
<td>1959.0</td>
<td>2</td>
<td>2.0</td>
<td>447.0</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>0</td>
<td>38</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>4</td>
<td>2010</td>
<td>165500</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>60.0</td>
<td>10120</td>
<td>3</td>
<td>4</td>
<td>3</td>
<td>7</td>
<td>4</td>
<td>1910</td>
<td>1950</td>
<td>0.0</td>
<td>2</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>1</td>
<td>1</td>
<td>0.0</td>
<td>1</td>
<td>0.0</td>
<td>925.0</td>
<td>925.0</td>
<td>3</td>
<td>3</td>
<td>964</td>
<td>925</td>
<td>0</td>
<td>1889</td>
<td>0.0</td>
<td>0.0</td>
<td>1</td>
<td>1</td>
<td>4</td>
<td>2</td>
<td>3</td>
<td>9</td>
<td>8</td>
<td>1</td>
<td>4</td>
<td>1960.0</td>
<td>1</td>
<td>1.0</td>
<td>308.0</td>
<td>3</td>
<td>3</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>264</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>3</td>
<td>0</td>
<td>1</td>
<td>2007</td>
<td>122000</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-139" class="cell" data-execution_count="86">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>pd.options.display.max_rows <span class="op">=</span> <span class="dv">400</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-140" class="cell" data-execution_count="87">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>data_df.<span class="bu">apply</span>(<span class="kw">lambda</span> s: pd.to_numeric(s, errors<span class="op">=</span><span class="st">'coerce'</span>).notnull().<span class="bu">all</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="87">
<pre><code>Lot Frontage              True
Lot Area                  True
Lot Shape                 True
Utilities                 True
Land Slope                True
Overall Qual              True
Overall Cond              True
Year Built                True
Year Remod/Add            True
Mas Vnr Area              True
Exter Qual                True
Exter Cond                True
Bsmt Qual                 True
Bsmt Cond                 True
Bsmt Exposure             True
BsmtFin Type 1            True
BsmtFin SF 1              True
BsmtFin Type 2            True
BsmtFin SF 2              True
Bsmt Unf SF               True
Total Bsmt SF             True
Heating QC                True
Electrical                True
1st Flr SF                True
2nd Flr SF                True
Low Qual Fin SF           True
Gr Liv Area               True
Bsmt Full Bath            True
Bsmt Half Bath            True
Full Bath                 True
Half Bath                 True
Bedroom AbvGr             True
Kitchen AbvGr             True
Kitchen Qual              True
TotRms AbvGrd             True
Functional                True
Fireplaces                True
Fireplace Qu              True
Garage Yr Blt             True
Garage Finish             True
Garage Cars               True
Garage Area               True
Garage Qual               True
Garage Cond               True
Paved Drive               True
Wood Deck SF              True
Open Porch SF             True
Enclosed Porch            True
3Ssn Porch                True
Screen Porch              True
Pool Area                 True
Pool QC                   True
Fence                     True
Misc Val                  True
Mo Sold                   True
Yr Sold                   True
SalePrice                 True
MS SubClass_b             True
MS SubClass_c             True
MS SubClass_d             True
MS SubClass_e             True
MS SubClass_f             True
MS SubClass_g             True
MS SubClass_h             True
MS SubClass_i             True
MS SubClass_j             True
MS SubClass_k             True
MS SubClass_l             True
MS SubClass_m             True
MS SubClass_n             True
MS SubClass_o             True
MS SubClass_p             True
MS Zoning_C (all)         True
MS Zoning_FV              True
MS Zoning_I (all)         True
MS Zoning_RH              True
MS Zoning_RL              True
MS Zoning_RM              True
Street_Pave               True
Alley_NA                  True
Alley_Pave                True
Land Contour_HLS          True
Land Contour_Low          True
Land Contour_Lvl          True
Lot Config_CulDSac        True
Lot Config_FR2            True
Lot Config_FR3            True
Lot Config_Inside         True
Neighborhood_Blueste      True
Neighborhood_BrDale       True
Neighborhood_BrkSide      True
Neighborhood_ClearCr      True
Neighborhood_CollgCr      True
Neighborhood_Crawfor      True
Neighborhood_Edwards      True
Neighborhood_Gilbert      True
Neighborhood_Greens       True
Neighborhood_GrnHill      True
Neighborhood_IDOTRR       True
Neighborhood_Landmrk      True
Neighborhood_MeadowV      True
Neighborhood_Mitchel      True
Neighborhood_NAmes        True
Neighborhood_NPkVill      True
Neighborhood_NWAmes       True
Neighborhood_NoRidge      True
Neighborhood_NridgHt      True
Neighborhood_OldTown      True
Neighborhood_SWISU        True
Neighborhood_Sawyer       True
Neighborhood_SawyerW      True
Neighborhood_Somerst      True
Neighborhood_StoneBr      True
Neighborhood_Timber       True
Neighborhood_Veenker      True
Condition 1_Feedr         True
Condition 1_Norm          True
Condition 1_PosA          True
Condition 1_PosN          True
Condition 1_RRAe          True
Condition 1_RRAn          True
Condition 1_RRNe          True
Condition 1_RRNn          True
Condition 2_Feedr         True
Condition 2_Norm          True
Condition 2_PosA          True
Condition 2_PosN          True
Condition 2_RRAe          True
Condition 2_RRAn          True
Condition 2_RRNn          True
Bldg Type_2fmCon          True
Bldg Type_Duplex          True
Bldg Type_Twnhs           True
Bldg Type_TwnhsE          True
House Style_1.5Unf        True
House Style_1Story        True
House Style_2.5Fin        True
House Style_2.5Unf        True
House Style_2Story        True
House Style_SFoyer        True
House Style_SLvl          True
Roof Style_Gable          True
Roof Style_Gambrel        True
Roof Style_Hip            True
Roof Style_Mansard        True
Roof Style_Shed           True
Roof Matl_Membran         True
Roof Matl_Metal           True
Roof Matl_Tar&amp;Grv         True
Roof Matl_WdShake         True
Roof Matl_WdShngl         True
Exterior 1st_AsphShn      True
Exterior 1st_BrkComm      True
Exterior 1st_BrkFace      True
Exterior 1st_CBlock       True
Exterior 1st_CemntBd      True
Exterior 1st_HdBoard      True
Exterior 1st_ImStucc      True
Exterior 1st_MetalSd      True
Exterior 1st_Plywood      True
Exterior 1st_PreCast      True
Exterior 1st_Stone        True
Exterior 1st_Stucco       True
Exterior 1st_VinylSd      True
Exterior 1st_Wd Sdng      True
Exterior 1st_WdShing      True
Exterior 2nd_AsphShn      True
Exterior 2nd_Brk Cmn      True
Exterior 2nd_BrkFace      True
Exterior 2nd_CBlock       True
Exterior 2nd_CmentBd      True
Exterior 2nd_HdBoard      True
Exterior 2nd_ImStucc      True
Exterior 2nd_MetalSd      True
Exterior 2nd_Plywood      True
Exterior 2nd_PreCast      True
Exterior 2nd_Stone        True
Exterior 2nd_Stucco       True
Exterior 2nd_VinylSd      True
Exterior 2nd_Wd Sdng      True
Exterior 2nd_Wd Shng      True
Mas Vnr Type_BrkFace      True
Mas Vnr Type_CBlock       True
Mas Vnr Type_NA           True
Mas Vnr Type_None         True
Mas Vnr Type_Stone        True
Foundation_CBlock         True
Foundation_PConc          True
Foundation_Slab           True
Foundation_Stone          True
Foundation_Wood           True
Heating_GasA              True
Heating_GasW              True
Heating_Grav              True
Heating_OthW              True
Heating_Wall              True
Central Air_Y             True
Garage Type_Attchd        True
Garage Type_Basment       True
Garage Type_BuiltIn       True
Garage Type_CarPort       True
Garage Type_Detchd        True
Garage Type_NA            True
Misc Feature_NA           True
Misc Feature_Othr         True
Misc Feature_Shed         True
Misc Feature_TenC         True
Sale Type_CWD             True
Sale Type_Con             True
Sale Type_ConLD           True
Sale Type_ConLI           True
Sale Type_ConLw           True
Sale Type_New             True
Sale Type_Oth             True
Sale Type_VWD             True
Sale Type_WD              True
Sale Condition_AdjLand    True
Sale Condition_Alloca     True
Sale Condition_Family     True
Sale Condition_Normal     True
Sale Condition_Partial    True
dtype: bool</code></pre>
</div>
</div>
</section>
</section>
<section id="feature-engineering" class="level1">
<h1>3. Feature engineering</h1>
<section id="saleprice" class="level4">
<h4 class="anchored" data-anchor-id="saleprice">SalePrice</h4>
<div id="cell-143" class="cell" data-execution_count="88">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>data_df.hist(column<span class="op">=</span><span class="st">'SalePrice'</span>, bins<span class="op">=</span><span class="dv">20</span>, grid<span class="op">=</span><span class="va">False</span>, xrot<span class="op">=</span><span class="dv">45</span>,density<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a>mu <span class="op">=</span> np.mean(data_df[<span class="st">'SalePrice'</span>])</span>
<span id="cb123-3"><a href="#cb123-3" aria-hidden="true" tabindex="-1"></a>variance <span class="op">=</span> np.var(data_df[<span class="st">'SalePrice'</span>])</span>
<span id="cb123-4"><a href="#cb123-4" aria-hidden="true" tabindex="-1"></a>sigma <span class="op">=</span> math.sqrt(variance)</span>
<span id="cb123-5"><a href="#cb123-5" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.linspace(mu <span class="op">-</span> <span class="dv">3</span><span class="op">*</span>sigma, mu <span class="op">+</span> <span class="dv">3</span><span class="op">*</span>sigma, <span class="dv">100</span>)</span>
<span id="cb123-6"><a href="#cb123-6" aria-hidden="true" tabindex="-1"></a>plt.plot(x, stats.norm.pdf(x, mu, sigma))</span>
<span id="cb123-7"><a href="#cb123-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb123-8"><a href="#cb123-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Skewness='</span>, stats.skew(data_df[<span class="st">'SalePrice'</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="projet_3_files/figure-html/cell-89-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Skewness= 1.6047157543103137</code></pre>
</div>
</div>
<p>As we have seen in the course before (Regularization chapter), “most of the houses in the data set have a price between 100 and 300 thousand dollars. However, there are a few expensive houses with prices well above that. In practice, this can lead to biased models that favor accurate predictions of expensive houses. To avoid building a model that is biased toward more expensive houses, we will apply the logarithm transformation and build a model that predicts the log of the sale price.”</p>
<div id="cell-145" class="cell" data-execution_count="89">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>plt.hist(np.log10(data_df.SalePrice), bins<span class="op">=</span><span class="dv">20</span>,density<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a>mu <span class="op">=</span> np.mean(np.log10(data_df[<span class="st">'SalePrice'</span>]))</span>
<span id="cb125-3"><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a>variance <span class="op">=</span> np.var(np.log10(data_df[<span class="st">'SalePrice'</span>]))</span>
<span id="cb125-4"><a href="#cb125-4" aria-hidden="true" tabindex="-1"></a>sigma <span class="op">=</span> math.sqrt(variance)</span>
<span id="cb125-5"><a href="#cb125-5" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.linspace(mu <span class="op">-</span> <span class="dv">3</span><span class="op">*</span>sigma, mu <span class="op">+</span> <span class="dv">3</span><span class="op">*</span>sigma, <span class="dv">100</span>)</span>
<span id="cb125-6"><a href="#cb125-6" aria-hidden="true" tabindex="-1"></a>plt.plot(x, stats.norm.pdf(x, mu, sigma))</span>
<span id="cb125-7"><a href="#cb125-7" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'log10(SalePrice)'</span>)</span>
<span id="cb125-8"><a href="#cb125-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb125-9"><a href="#cb125-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Skewness='</span>, stats.skew(np.log(data_df[<span class="st">'SalePrice'</span>])))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="projet_3_files/figure-html/cell-90-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Skewness= -0.09232378345258598</code></pre>
</div>
</div>
<div id="cell-146" class="cell" data-execution_count="90">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'log_SalePrice'</span>] <span class="op">=</span>np.log1p(data_df[<span class="st">'SalePrice'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="features" class="level4">
<h4 class="anchored" data-anchor-id="features">Features</h4>
<p>First, let’s have a look at the general shape of all the features in order to have a good overview.</p>
<ul>
<li>Conitnuous variables:</li>
</ul>
<div id="cell-150" class="cell" data-execution_count="91">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(ContinuousVar)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="91">
<pre><code>19</code></pre>
</div>
</div>
<div id="cell-151" class="cell" data-execution_count="92">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>fig,axes <span class="op">=</span> plt.subplots(nrows<span class="op">=</span><span class="dv">5</span>,ncols<span class="op">=</span><span class="dv">4</span>,figsize<span class="op">=</span>(<span class="dv">16</span>,<span class="dv">20</span>))</span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col,ax <span class="kw">in</span> <span class="bu">zip</span>(ContinuousVar,axes.ravel()):</span>
<span id="cb130-4"><a href="#cb130-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> col <span class="kw">in</span> NoZerosCols:</span>
<span id="cb130-5"><a href="#cb130-5" aria-hidden="true" tabindex="-1"></a>        mu <span class="op">=</span> np.mean(data_df[data_df[col]<span class="op">!=</span><span class="dv">0</span>][col])</span>
<span id="cb130-6"><a href="#cb130-6" aria-hidden="true" tabindex="-1"></a>        variance <span class="op">=</span> np.var(data_df[data_df[col]<span class="op">!=</span><span class="dv">0</span>][col])</span>
<span id="cb130-7"><a href="#cb130-7" aria-hidden="true" tabindex="-1"></a>        sigma <span class="op">=</span> math.sqrt(variance)</span>
<span id="cb130-8"><a href="#cb130-8" aria-hidden="true" tabindex="-1"></a>        x <span class="op">=</span> np.linspace(mu <span class="op">-</span> <span class="dv">3</span><span class="op">*</span>sigma, mu <span class="op">+</span> <span class="dv">3</span><span class="op">*</span>sigma, <span class="dv">100</span>)</span>
<span id="cb130-9"><a href="#cb130-9" aria-hidden="true" tabindex="-1"></a>        ax.hist(data_df[data_df[col]<span class="op">!=</span><span class="dv">0</span>][col],density<span class="op">=</span><span class="dv">1</span>) </span>
<span id="cb130-10"><a href="#cb130-10" aria-hidden="true" tabindex="-1"></a>        ax.plot(x, stats.norm.pdf(x, mu, sigma))</span>
<span id="cb130-11"><a href="#cb130-11" aria-hidden="true" tabindex="-1"></a>        ax.set_title(col <span class="op">+</span><span class="bu">str</span>(<span class="st">' / Skew= '</span>)<span class="op">+</span> <span class="bu">str</span>(<span class="bu">round</span>(stats.skew(data_df[data_df[col]<span class="op">!=</span><span class="dv">0</span>][col]),<span class="dv">1</span>) ) )</span>
<span id="cb130-12"><a href="#cb130-12" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb130-13"><a href="#cb130-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb130-14"><a href="#cb130-14" aria-hidden="true" tabindex="-1"></a>        mu <span class="op">=</span> np.mean(data_df[col])</span>
<span id="cb130-15"><a href="#cb130-15" aria-hidden="true" tabindex="-1"></a>        variance <span class="op">=</span> np.var(data_df[col])</span>
<span id="cb130-16"><a href="#cb130-16" aria-hidden="true" tabindex="-1"></a>        sigma <span class="op">=</span> math.sqrt(variance)</span>
<span id="cb130-17"><a href="#cb130-17" aria-hidden="true" tabindex="-1"></a>        x <span class="op">=</span> np.linspace(mu <span class="op">-</span> <span class="dv">3</span><span class="op">*</span>sigma, mu <span class="op">+</span> <span class="dv">3</span><span class="op">*</span>sigma, <span class="dv">100</span>)</span>
<span id="cb130-18"><a href="#cb130-18" aria-hidden="true" tabindex="-1"></a>        ax.hist(data_df[col],density<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb130-19"><a href="#cb130-19" aria-hidden="true" tabindex="-1"></a>        ax.plot(x, stats.norm.pdf(x, mu, sigma))</span>
<span id="cb130-20"><a href="#cb130-20" aria-hidden="true" tabindex="-1"></a>        ax.set_title(col <span class="op">+</span><span class="bu">str</span>(<span class="st">' / Skew= '</span>)<span class="op">+</span> <span class="bu">str</span>(<span class="bu">round</span>(stats.skew(data_df[col]),<span class="dv">1</span>) ))</span>
<span id="cb130-21"><a href="#cb130-21" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb130-22"><a href="#cb130-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-23"><a href="#cb130-23" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="projet_3_files/figure-html/cell-93-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>We can see that almost all continuous variables are also skewed. Therefore, I also apply a logarithmic transformation to counter this problem:</p>
<div id="cell-153" class="cell" data-execution_count="93">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>fig,axes <span class="op">=</span> plt.subplots(nrows<span class="op">=</span><span class="dv">5</span>,ncols<span class="op">=</span><span class="dv">4</span>,figsize<span class="op">=</span>(<span class="dv">16</span>,<span class="dv">20</span>))</span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col,ax <span class="kw">in</span> <span class="bu">zip</span>(ContinuousVar,axes.ravel()):</span>
<span id="cb131-4"><a href="#cb131-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> col <span class="kw">in</span> NoZerosCols:</span>
<span id="cb131-5"><a href="#cb131-5" aria-hidden="true" tabindex="-1"></a>        mu <span class="op">=</span> np.mean(np.log(data_df[data_df[col]<span class="op">!=</span><span class="dv">0</span>][col]))</span>
<span id="cb131-6"><a href="#cb131-6" aria-hidden="true" tabindex="-1"></a>        variance <span class="op">=</span> np.var(np.log(data_df[data_df[col]<span class="op">!=</span><span class="dv">0</span>][col]))</span>
<span id="cb131-7"><a href="#cb131-7" aria-hidden="true" tabindex="-1"></a>        sigma <span class="op">=</span> math.sqrt(variance)</span>
<span id="cb131-8"><a href="#cb131-8" aria-hidden="true" tabindex="-1"></a>        x <span class="op">=</span> np.linspace(mu <span class="op">-</span> <span class="dv">3</span><span class="op">*</span>sigma, mu <span class="op">+</span> <span class="dv">3</span><span class="op">*</span>sigma, <span class="dv">100</span>)</span>
<span id="cb131-9"><a href="#cb131-9" aria-hidden="true" tabindex="-1"></a>        ax.hist(np.log(data_df[data_df[col]<span class="op">!=</span><span class="dv">0</span>][col]),density<span class="op">=</span><span class="dv">1</span>) </span>
<span id="cb131-10"><a href="#cb131-10" aria-hidden="true" tabindex="-1"></a>        ax.plot(x, stats.norm.pdf(x, mu, sigma))</span>
<span id="cb131-11"><a href="#cb131-11" aria-hidden="true" tabindex="-1"></a>        ax.set_title(col <span class="op">+</span><span class="bu">str</span>(<span class="st">' / Skew= '</span>)<span class="op">+</span> <span class="bu">str</span>(<span class="bu">round</span>(stats.skew(np.log(data_df[data_df[col]<span class="op">!=</span><span class="dv">0</span>][col])),<span class="dv">1</span>) ) )</span>
<span id="cb131-12"><a href="#cb131-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> col <span class="op">==</span><span class="st">'Low Qual Fin SF'</span>:</span>
<span id="cb131-13"><a href="#cb131-13" aria-hidden="true" tabindex="-1"></a>        mu <span class="op">=</span> np.mean(np.log1p(data_df[col]))</span>
<span id="cb131-14"><a href="#cb131-14" aria-hidden="true" tabindex="-1"></a>        variance <span class="op">=</span> np.var(np.log1p(data_df[col]))</span>
<span id="cb131-15"><a href="#cb131-15" aria-hidden="true" tabindex="-1"></a>        sigma <span class="op">=</span> math.sqrt(variance)</span>
<span id="cb131-16"><a href="#cb131-16" aria-hidden="true" tabindex="-1"></a>        x <span class="op">=</span> np.linspace(mu <span class="op">-</span> <span class="dv">3</span><span class="op">*</span>sigma, mu <span class="op">+</span> <span class="dv">3</span><span class="op">*</span>sigma, <span class="dv">100</span>)</span>
<span id="cb131-17"><a href="#cb131-17" aria-hidden="true" tabindex="-1"></a>        ax.hist(np.log1p(data_df[col]),density<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb131-18"><a href="#cb131-18" aria-hidden="true" tabindex="-1"></a>        ax.plot(x, stats.norm.pdf(x, mu, sigma))</span>
<span id="cb131-19"><a href="#cb131-19" aria-hidden="true" tabindex="-1"></a>        ax.set_title(col <span class="op">+</span><span class="bu">str</span>(<span class="st">' / Skew= '</span>)<span class="op">+</span> <span class="bu">str</span>(<span class="bu">round</span>(stats.skew(np.log1p(data_df[col])),<span class="dv">1</span>) ))    </span>
<span id="cb131-20"><a href="#cb131-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb131-21"><a href="#cb131-21" aria-hidden="true" tabindex="-1"></a>        mu <span class="op">=</span> np.mean(np.log(data_df[col]))</span>
<span id="cb131-22"><a href="#cb131-22" aria-hidden="true" tabindex="-1"></a>        variance <span class="op">=</span> np.var(np.log(data_df[col]))</span>
<span id="cb131-23"><a href="#cb131-23" aria-hidden="true" tabindex="-1"></a>        sigma <span class="op">=</span> math.sqrt(variance)</span>
<span id="cb131-24"><a href="#cb131-24" aria-hidden="true" tabindex="-1"></a>        x <span class="op">=</span> np.linspace(mu <span class="op">-</span> <span class="dv">3</span><span class="op">*</span>sigma, mu <span class="op">+</span> <span class="dv">3</span><span class="op">*</span>sigma, <span class="dv">100</span>)</span>
<span id="cb131-25"><a href="#cb131-25" aria-hidden="true" tabindex="-1"></a>        ax.hist(np.log(data_df[col]),density<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb131-26"><a href="#cb131-26" aria-hidden="true" tabindex="-1"></a>        ax.plot(x, stats.norm.pdf(x, mu, sigma))</span>
<span id="cb131-27"><a href="#cb131-27" aria-hidden="true" tabindex="-1"></a>        ax.set_title(col <span class="op">+</span><span class="bu">str</span>(<span class="st">' / Skew= '</span>)<span class="op">+</span> <span class="bu">str</span>(<span class="bu">round</span>(stats.skew(np.log(data_df[col])),<span class="dv">1</span>) ))</span>
<span id="cb131-28"><a href="#cb131-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb131-29"><a href="#cb131-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-30"><a href="#cb131-30" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="projet_3_files/figure-html/cell-94-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>As mentioned in the solution of the Regularization exercise, I have to add 1 to the log for the 0 values. Otherwise, I get this error: “ValueError: supplied range of [-inf, 6.96979066990159] is not finite” for the column “Low Qual Fin SF”.</p>
<div id="cell-155" class="cell" data-execution_count="94">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>data_df[ContinuousVar]<span class="op">=</span>np.log1p(data_df[ContinuousVar])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-156" class="cell" data-execution_count="95">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>data_df <span class="op">=</span> data_df.rename(columns<span class="op">=</span>{<span class="st">'Lot Frontage'</span>:<span class="st">'log_Lot Frontage'</span>,</span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a> <span class="st">'Lot Area'</span>:<span class="st">'log_Lot Area'</span>,</span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a> <span class="st">'Mas Vnr Area'</span>:<span class="st">'log_Mas Vnr Area'</span>,</span>
<span id="cb133-4"><a href="#cb133-4" aria-hidden="true" tabindex="-1"></a> <span class="st">'BsmtFin SF 1'</span>:<span class="st">'log_BsmtFin SF 1'</span>,</span>
<span id="cb133-5"><a href="#cb133-5" aria-hidden="true" tabindex="-1"></a> <span class="st">'BsmtFin SF 2'</span>:<span class="st">'log_BsmtFin SF 2'</span>,</span>
<span id="cb133-6"><a href="#cb133-6" aria-hidden="true" tabindex="-1"></a> <span class="st">'Bsmt Unf SF'</span>:<span class="st">'log_Bsmt Unf SF'</span>,</span>
<span id="cb133-7"><a href="#cb133-7" aria-hidden="true" tabindex="-1"></a> <span class="st">'Total Bsmt SF'</span>:<span class="st">'log_Total Bsmt SF'</span>,</span>
<span id="cb133-8"><a href="#cb133-8" aria-hidden="true" tabindex="-1"></a> <span class="st">'1st Flr SF'</span>:<span class="st">'log_1st Flr SF'</span>,</span>
<span id="cb133-9"><a href="#cb133-9" aria-hidden="true" tabindex="-1"></a> <span class="st">'2nd Flr SF'</span>:<span class="st">'log_2nd Flr SF'</span>,</span>
<span id="cb133-10"><a href="#cb133-10" aria-hidden="true" tabindex="-1"></a> <span class="st">'Low Qual Fin SF'</span>:<span class="st">'log_Low Qual Fin SF'</span>,</span>
<span id="cb133-11"><a href="#cb133-11" aria-hidden="true" tabindex="-1"></a> <span class="st">'Gr Liv Area'</span>:<span class="st">'log_Gr Liv Area'</span>,</span>
<span id="cb133-12"><a href="#cb133-12" aria-hidden="true" tabindex="-1"></a> <span class="st">'Garage Area'</span>:<span class="st">'log_Garage Area'</span>,</span>
<span id="cb133-13"><a href="#cb133-13" aria-hidden="true" tabindex="-1"></a> <span class="st">'Wood Deck SF'</span>:<span class="st">'log_Wood Deck SF'</span>,</span>
<span id="cb133-14"><a href="#cb133-14" aria-hidden="true" tabindex="-1"></a> <span class="st">'Open Porch SF'</span>:<span class="st">'log_Open Porch SF'</span>,</span>
<span id="cb133-15"><a href="#cb133-15" aria-hidden="true" tabindex="-1"></a> <span class="st">'Enclosed Porch'</span>:<span class="st">'log_Enclosed Porch'</span>,</span>
<span id="cb133-16"><a href="#cb133-16" aria-hidden="true" tabindex="-1"></a> <span class="st">'3Ssn Porch'</span>:<span class="st">'log_3Ssn Porch'</span>,</span>
<span id="cb133-17"><a href="#cb133-17" aria-hidden="true" tabindex="-1"></a> <span class="st">'Screen Porch'</span>:<span class="st">'log_Screen Porch'</span>,</span>
<span id="cb133-18"><a href="#cb133-18" aria-hidden="true" tabindex="-1"></a> <span class="st">'Pool Area'</span>:<span class="st">'log_Pool Area'</span>,</span>
<span id="cb133-19"><a href="#cb133-19" aria-hidden="true" tabindex="-1"></a> <span class="st">'Misc Val'</span>:<span class="st">'log_Misc Val'</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-157" class="cell" data-execution_count="96">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>data_df.head(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="96">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">log_Lot Frontage</th>
<th data-quarto-table-cell-role="th">log_Lot Area</th>
<th data-quarto-table-cell-role="th">Lot Shape</th>
<th data-quarto-table-cell-role="th">Utilities</th>
<th data-quarto-table-cell-role="th">Land Slope</th>
<th data-quarto-table-cell-role="th">Overall Qual</th>
<th data-quarto-table-cell-role="th">Overall Cond</th>
<th data-quarto-table-cell-role="th">Year Built</th>
<th data-quarto-table-cell-role="th">Year Remod/Add</th>
<th data-quarto-table-cell-role="th">log_Mas Vnr Area</th>
<th data-quarto-table-cell-role="th">Exter Qual</th>
<th data-quarto-table-cell-role="th">Exter Cond</th>
<th data-quarto-table-cell-role="th">Bsmt Qual</th>
<th data-quarto-table-cell-role="th">Bsmt Cond</th>
<th data-quarto-table-cell-role="th">Bsmt Exposure</th>
<th data-quarto-table-cell-role="th">BsmtFin Type 1</th>
<th data-quarto-table-cell-role="th">log_BsmtFin SF 1</th>
<th data-quarto-table-cell-role="th">BsmtFin Type 2</th>
<th data-quarto-table-cell-role="th">log_BsmtFin SF 2</th>
<th data-quarto-table-cell-role="th">log_Bsmt Unf SF</th>
<th data-quarto-table-cell-role="th">log_Total Bsmt SF</th>
<th data-quarto-table-cell-role="th">Heating QC</th>
<th data-quarto-table-cell-role="th">Electrical</th>
<th data-quarto-table-cell-role="th">log_1st Flr SF</th>
<th data-quarto-table-cell-role="th">log_2nd Flr SF</th>
<th data-quarto-table-cell-role="th">log_Low Qual Fin SF</th>
<th data-quarto-table-cell-role="th">log_Gr Liv Area</th>
<th data-quarto-table-cell-role="th">Bsmt Full Bath</th>
<th data-quarto-table-cell-role="th">Bsmt Half Bath</th>
<th data-quarto-table-cell-role="th">Full Bath</th>
<th data-quarto-table-cell-role="th">Half Bath</th>
<th data-quarto-table-cell-role="th">Bedroom AbvGr</th>
<th data-quarto-table-cell-role="th">Kitchen AbvGr</th>
<th data-quarto-table-cell-role="th">Kitchen Qual</th>
<th data-quarto-table-cell-role="th">TotRms AbvGrd</th>
<th data-quarto-table-cell-role="th">Functional</th>
<th data-quarto-table-cell-role="th">Fireplaces</th>
<th data-quarto-table-cell-role="th">Fireplace Qu</th>
<th data-quarto-table-cell-role="th">Garage Yr Blt</th>
<th data-quarto-table-cell-role="th">Garage Finish</th>
<th data-quarto-table-cell-role="th">Garage Cars</th>
<th data-quarto-table-cell-role="th">log_Garage Area</th>
<th data-quarto-table-cell-role="th">Garage Qual</th>
<th data-quarto-table-cell-role="th">Garage Cond</th>
<th data-quarto-table-cell-role="th">Paved Drive</th>
<th data-quarto-table-cell-role="th">log_Wood Deck SF</th>
<th data-quarto-table-cell-role="th">log_Open Porch SF</th>
<th data-quarto-table-cell-role="th">log_Enclosed Porch</th>
<th data-quarto-table-cell-role="th">log_3Ssn Porch</th>
<th data-quarto-table-cell-role="th">log_Screen Porch</th>
<th data-quarto-table-cell-role="th">log_Pool Area</th>
<th data-quarto-table-cell-role="th">Pool QC</th>
<th data-quarto-table-cell-role="th">Fence</th>
<th data-quarto-table-cell-role="th">log_Misc Val</th>
<th data-quarto-table-cell-role="th">Mo Sold</th>
<th data-quarto-table-cell-role="th">Yr Sold</th>
<th data-quarto-table-cell-role="th">SalePrice</th>
<th data-quarto-table-cell-role="th">MS SubClass_b</th>
<th data-quarto-table-cell-role="th">MS SubClass_c</th>
<th data-quarto-table-cell-role="th">MS SubClass_d</th>
<th data-quarto-table-cell-role="th">MS SubClass_e</th>
<th data-quarto-table-cell-role="th">MS SubClass_f</th>
<th data-quarto-table-cell-role="th">MS SubClass_g</th>
<th data-quarto-table-cell-role="th">MS SubClass_h</th>
<th data-quarto-table-cell-role="th">MS SubClass_i</th>
<th data-quarto-table-cell-role="th">MS SubClass_j</th>
<th data-quarto-table-cell-role="th">MS SubClass_k</th>
<th data-quarto-table-cell-role="th">MS SubClass_l</th>
<th data-quarto-table-cell-role="th">MS SubClass_m</th>
<th data-quarto-table-cell-role="th">MS SubClass_n</th>
<th data-quarto-table-cell-role="th">MS SubClass_o</th>
<th data-quarto-table-cell-role="th">MS SubClass_p</th>
<th data-quarto-table-cell-role="th">MS Zoning_C (all)</th>
<th data-quarto-table-cell-role="th">MS Zoning_FV</th>
<th data-quarto-table-cell-role="th">MS Zoning_I (all)</th>
<th data-quarto-table-cell-role="th">MS Zoning_RH</th>
<th data-quarto-table-cell-role="th">MS Zoning_RL</th>
<th data-quarto-table-cell-role="th">MS Zoning_RM</th>
<th data-quarto-table-cell-role="th">Street_Pave</th>
<th data-quarto-table-cell-role="th">Alley_NA</th>
<th data-quarto-table-cell-role="th">Alley_Pave</th>
<th data-quarto-table-cell-role="th">Land Contour_HLS</th>
<th data-quarto-table-cell-role="th">Land Contour_Low</th>
<th data-quarto-table-cell-role="th">Land Contour_Lvl</th>
<th data-quarto-table-cell-role="th">Lot Config_CulDSac</th>
<th data-quarto-table-cell-role="th">Lot Config_FR2</th>
<th data-quarto-table-cell-role="th">Lot Config_FR3</th>
<th data-quarto-table-cell-role="th">Lot Config_Inside</th>
<th data-quarto-table-cell-role="th">Neighborhood_Blueste</th>
<th data-quarto-table-cell-role="th">Neighborhood_BrDale</th>
<th data-quarto-table-cell-role="th">Neighborhood_BrkSide</th>
<th data-quarto-table-cell-role="th">Neighborhood_ClearCr</th>
<th data-quarto-table-cell-role="th">Neighborhood_CollgCr</th>
<th data-quarto-table-cell-role="th">Neighborhood_Crawfor</th>
<th data-quarto-table-cell-role="th">Neighborhood_Edwards</th>
<th data-quarto-table-cell-role="th">Neighborhood_Gilbert</th>
<th data-quarto-table-cell-role="th">Neighborhood_Greens</th>
<th data-quarto-table-cell-role="th">Neighborhood_GrnHill</th>
<th data-quarto-table-cell-role="th">Neighborhood_IDOTRR</th>
<th data-quarto-table-cell-role="th">Neighborhood_Landmrk</th>
<th data-quarto-table-cell-role="th">Neighborhood_MeadowV</th>
<th data-quarto-table-cell-role="th">Neighborhood_Mitchel</th>
<th data-quarto-table-cell-role="th">Neighborhood_NAmes</th>
<th data-quarto-table-cell-role="th">Neighborhood_NPkVill</th>
<th data-quarto-table-cell-role="th">Neighborhood_NWAmes</th>
<th data-quarto-table-cell-role="th">Neighborhood_NoRidge</th>
<th data-quarto-table-cell-role="th">Neighborhood_NridgHt</th>
<th data-quarto-table-cell-role="th">Neighborhood_OldTown</th>
<th data-quarto-table-cell-role="th">Neighborhood_SWISU</th>
<th data-quarto-table-cell-role="th">Neighborhood_Sawyer</th>
<th data-quarto-table-cell-role="th">Neighborhood_SawyerW</th>
<th data-quarto-table-cell-role="th">Neighborhood_Somerst</th>
<th data-quarto-table-cell-role="th">Neighborhood_StoneBr</th>
<th data-quarto-table-cell-role="th">Neighborhood_Timber</th>
<th data-quarto-table-cell-role="th">Neighborhood_Veenker</th>
<th data-quarto-table-cell-role="th">Condition 1_Feedr</th>
<th data-quarto-table-cell-role="th">Condition 1_Norm</th>
<th data-quarto-table-cell-role="th">Condition 1_PosA</th>
<th data-quarto-table-cell-role="th">Condition 1_PosN</th>
<th data-quarto-table-cell-role="th">Condition 1_RRAe</th>
<th data-quarto-table-cell-role="th">Condition 1_RRAn</th>
<th data-quarto-table-cell-role="th">Condition 1_RRNe</th>
<th data-quarto-table-cell-role="th">Condition 1_RRNn</th>
<th data-quarto-table-cell-role="th">Condition 2_Feedr</th>
<th data-quarto-table-cell-role="th">Condition 2_Norm</th>
<th data-quarto-table-cell-role="th">Condition 2_PosA</th>
<th data-quarto-table-cell-role="th">Condition 2_PosN</th>
<th data-quarto-table-cell-role="th">Condition 2_RRAe</th>
<th data-quarto-table-cell-role="th">Condition 2_RRAn</th>
<th data-quarto-table-cell-role="th">Condition 2_RRNn</th>
<th data-quarto-table-cell-role="th">Bldg Type_2fmCon</th>
<th data-quarto-table-cell-role="th">Bldg Type_Duplex</th>
<th data-quarto-table-cell-role="th">Bldg Type_Twnhs</th>
<th data-quarto-table-cell-role="th">Bldg Type_TwnhsE</th>
<th data-quarto-table-cell-role="th">House Style_1.5Unf</th>
<th data-quarto-table-cell-role="th">House Style_1Story</th>
<th data-quarto-table-cell-role="th">House Style_2.5Fin</th>
<th data-quarto-table-cell-role="th">House Style_2.5Unf</th>
<th data-quarto-table-cell-role="th">House Style_2Story</th>
<th data-quarto-table-cell-role="th">House Style_SFoyer</th>
<th data-quarto-table-cell-role="th">House Style_SLvl</th>
<th data-quarto-table-cell-role="th">Roof Style_Gable</th>
<th data-quarto-table-cell-role="th">Roof Style_Gambrel</th>
<th data-quarto-table-cell-role="th">Roof Style_Hip</th>
<th data-quarto-table-cell-role="th">Roof Style_Mansard</th>
<th data-quarto-table-cell-role="th">Roof Style_Shed</th>
<th data-quarto-table-cell-role="th">Roof Matl_Membran</th>
<th data-quarto-table-cell-role="th">Roof Matl_Metal</th>
<th data-quarto-table-cell-role="th">Roof Matl_Tar&amp;Grv</th>
<th data-quarto-table-cell-role="th">Roof Matl_WdShake</th>
<th data-quarto-table-cell-role="th">Roof Matl_WdShngl</th>
<th data-quarto-table-cell-role="th">Exterior 1st_AsphShn</th>
<th data-quarto-table-cell-role="th">Exterior 1st_BrkComm</th>
<th data-quarto-table-cell-role="th">Exterior 1st_BrkFace</th>
<th data-quarto-table-cell-role="th">Exterior 1st_CBlock</th>
<th data-quarto-table-cell-role="th">Exterior 1st_CemntBd</th>
<th data-quarto-table-cell-role="th">Exterior 1st_HdBoard</th>
<th data-quarto-table-cell-role="th">Exterior 1st_ImStucc</th>
<th data-quarto-table-cell-role="th">Exterior 1st_MetalSd</th>
<th data-quarto-table-cell-role="th">Exterior 1st_Plywood</th>
<th data-quarto-table-cell-role="th">Exterior 1st_PreCast</th>
<th data-quarto-table-cell-role="th">Exterior 1st_Stone</th>
<th data-quarto-table-cell-role="th">Exterior 1st_Stucco</th>
<th data-quarto-table-cell-role="th">Exterior 1st_VinylSd</th>
<th data-quarto-table-cell-role="th">Exterior 1st_Wd Sdng</th>
<th data-quarto-table-cell-role="th">Exterior 1st_WdShing</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_AsphShn</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_Brk Cmn</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_BrkFace</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_CBlock</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_CmentBd</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_HdBoard</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_ImStucc</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_MetalSd</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_Plywood</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_PreCast</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_Stone</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_Stucco</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_VinylSd</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_Wd Sdng</th>
<th data-quarto-table-cell-role="th">Exterior 2nd_Wd Shng</th>
<th data-quarto-table-cell-role="th">Mas Vnr Type_BrkFace</th>
<th data-quarto-table-cell-role="th">Mas Vnr Type_CBlock</th>
<th data-quarto-table-cell-role="th">Mas Vnr Type_NA</th>
<th data-quarto-table-cell-role="th">Mas Vnr Type_None</th>
<th data-quarto-table-cell-role="th">Mas Vnr Type_Stone</th>
<th data-quarto-table-cell-role="th">Foundation_CBlock</th>
<th data-quarto-table-cell-role="th">Foundation_PConc</th>
<th data-quarto-table-cell-role="th">Foundation_Slab</th>
<th data-quarto-table-cell-role="th">Foundation_Stone</th>
<th data-quarto-table-cell-role="th">Foundation_Wood</th>
<th data-quarto-table-cell-role="th">Heating_GasA</th>
<th data-quarto-table-cell-role="th">Heating_GasW</th>
<th data-quarto-table-cell-role="th">Heating_Grav</th>
<th data-quarto-table-cell-role="th">Heating_OthW</th>
<th data-quarto-table-cell-role="th">Heating_Wall</th>
<th data-quarto-table-cell-role="th">Central Air_Y</th>
<th data-quarto-table-cell-role="th">Garage Type_Attchd</th>
<th data-quarto-table-cell-role="th">Garage Type_Basment</th>
<th data-quarto-table-cell-role="th">Garage Type_BuiltIn</th>
<th data-quarto-table-cell-role="th">Garage Type_CarPort</th>
<th data-quarto-table-cell-role="th">Garage Type_Detchd</th>
<th data-quarto-table-cell-role="th">Garage Type_NA</th>
<th data-quarto-table-cell-role="th">Misc Feature_NA</th>
<th data-quarto-table-cell-role="th">Misc Feature_Othr</th>
<th data-quarto-table-cell-role="th">Misc Feature_Shed</th>
<th data-quarto-table-cell-role="th">Misc Feature_TenC</th>
<th data-quarto-table-cell-role="th">Sale Type_CWD</th>
<th data-quarto-table-cell-role="th">Sale Type_Con</th>
<th data-quarto-table-cell-role="th">Sale Type_ConLD</th>
<th data-quarto-table-cell-role="th">Sale Type_ConLI</th>
<th data-quarto-table-cell-role="th">Sale Type_ConLw</th>
<th data-quarto-table-cell-role="th">Sale Type_New</th>
<th data-quarto-table-cell-role="th">Sale Type_Oth</th>
<th data-quarto-table-cell-role="th">Sale Type_VWD</th>
<th data-quarto-table-cell-role="th">Sale Type_WD</th>
<th data-quarto-table-cell-role="th">Sale Condition_AdjLand</th>
<th data-quarto-table-cell-role="th">Sale Condition_Alloca</th>
<th data-quarto-table-cell-role="th">Sale Condition_Family</th>
<th data-quarto-table-cell-role="th">Sale Condition_Normal</th>
<th data-quarto-table-cell-role="th">Sale Condition_Partial</th>
<th data-quarto-table-cell-role="th">log_SalePrice</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>4.234107</td>
<td>9.082052</td>
<td>3</td>
<td>4</td>
<td>3</td>
<td>7</td>
<td>5</td>
<td>2000</td>
<td>2000</td>
<td>0.0</td>
<td>4</td>
<td>3</td>
<td>4</td>
<td>3</td>
<td>1</td>
<td>6</td>
<td>5.70711</td>
<td>1</td>
<td>0.0</td>
<td>6.481577</td>
<td>6.859615</td>
<td>5</td>
<td>5</td>
<td>6.888572</td>
<td>7.152269</td>
<td>0.0</td>
<td>7.721792</td>
<td>0.0</td>
<td>0.0</td>
<td>2</td>
<td>1</td>
<td>4</td>
<td>1</td>
<td>4</td>
<td>8</td>
<td>8</td>
<td>1</td>
<td>3</td>
<td>2000.0</td>
<td>3</td>
<td>2.0</td>
<td>6.318968</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>5.4161</td>
<td>4.007333</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0</td>
<td>0</td>
<td>0.0</td>
<td>4</td>
<td>2009</td>
<td>236000</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>12.371591</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Now let’s plot these variables with respect to the sale price.</p>
<div id="cell-159" class="cell" data-execution_count="97">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>fig,axes <span class="op">=</span> plt.subplots(nrows<span class="op">=</span><span class="dv">5</span>,ncols<span class="op">=</span><span class="dv">4</span>,figsize<span class="op">=</span>(<span class="dv">16</span>,<span class="dv">20</span>))</span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col,ax <span class="kw">in</span> <span class="bu">zip</span>(ContinuousVar,axes.ravel()):</span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a>    ax.scatter(data_df[<span class="bu">str</span>(<span class="st">'log_'</span>)<span class="op">+</span>col],data_df[<span class="st">'SalePrice'</span>])</span>
<span id="cb135-5"><a href="#cb135-5" aria-hidden="true" tabindex="-1"></a>    ax.set_title(col<span class="op">+</span><span class="bu">str</span>(<span class="st">' Versus SalePrice'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="projet_3_files/figure-html/cell-98-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>From what I see, we could maybe create the following dummy variables: - 0 if no basement, 1 otherwise - 0 if no pool, 1 otherwise - 0 if no masonry, 1 otherwise -( Garage is handled in next section)</p>
<div id="cell-161" class="cell" data-execution_count="98">
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'Basement'</span>] <span class="op">=</span> (data_df[<span class="st">'log_Total Bsmt SF'</span>] <span class="op">!=</span><span class="dv">0</span>).astype(<span class="bu">int</span>)</span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'Pool'</span>] <span class="op">=</span> (data_df[<span class="st">'log_Pool Area'</span>] <span class="op">!=</span><span class="dv">0</span>).astype(<span class="bu">int</span>)</span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'Mas Vnr Area'</span>] <span class="op">=</span> (data_df[<span class="st">'log_Mas Vnr Area'</span>] <span class="op">!=</span><span class="dv">0</span>).astype(<span class="bu">int</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Discrete variables:</li>
</ul>
<div id="cell-163" class="cell" data-execution_count="99">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(DiscreteVar)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="99">
<pre><code>14</code></pre>
</div>
</div>
<p>As I did it before for continuous before, let’s plot the discrete variables to have an overview of the data.</p>
<div id="cell-165" class="cell" data-execution_count="100">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>fig,axes <span class="op">=</span> plt.subplots(nrows<span class="op">=</span><span class="dv">4</span>,ncols<span class="op">=</span><span class="dv">4</span>,figsize<span class="op">=</span>(<span class="dv">20</span>,<span class="dv">20</span>))</span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-3"><a href="#cb139-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col,ax <span class="kw">in</span> <span class="bu">zip</span>(DiscreteVar,axes.ravel()):</span>
<span id="cb139-4"><a href="#cb139-4" aria-hidden="true" tabindex="-1"></a>    ax.scatter(data_df[col],data_df[<span class="st">'SalePrice'</span>])</span>
<span id="cb139-5"><a href="#cb139-5" aria-hidden="true" tabindex="-1"></a>    ax.set_title(col<span class="op">+</span><span class="bu">str</span>(<span class="st">' Versus SalePrice'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="projet_3_files/figure-html/cell-101-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>From what I see, we could maybe create the following dummy variables: - 0 if YearBuilt below threshold, 1 otherwise - 0 if Garage Cars = 0 (no garage), 1 otherwise</p>
<div id="cell-167" class="cell" data-execution_count="101">
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a>YearBuiltBelow1980 <span class="op">=</span> data_df[data_df[<span class="st">'Year Built'</span>]<span class="op">&lt;</span><span class="dv">1980</span>]</span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a>YearBuiltAbove1980 <span class="op">=</span> data_df[data_df[<span class="st">'Year Built'</span>]<span class="op">&gt;=</span><span class="dv">1980</span>]</span>
<span id="cb140-3"><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-4"><a href="#cb140-4" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize <span class="op">=</span> (<span class="dv">8</span>,<span class="dv">8</span>))</span>
<span id="cb140-5"><a href="#cb140-5" aria-hidden="true" tabindex="-1"></a>YearBuiltBelow1980[<span class="st">'SalePrice'</span>].plot(kind<span class="op">=</span><span class="st">"hist"</span>,density<span class="op">=</span><span class="va">True</span>,bins<span class="op">=</span><span class="dv">30</span>,color<span class="op">=</span><span class="st">'orange'</span>,alpha<span class="op">=</span><span class="fl">0.2</span>,label<span class="op">=</span><span class="st">'&lt;1980'</span>)</span>
<span id="cb140-6"><a href="#cb140-6" aria-hidden="true" tabindex="-1"></a>YearBuiltAbove1980[<span class="st">'SalePrice'</span>].plot(kind<span class="op">=</span><span class="st">"hist"</span>,density<span class="op">=</span><span class="va">True</span>,bins<span class="op">=</span><span class="dv">30</span>,color<span class="op">=</span><span class="st">'blue'</span>,alpha<span class="op">=</span><span class="fl">0.2</span>,label<span class="op">=</span><span class="st">'&gt;1980'</span>)</span>
<span id="cb140-7"><a href="#cb140-7" aria-hidden="true" tabindex="-1"></a>ax.legend(loc<span class="op">=</span><span class="st">'upper right'</span>)</span>
<span id="cb140-8"><a href="#cb140-8" aria-hidden="true" tabindex="-1"></a>YearBuiltBelow1980[<span class="st">'SalePrice'</span>].plot(kind<span class="op">=</span><span class="st">"kde"</span>,color<span class="op">=</span><span class="st">'orange'</span>)</span>
<span id="cb140-9"><a href="#cb140-9" aria-hidden="true" tabindex="-1"></a>YearBuiltAbove1980[<span class="st">'SalePrice'</span>].plot(kind<span class="op">=</span><span class="st">"kde"</span>,color<span class="op">=</span><span class="st">'blue'</span>)</span>
<span id="cb140-10"><a href="#cb140-10" aria-hidden="true" tabindex="-1"></a>ax.set_xlim(<span class="dv">0</span>, <span class="dv">600000</span>)</span>
<span id="cb140-11"><a href="#cb140-11" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'Sale Price distribution depending of the Sold Year'</span>)</span>
<span id="cb140-12"><a href="#cb140-12" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="projet_3_files/figure-html/cell-102-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-168" class="cell" data-execution_count="102">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'Year Built Above 1980'</span>] <span class="op">=</span> (data_df[<span class="st">'Year Built'</span>] <span class="op">&gt;=</span> <span class="dv">1980</span>).astype(<span class="bu">int</span>)</span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'Year Built Below 1980'</span>] <span class="op">=</span> (data_df[<span class="st">'Year Built'</span>] <span class="op">&lt;</span> <span class="dv">1980</span>).astype(<span class="bu">int</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-169" class="cell" data-execution_count="103">
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a>data_df[[<span class="st">'Year Built'</span>,<span class="st">'Year Built Above 1980'</span>,<span class="st">'Year Built Below 1980'</span>]].head(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="103">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Year Built</th>
<th data-quarto-table-cell-role="th">Year Built Above 1980</th>
<th data-quarto-table-cell-role="th">Year Built Below 1980</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2000</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>1951</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>1970</td>
<td>0</td>
<td>1</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-170" class="cell" data-execution_count="104">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">str</span>(<span class="st">'The mean of the sale price for houses without garage is:'</span>), <span class="bu">round</span>(np.mean(data_df[data_df[<span class="st">'Garage Cars'</span>] <span class="op">==</span> <span class="dv">0</span>][<span class="st">'SalePrice'</span>])))</span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">str</span>(<span class="st">'The mean of the sale price for houses with a garage is:'</span>), <span class="bu">round</span>(np.mean(data_df[data_df[<span class="st">'Garage Cars'</span>] <span class="op">!=</span> <span class="dv">0</span>][<span class="st">'SalePrice'</span>])))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The mean of the sale price for houses without garage is: 105693.0
The mean of the sale price for houses with a garage is: 184158.0</code></pre>
</div>
</div>
<div id="cell-171" class="cell" data-execution_count="105">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'House without Garage'</span>] <span class="op">=</span> (data_df[<span class="st">'Garage Cars'</span>] <span class="op">==</span> <span class="dv">0</span>).astype(<span class="bu">int</span>)</span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a>data_df[<span class="st">'House with Garage'</span>] <span class="op">=</span> (data_df[<span class="st">'Garage Cars'</span>] <span class="op">!=</span> <span class="dv">0</span>).astype(<span class="bu">int</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-172" class="cell" data-execution_count="106">
<div class="sourceCode cell-code" id="cb146"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a>data_df[[<span class="st">'House with Garage'</span>,<span class="st">'House without Garage'</span>]].head(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="106">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">House with Garage</th>
<th data-quarto-table-cell-role="th">House without Garage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>1</td>
<td>0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ul>
<li>Nominal variables:</li>
</ul>
<p>Nominal variables have already been encoded with dummy variabbles. (see section above)</p>
<ul>
<li>Ordinal variables:</li>
</ul>
<div id="cell-176" class="cell" data-execution_count="107">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(OrdinalVar)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="107">
<pre><code>23</code></pre>
</div>
</div>
<div id="cell-177" class="cell" data-execution_count="108">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a>fig,axes <span class="op">=</span> plt.subplots(nrows<span class="op">=</span><span class="dv">6</span>,ncols<span class="op">=</span><span class="dv">4</span>,figsize<span class="op">=</span>(<span class="dv">25</span>,<span class="dv">30</span>))</span>
<span id="cb149-2"><a href="#cb149-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col,axis <span class="kw">in</span> <span class="bu">zip</span>(OrdinalVar,axes.ravel()):</span>
<span id="cb149-3"><a href="#cb149-3" aria-hidden="true" tabindex="-1"></a>    g <span class="op">=</span> sns.catplot(x<span class="op">=</span>col,y<span class="op">=</span><span class="st">'SalePrice'</span>,data<span class="op">=</span>data_df,ax<span class="op">=</span>axis,kind<span class="op">=</span><span class="st">'box'</span>)</span>
<span id="cb149-4"><a href="#cb149-4" aria-hidden="true" tabindex="-1"></a>    plt.close()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="projet_3_files/figure-html/cell-109-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>I think these ordinal variables are fine like that. They do not need a particular encoding. However, this grid shows us big differences in the quality variables (Overall Qual, Ext Qual etc.).</p>
</section>
</section>
<section id="model-fitting" class="level1">
<h1>4. Model fitting</h1>
<ul>
<li>Simple model:</li>
</ul>
<p>For this model, I take as features the two most correlated variables with the SalePrice variable. Taking these variables make sense since it should indirectly lead to better results.</p>
<div id="cell-182" class="cell" data-execution_count="109">
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a>data_df.corr()[<span class="st">'log_SalePrice'</span>].sort_values(ascending<span class="op">=</span><span class="va">False</span>).head(<span class="dv">13</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="109">
<pre><code>log_SalePrice            1.000000
SalePrice                0.947413
Overall Qual             0.828522
log_Gr Liv Area          0.721594
Garage Cars              0.670633
Kitchen Qual             0.661810
Bsmt Qual                0.638555
log_1st Flr SF           0.620696
Year Built Above 1980    0.619973
Year Built               0.619094
Garage Finish            0.592214
Year Remod/Add           0.582110
Full Bath                0.569508
Name: log_SalePrice, dtype: float64</code></pre>
</div>
</div>
<div id="cell-183" class="cell" data-execution_count="110">
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a>X_simple <span class="op">=</span> data_df[[<span class="st">'Overall Qual'</span>,<span class="st">'log_Gr Liv Area'</span>]]</span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a>y_simple <span class="op">=</span> data_df[<span class="st">'log_SalePrice'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-184" class="cell" data-execution_count="111">
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a>X_tr_simple, X_te_simple, y_tr_simple, y_te_simple <span class="op">=</span> train_test_split(X_simple, y_simple, test_size<span class="op">=</span><span class="fl">0.5</span>, random_state<span class="op">=</span><span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>First, let’s create the baseline.</p>
<div id="cell-186" class="cell" data-execution_count="112">
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> MAE(y, y_pred):</span>
<span id="cb154-2"><a href="#cb154-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.mean(np.<span class="bu">abs</span>(y <span class="op">-</span> y_pred))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-187" class="cell" data-execution_count="113">
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a>mae_baseline <span class="op">=</span> MAE(np.exp(y_te_simple), np.exp(np.median(y_tr_simple)))</span>
<span id="cb155-2"><a href="#cb155-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'MAE Baseline: </span><span class="sc">{:.5f}</span><span class="st">'</span>.<span class="bu">format</span>(mae_baseline))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>MAE Baseline: 54856.93064</code></pre>
</div>
</div>
<p>As stated before, I use the Huber regressor since I did not take out potential outliers.</p>
<div id="cell-189" class="cell" data-execution_count="114">
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a>huber <span class="op">=</span> HuberRegressor(epsilon<span class="op">=</span><span class="fl">1.45</span>)</span>
<span id="cb157-2"><a href="#cb157-2" aria-hidden="true" tabindex="-1"></a>huber.fit(X_tr_simple, y_tr_simple) </span>
<span id="cb157-3"><a href="#cb157-3" aria-hidden="true" tabindex="-1"></a>y_pred_huber_simple <span class="op">=</span> huber.predict(X_te_simple)</span>
<span id="cb157-4"><a href="#cb157-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-5"><a href="#cb157-5" aria-hidden="true" tabindex="-1"></a>mae_huber <span class="op">=</span> MAE(np.exp(y_te_simple), np.exp(y_pred_huber_simple))</span>
<span id="cb157-6"><a href="#cb157-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'MAE Huber: </span><span class="sc">{:.5f}</span><span class="st">'</span>.<span class="bu">format</span>(mae_huber))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>MAE Huber: 24722.31174</code></pre>
</div>
</div>
<div id="cell-190" class="cell" data-execution_count="115">
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a>plt.bar([<span class="dv">1</span>, <span class="dv">2</span>, ], [mae_baseline, mae_huber])</span>
<span id="cb159-2"><a href="#cb159-2" aria-hidden="true" tabindex="-1"></a>plt.xticks([<span class="dv">1</span>, <span class="dv">2</span>,], [<span class="st">'MAE Baseline'</span>, <span class="st">'MAE Huber'</span>])</span>
<span id="cb159-3"><a href="#cb159-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="projet_3_files/figure-html/cell-116-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>Intermediate model:</li>
</ul>
<div id="cell-192" class="cell" data-execution_count="116">
<div class="sourceCode cell-code" id="cb160"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a>X_intermediate <span class="op">=</span> data_df[[<span class="st">'Overall Qual'</span>,<span class="st">'log_Gr Liv Area'</span>,<span class="st">'Garage Cars'</span>, <span class="st">'Kitchen Qual'</span>, <span class="st">'Bsmt Qual'</span>,<span class="st">'log_1st Flr SF'</span>,<span class="st">'Year Built Above 1980'</span>,<span class="st">'Garage Finish'</span>,</span>
<span id="cb160-2"><a href="#cb160-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Year Remod/Add'</span>,<span class="st">'Full Bath'</span>]]</span>
<span id="cb160-3"><a href="#cb160-3" aria-hidden="true" tabindex="-1"></a>y_intermediate <span class="op">=</span> data_df[<span class="st">'log_SalePrice'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-193" class="cell" data-execution_count="117">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a>X_tr_intermediate, X_te_intermediate, y_tr_intermediate, y_te_intermediate <span class="op">=</span> train_test_split(X_intermediate, y_intermediate, test_size<span class="op">=</span><span class="fl">0.5</span>, random_state<span class="op">=</span><span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-194" class="cell" data-execution_count="118">
<div class="sourceCode cell-code" id="cb162"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a>huber <span class="op">=</span> HuberRegressor(epsilon<span class="op">=</span><span class="fl">1.45</span>)</span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a>huber.fit(X_tr_intermediate, y_tr_intermediate) </span>
<span id="cb162-3"><a href="#cb162-3" aria-hidden="true" tabindex="-1"></a>y_pred_huber_intermediate <span class="op">=</span> huber.predict(X_te_intermediate)</span>
<span id="cb162-4"><a href="#cb162-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb162-5"><a href="#cb162-5" aria-hidden="true" tabindex="-1"></a>mae_huber2 <span class="op">=</span> MAE(np.exp(y_te_intermediate), np.exp(y_pred_huber_intermediate))</span>
<span id="cb162-6"><a href="#cb162-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'MAE Huber: </span><span class="sc">{:.5f}</span><span class="st">'</span>.<span class="bu">format</span>(mae_huber2))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>MAE Huber: 19353.02712</code></pre>
</div>
</div>
<div id="cell-195" class="cell" data-execution_count="119">
<div class="sourceCode cell-code" id="cb164"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a>plt.bar([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], [mae_baseline, mae_huber,mae_huber2])</span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a>plt.xticks([<span class="dv">1</span>, <span class="dv">2</span>,<span class="dv">3</span>], [<span class="st">'MAE Baseline'</span>, <span class="st">'MAE Huber 2 var'</span>,<span class="st">'MAE Huber 10 var'</span>])</span>
<span id="cb164-3"><a href="#cb164-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="projet_3_files/figure-html/cell-120-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>Complex model:</li>
</ul>
<div id="cell-197" class="cell" data-execution_count="120">
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a>X_complex <span class="op">=</span> data_df.drop([<span class="st">'SalePrice'</span>,<span class="st">'log_SalePrice'</span>],axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb165-2"><a href="#cb165-2" aria-hidden="true" tabindex="-1"></a>y_complex <span class="op">=</span> data_df[<span class="st">'log_SalePrice'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-198" class="cell" data-execution_count="121">
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a>X_tr_complex, X_te_complex, y_tr_complex, y_te_complex <span class="op">=</span> train_test_split(X_complex, y_complex, test_size<span class="op">=</span><span class="fl">0.5</span>, random_state<span class="op">=</span><span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-199" class="cell" data-execution_count="122">
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a>huber <span class="op">=</span> HuberRegressor(epsilon<span class="op">=</span><span class="fl">1.45</span>)</span>
<span id="cb167-2"><a href="#cb167-2" aria-hidden="true" tabindex="-1"></a>huber.fit(X_tr_complex, y_tr_complex) </span>
<span id="cb167-3"><a href="#cb167-3" aria-hidden="true" tabindex="-1"></a>y_pred_huber_complex <span class="op">=</span> huber.predict(X_te_complex)</span>
<span id="cb167-4"><a href="#cb167-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb167-5"><a href="#cb167-5" aria-hidden="true" tabindex="-1"></a>mae_huber3 <span class="op">=</span> MAE(np.exp(y_te_complex), np.exp(y_pred_huber_complex))</span>
<span id="cb167-6"><a href="#cb167-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'MAE Huber: </span><span class="sc">{:.5f}</span><span class="st">'</span>.<span class="bu">format</span>(mae_huber3))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>MAE Huber: 38596.51255</code></pre>
</div>
</div>
<div id="cell-200" class="cell" data-execution_count="123">
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">6</span>))</span>
<span id="cb169-2"><a href="#cb169-2" aria-hidden="true" tabindex="-1"></a>plt.bar([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>,<span class="dv">4</span>], [mae_baseline, mae_huber,mae_huber2, mae_huber3],align<span class="op">=</span><span class="st">'center'</span>)</span>
<span id="cb169-3"><a href="#cb169-3" aria-hidden="true" tabindex="-1"></a>plt.xticks([<span class="dv">1</span>, <span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>], [<span class="st">'MAE Baseline'</span>, <span class="st">'MAE Huber 2 var'</span>,<span class="st">'MAE Huber 10 var'</span>,<span class="st">'MAE Huber All var'</span>])</span>
<span id="cb169-4"><a href="#cb169-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="projet_3_files/figure-html/cell-124-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>The best model is the one with 10 variables which is slightly better than the one with only 2 variables.</p>
</section>
<section id="regularization" class="level1">
<h1>5. Regularization</h1>
<p>We first standardize our data.</p>
<div id="cell-204" class="cell" data-execution_count="124">
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a>scaler <span class="op">=</span> StandardScaler()</span>
<span id="cb170-2"><a href="#cb170-2" aria-hidden="true" tabindex="-1"></a>X_tr_rescaled <span class="op">=</span> scaler.fit_transform(X_tr_complex)</span>
<span id="cb170-3"><a href="#cb170-3" aria-hidden="true" tabindex="-1"></a>X_te_rescaled <span class="op">=</span> scaler.transform(X_te_complex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then, we can apply our ridge regression and plot the validation curve.</p>
<div id="cell-206" class="cell" data-execution_count="125">
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> mean_squared_error <span class="im">as</span> MSE</span>
<span id="cb171-2"><a href="#cb171-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> mean_absolute_error <span class="im">as</span> MAE</span>
<span id="cb171-3"><a href="#cb171-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> Ridge</span>
<span id="cb171-4"><a href="#cb171-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-5"><a href="#cb171-5" aria-hidden="true" tabindex="-1"></a>gs_results <span class="op">=</span> []</span>
<span id="cb171-6"><a href="#cb171-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-7"><a href="#cb171-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> alpha <span class="kw">in</span> np.logspace(<span class="op">-</span><span class="dv">1</span>, <span class="dv">4</span>, num<span class="op">=</span><span class="dv">20</span>):</span>
<span id="cb171-8"><a href="#cb171-8" aria-hidden="true" tabindex="-1"></a>    ridge <span class="op">=</span> Ridge(alpha<span class="op">=</span>alpha)</span>
<span id="cb171-9"><a href="#cb171-9" aria-hidden="true" tabindex="-1"></a>    ridge.fit(X_tr_rescaled, y_tr_complex)</span>
<span id="cb171-10"><a href="#cb171-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb171-11"><a href="#cb171-11" aria-hidden="true" tabindex="-1"></a>    gs_results.append({</span>
<span id="cb171-12"><a href="#cb171-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">'model'</span>: ridge,</span>
<span id="cb171-13"><a href="#cb171-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">'alpha'</span>: alpha,</span>
<span id="cb171-14"><a href="#cb171-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">'train_mse'</span>: MSE(y_tr_complex, ridge.predict(X_tr_rescaled)),</span>
<span id="cb171-15"><a href="#cb171-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">'train_mae'</span>: MAE(np.exp(y_tr_complex), np.exp(ridge.predict(X_tr_rescaled))),</span>
<span id="cb171-16"><a href="#cb171-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">'test_mse'</span>: MSE(y_te_complex, ridge.predict(X_te_rescaled)),</span>
<span id="cb171-17"><a href="#cb171-17" aria-hidden="true" tabindex="-1"></a>        <span class="st">'test_mae'</span>: MAE(np.exp(y_te_complex), np.exp(ridge.predict(X_te_rescaled))),</span>
<span id="cb171-18"><a href="#cb171-18" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb171-19"><a href="#cb171-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-20"><a href="#cb171-20" aria-hidden="true" tabindex="-1"></a>gs_results <span class="op">=</span> pd.DataFrame(gs_results)</span>
<span id="cb171-21"><a href="#cb171-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-22"><a href="#cb171-22" aria-hidden="true" tabindex="-1"></a>plt.plot(np.log10(gs_results[<span class="st">'alpha'</span>]), gs_results[<span class="st">'train_mse'</span>], label<span class="op">=</span><span class="st">'train curve'</span>)</span>
<span id="cb171-23"><a href="#cb171-23" aria-hidden="true" tabindex="-1"></a>plt.plot(np.log10(gs_results[<span class="st">'alpha'</span>]), gs_results[<span class="st">'test_mse'</span>], label<span class="op">=</span><span class="st">'test curve'</span>)</span>
<span id="cb171-24"><a href="#cb171-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-25"><a href="#cb171-25" aria-hidden="true" tabindex="-1"></a>best_result <span class="op">=</span> gs_results.loc[gs_results.test_mse.idxmin()]</span>
<span id="cb171-26"><a href="#cb171-26" aria-hidden="true" tabindex="-1"></a>plt.scatter(np.log10(best_result.alpha), best_result.test_mse, marker<span class="op">=</span><span class="st">'x'</span>, c<span class="op">=</span><span class="st">'red'</span>, zorder<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb171-27"><a href="#cb171-27" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Best alpha: </span><span class="sc">{:.1e}</span><span class="st"> - mse: </span><span class="sc">{:.4f}</span><span class="st"> mae: </span><span class="sc">{:,.0f}</span></span>
<span id="cb171-28"><a href="#cb171-28" aria-hidden="true" tabindex="-1"></a><span class="er">.format</span>(</span>
<span id="cb171-29"><a href="#cb171-29" aria-hidden="true" tabindex="-1"></a>    best_result.alpha, best_result.test_mse, best_result.test_mae))</span>
<span id="cb171-30"><a href="#cb171-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-31"><a href="#cb171-31" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'$log_</span><span class="sc">{10}</span><span class="st">(alpha)</span></span>
<span id="cb171-32"><a href="#cb171-32" aria-hidden="true" tabindex="-1"></a><span class="er">)</span></span>
<span id="cb171-33"><a href="#cb171-33" aria-hidden="true" tabindex="-1"></a><span class="er">plt.ylabel</span>(<span class="st">'MSE'</span>)</span>
<span id="cb171-34"><a href="#cb171-34" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb171-35"><a href="#cb171-35" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="projet_3_files/figure-html/cell-126-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-207" class="cell" data-execution_count="126">
<div class="sourceCode cell-code" id="cb172"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a>best_result</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="126">
<pre><code>alpha                                                   78.476
model        Ridge(alpha=78.47599703514607, copy_X=True, fi...
test_mae                                               14061.5
test_mse                                             0.0145549
train_mae                                              12342.5
train_mse                                            0.0106063
Name: 11, dtype: object</code></pre>
</div>
</div>
<div id="cell-208" class="cell" data-execution_count="127">
<div class="sourceCode cell-code" id="cb174"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">6</span>))</span>
<span id="cb174-2"><a href="#cb174-2" aria-hidden="true" tabindex="-1"></a>plt.bar([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>], [mae_baseline, mae_huber,mae_huber2, mae_huber3, best_result.test_mae],align<span class="op">=</span><span class="st">'center'</span>)</span>
<span id="cb174-3"><a href="#cb174-3" aria-hidden="true" tabindex="-1"></a>plt.xticks([<span class="dv">1</span>, <span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>], [<span class="st">'MAE Baseline'</span>, <span class="st">'MAE Huber 2 var'</span>,<span class="st">'MAE Huber 10 var'</span>,<span class="st">'MAE Huber All var'</span>,<span class="st">'MAE Ridge All var'</span>])</span>
<span id="cb174-4"><a href="#cb174-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="projet_3_files/figure-html/cell-128-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="communicating-the-results" class="level1">
<h1>6. Communicating the results</h1>
<p>As we can see on the barplot above, the best model in terms of MAE in the complex one with the ridge regression. This model has a MAE of 14’062$, which seems to be a good result. We can really see the importance of the ridge regression. It improves a lot the model and allows to fight against overfitting of the complex model (the one including all variables).</p>
</section>
<section id="compute-predictions" class="level1">
<h1>7. Compute predictions</h1>
<div id="cell-212" class="cell" data-execution_count="128">
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a>test_df <span class="op">=</span> pd.read_csv(<span class="st">"/Users/gregoireurvoy/Documents/ML/Course 3/09. Course project/Project/house-prices-test.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-213" class="cell" data-execution_count="129">
<div class="sourceCode cell-code" id="cb176"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a>test_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="129">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Order</th>
<th data-quarto-table-cell-role="th">PID</th>
<th data-quarto-table-cell-role="th">MS SubClass</th>
<th data-quarto-table-cell-role="th">MS Zoning</th>
<th data-quarto-table-cell-role="th">Lot Frontage</th>
<th data-quarto-table-cell-role="th">Lot Area</th>
<th data-quarto-table-cell-role="th">Street</th>
<th data-quarto-table-cell-role="th">Alley</th>
<th data-quarto-table-cell-role="th">Lot Shape</th>
<th data-quarto-table-cell-role="th">Land Contour</th>
<th data-quarto-table-cell-role="th">Utilities</th>
<th data-quarto-table-cell-role="th">Lot Config</th>
<th data-quarto-table-cell-role="th">Land Slope</th>
<th data-quarto-table-cell-role="th">Neighborhood</th>
<th data-quarto-table-cell-role="th">Condition 1</th>
<th data-quarto-table-cell-role="th">Condition 2</th>
<th data-quarto-table-cell-role="th">Bldg Type</th>
<th data-quarto-table-cell-role="th">House Style</th>
<th data-quarto-table-cell-role="th">Overall Qual</th>
<th data-quarto-table-cell-role="th">Overall Cond</th>
<th data-quarto-table-cell-role="th">Year Built</th>
<th data-quarto-table-cell-role="th">Year Remod/Add</th>
<th data-quarto-table-cell-role="th">Roof Style</th>
<th data-quarto-table-cell-role="th">Roof Matl</th>
<th data-quarto-table-cell-role="th">Exterior 1st</th>
<th data-quarto-table-cell-role="th">Exterior 2nd</th>
<th data-quarto-table-cell-role="th">Mas Vnr Type</th>
<th data-quarto-table-cell-role="th">Mas Vnr Area</th>
<th data-quarto-table-cell-role="th">Exter Qual</th>
<th data-quarto-table-cell-role="th">Exter Cond</th>
<th data-quarto-table-cell-role="th">Foundation</th>
<th data-quarto-table-cell-role="th">Bsmt Qual</th>
<th data-quarto-table-cell-role="th">Bsmt Cond</th>
<th data-quarto-table-cell-role="th">Bsmt Exposure</th>
<th data-quarto-table-cell-role="th">BsmtFin Type 1</th>
<th data-quarto-table-cell-role="th">BsmtFin SF 1</th>
<th data-quarto-table-cell-role="th">BsmtFin Type 2</th>
<th data-quarto-table-cell-role="th">BsmtFin SF 2</th>
<th data-quarto-table-cell-role="th">Bsmt Unf SF</th>
<th data-quarto-table-cell-role="th">Total Bsmt SF</th>
<th data-quarto-table-cell-role="th">Heating</th>
<th data-quarto-table-cell-role="th">Heating QC</th>
<th data-quarto-table-cell-role="th">Central Air</th>
<th data-quarto-table-cell-role="th">Electrical</th>
<th data-quarto-table-cell-role="th">1st Flr SF</th>
<th data-quarto-table-cell-role="th">2nd Flr SF</th>
<th data-quarto-table-cell-role="th">Low Qual Fin SF</th>
<th data-quarto-table-cell-role="th">Gr Liv Area</th>
<th data-quarto-table-cell-role="th">Bsmt Full Bath</th>
<th data-quarto-table-cell-role="th">Bsmt Half Bath</th>
<th data-quarto-table-cell-role="th">Full Bath</th>
<th data-quarto-table-cell-role="th">Half Bath</th>
<th data-quarto-table-cell-role="th">Bedroom AbvGr</th>
<th data-quarto-table-cell-role="th">Kitchen AbvGr</th>
<th data-quarto-table-cell-role="th">Kitchen Qual</th>
<th data-quarto-table-cell-role="th">TotRms AbvGrd</th>
<th data-quarto-table-cell-role="th">Functional</th>
<th data-quarto-table-cell-role="th">Fireplaces</th>
<th data-quarto-table-cell-role="th">Fireplace Qu</th>
<th data-quarto-table-cell-role="th">Garage Type</th>
<th data-quarto-table-cell-role="th">Garage Yr Blt</th>
<th data-quarto-table-cell-role="th">Garage Finish</th>
<th data-quarto-table-cell-role="th">Garage Cars</th>
<th data-quarto-table-cell-role="th">Garage Area</th>
<th data-quarto-table-cell-role="th">Garage Qual</th>
<th data-quarto-table-cell-role="th">Garage Cond</th>
<th data-quarto-table-cell-role="th">Paved Drive</th>
<th data-quarto-table-cell-role="th">Wood Deck SF</th>
<th data-quarto-table-cell-role="th">Open Porch SF</th>
<th data-quarto-table-cell-role="th">Enclosed Porch</th>
<th data-quarto-table-cell-role="th">3Ssn Porch</th>
<th data-quarto-table-cell-role="th">Screen Porch</th>
<th data-quarto-table-cell-role="th">Pool Area</th>
<th data-quarto-table-cell-role="th">Pool QC</th>
<th data-quarto-table-cell-role="th">Fence</th>
<th data-quarto-table-cell-role="th">Misc Feature</th>
<th data-quarto-table-cell-role="th">Misc Val</th>
<th data-quarto-table-cell-role="th">Mo Sold</th>
<th data-quarto-table-cell-role="th">Yr Sold</th>
<th data-quarto-table-cell-role="th">Sale Type</th>
<th data-quarto-table-cell-role="th">Sale Condition</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2217</td>
<td>909279080</td>
<td>50</td>
<td>RL</td>
<td>NaN</td>
<td>11275</td>
<td>Pave</td>
<td>NaN</td>
<td>IR1</td>
<td>HLS</td>
<td>AllPub</td>
<td>Corner</td>
<td>Mod</td>
<td>Crawfor</td>
<td>Norm</td>
<td>Norm</td>
<td>1Fam</td>
<td>1.5Fin</td>
<td>6</td>
<td>7</td>
<td>1932</td>
<td>1950</td>
<td>Gable</td>
<td>CompShg</td>
<td>MetalSd</td>
<td>MetalSd</td>
<td>BrkFace</td>
<td>480.0</td>
<td>TA</td>
<td>TA</td>
<td>CBlock</td>
<td>TA</td>
<td>TA</td>
<td>Mn</td>
<td>Rec</td>
<td>297.0</td>
<td>LwQ</td>
<td>557.0</td>
<td>0.0</td>
<td>854.0</td>
<td>GasA</td>
<td>TA</td>
<td>Y</td>
<td>SBrkr</td>
<td>1096</td>
<td>895</td>
<td>0</td>
<td>1991</td>
<td>0.0</td>
<td>0.0</td>
<td>1</td>
<td>1</td>
<td>3</td>
<td>1</td>
<td>TA</td>
<td>7</td>
<td>Typ</td>
<td>1</td>
<td>Gd</td>
<td>Detchd</td>
<td>1977.0</td>
<td>Unf</td>
<td>2.0</td>
<td>432.0</td>
<td>TA</td>
<td>Fa</td>
<td>Y</td>
<td>0</td>
<td>0</td>
<td>19</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0</td>
<td>3</td>
<td>2007</td>
<td>WD</td>
<td>Normal</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>837</td>
<td>907126050</td>
<td>20</td>
<td>RL</td>
<td>65.0</td>
<td>9757</td>
<td>Pave</td>
<td>NaN</td>
<td>Reg</td>
<td>Low</td>
<td>AllPub</td>
<td>Inside</td>
<td>Mod</td>
<td>CollgCr</td>
<td>Norm</td>
<td>Norm</td>
<td>1Fam</td>
<td>1Story</td>
<td>5</td>
<td>7</td>
<td>1994</td>
<td>1994</td>
<td>Gable</td>
<td>CompShg</td>
<td>VinylSd</td>
<td>VinylSd</td>
<td>None</td>
<td>0.0</td>
<td>TA</td>
<td>Gd</td>
<td>PConc</td>
<td>TA</td>
<td>TA</td>
<td>No</td>
<td>ALQ</td>
<td>755.0</td>
<td>Unf</td>
<td>0.0</td>
<td>235.0</td>
<td>990.0</td>
<td>GasA</td>
<td>Ex</td>
<td>Y</td>
<td>SBrkr</td>
<td>990</td>
<td>0</td>
<td>0</td>
<td>990</td>
<td>1.0</td>
<td>0.0</td>
<td>1</td>
<td>0</td>
<td>3</td>
<td>1</td>
<td>TA</td>
<td>5</td>
<td>Typ</td>
<td>0</td>
<td>NaN</td>
<td>Attchd</td>
<td>1995.0</td>
<td>RFn</td>
<td>1.0</td>
<td>440.0</td>
<td>TA</td>
<td>TA</td>
<td>Y</td>
<td>66</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>92</td>
<td>0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0</td>
<td>10</td>
<td>2009</td>
<td>WD</td>
<td>Normal</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2397</td>
<td>528144030</td>
<td>60</td>
<td>RL</td>
<td>86.0</td>
<td>11065</td>
<td>Pave</td>
<td>NaN</td>
<td>IR1</td>
<td>Lvl</td>
<td>AllPub</td>
<td>Inside</td>
<td>Gtl</td>
<td>NridgHt</td>
<td>Norm</td>
<td>Norm</td>
<td>1Fam</td>
<td>2Story</td>
<td>8</td>
<td>5</td>
<td>2006</td>
<td>2006</td>
<td>Gable</td>
<td>CompShg</td>
<td>VinylSd</td>
<td>VinylSd</td>
<td>Stone</td>
<td>788.0</td>
<td>Gd</td>
<td>TA</td>
<td>PConc</td>
<td>Gd</td>
<td>TA</td>
<td>Mn</td>
<td>Unf</td>
<td>0.0</td>
<td>Unf</td>
<td>0.0</td>
<td>1085.0</td>
<td>1085.0</td>
<td>GasA</td>
<td>Ex</td>
<td>Y</td>
<td>SBrkr</td>
<td>1120</td>
<td>850</td>
<td>0</td>
<td>1970</td>
<td>0.0</td>
<td>0.0</td>
<td>2</td>
<td>1</td>
<td>3</td>
<td>1</td>
<td>Ex</td>
<td>8</td>
<td>Typ</td>
<td>1</td>
<td>Gd</td>
<td>BuiltIn</td>
<td>2006.0</td>
<td>Fin</td>
<td>3.0</td>
<td>753.0</td>
<td>TA</td>
<td>TA</td>
<td>Y</td>
<td>177</td>
<td>74</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0</td>
<td>10</td>
<td>2006</td>
<td>New</td>
<td>Partial</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>1963</td>
<td>535452060</td>
<td>20</td>
<td>RL</td>
<td>70.0</td>
<td>7000</td>
<td>Pave</td>
<td>NaN</td>
<td>Reg</td>
<td>Lvl</td>
<td>AllPub</td>
<td>Inside</td>
<td>Gtl</td>
<td>NAmes</td>
<td>Norm</td>
<td>Norm</td>
<td>1Fam</td>
<td>1Story</td>
<td>5</td>
<td>7</td>
<td>1960</td>
<td>2002</td>
<td>Gable</td>
<td>CompShg</td>
<td>Wd Sdng</td>
<td>Wd Sdng</td>
<td>BrkFace</td>
<td>45.0</td>
<td>TA</td>
<td>TA</td>
<td>CBlock</td>
<td>TA</td>
<td>TA</td>
<td>No</td>
<td>Rec</td>
<td>588.0</td>
<td>Unf</td>
<td>0.0</td>
<td>422.0</td>
<td>1010.0</td>
<td>GasA</td>
<td>Ex</td>
<td>Y</td>
<td>SBrkr</td>
<td>1134</td>
<td>0</td>
<td>0</td>
<td>1134</td>
<td>0.0</td>
<td>0.0</td>
<td>1</td>
<td>0</td>
<td>2</td>
<td>1</td>
<td>TA</td>
<td>6</td>
<td>Typ</td>
<td>0</td>
<td>NaN</td>
<td>Attchd</td>
<td>1960.0</td>
<td>RFn</td>
<td>1.0</td>
<td>254.0</td>
<td>TA</td>
<td>TA</td>
<td>Y</td>
<td>0</td>
<td>16</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>NaN</td>
<td>MnWw</td>
<td>NaN</td>
<td>0</td>
<td>4</td>
<td>2007</td>
<td>WD</td>
<td>Family</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>306</td>
<td>911202100</td>
<td>50</td>
<td>C (all)</td>
<td>66.0</td>
<td>8712</td>
<td>Pave</td>
<td>Pave</td>
<td>Reg</td>
<td>HLS</td>
<td>AllPub</td>
<td>Inside</td>
<td>Mod</td>
<td>IDOTRR</td>
<td>Norm</td>
<td>Norm</td>
<td>1Fam</td>
<td>1.5Fin</td>
<td>4</td>
<td>7</td>
<td>1900</td>
<td>1950</td>
<td>Gable</td>
<td>CompShg</td>
<td>MetalSd</td>
<td>MetalSd</td>
<td>None</td>
<td>0.0</td>
<td>TA</td>
<td>TA</td>
<td>Stone</td>
<td>TA</td>
<td>TA</td>
<td>Mn</td>
<td>Unf</td>
<td>0.0</td>
<td>Unf</td>
<td>0.0</td>
<td>859.0</td>
<td>859.0</td>
<td>GasA</td>
<td>Gd</td>
<td>Y</td>
<td>SBrkr</td>
<td>859</td>
<td>319</td>
<td>0</td>
<td>1178</td>
<td>0.0</td>
<td>0.0</td>
<td>1</td>
<td>0</td>
<td>2</td>
<td>1</td>
<td>TA</td>
<td>7</td>
<td>Typ</td>
<td>0</td>
<td>NaN</td>
<td>Detchd</td>
<td>1964.0</td>
<td>RFn</td>
<td>1.0</td>
<td>384.0</td>
<td>TA</td>
<td>TA</td>
<td>N</td>
<td>68</td>
<td>0</td>
<td>98</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0</td>
<td>1</td>
<td>2010</td>
<td>WD</td>
<td>Abnorml</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-214" class="cell" data-execution_count="130">
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a>test_PID <span class="op">=</span> test_df[<span class="st">'PID'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Before computing the predictions, I need to preprocess the data again: checking missing values, duplicated values, feature encoding, feature engineering etc. To remain consistent, I will apply the same methods than I did for the first part of the project.</p>
<section id="data-cleaning-1" class="level3">
<h3 class="anchored" data-anchor-id="data-cleaning-1">Data cleaning:</h3>
<div id="cell-217" class="cell" data-execution_count="131">
<div class="sourceCode cell-code" id="cb178"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a>change <span class="op">=</span> { <span class="dv">20</span>:<span class="st">"a"</span>, <span class="dv">30</span>:<span class="st">"b"</span>, <span class="dv">40</span>:<span class="st">"c"</span>, <span class="dv">45</span>:<span class="st">"d"</span>, <span class="dv">50</span>:<span class="st">"e"</span>, <span class="dv">60</span>:<span class="st">"f"</span>, <span class="dv">70</span>:<span class="st">"g"</span>, <span class="dv">75</span>:<span class="st">"h"</span>, <span class="dv">80</span>:<span class="st">"i"</span>, <span class="dv">85</span>:<span class="st">"j"</span>, <span class="dv">90</span>:<span class="st">"k"</span>, <span class="dv">120</span>:<span class="st">"l"</span>, <span class="dv">150</span>:<span class="st">"m"</span>, <span class="dv">160</span>:<span class="st">"n"</span>, <span class="dv">180</span>:<span class="st">"o"</span>, <span class="dv">190</span>:<span class="st">"p"</span>}</span>
<span id="cb178-2"><a href="#cb178-2" aria-hidden="true" tabindex="-1"></a>test_df[<span class="st">'MS SubClass'</span>]<span class="op">=</span> test_df[<span class="st">'MS SubClass'</span>].<span class="bu">map</span>(change)</span>
<span id="cb178-3"><a href="#cb178-3" aria-hidden="true" tabindex="-1"></a>test_df[<span class="st">'MS SubClass'</span>].head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="131">
<pre><code>0    e
1    a
2    f
3    a
4    e
Name: MS SubClass, dtype: object</code></pre>
</div>
</div>
<div id="cell-218" class="cell" data-execution_count="132">
<div class="sourceCode cell-code" id="cb180"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true" tabindex="-1"></a>test_df <span class="op">=</span> test_df.drop([<span class="st">'Order'</span>, <span class="st">'PID'</span>], axis<span class="op">=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-219" class="cell" data-execution_count="133">
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a>test_df.duplicated().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="133">
<pre><code>0</code></pre>
</div>
</div>
<div id="cell-220" class="cell" data-execution_count="134">
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a>col_NA <span class="op">=</span> [col <span class="cf">for</span> col <span class="kw">in</span> test_df.columns <span class="cf">if</span> test_df[col].isnull().<span class="bu">any</span>()]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-221" class="cell" data-execution_count="135">
<div class="sourceCode cell-code" id="cb184"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a>test_df[col_NA].isnull().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="135">
<pre><code>Lot Frontage       70
Alley             465
Mas Vnr Type        3
Mas Vnr Area        3
Bsmt Qual           9
Bsmt Cond           9
Bsmt Exposure       9
BsmtFin Type 1      9
BsmtFin Type 2      9
Fireplace Qu      236
Garage Type        21
Garage Yr Blt      21
Garage Finish      21
Garage Qual        21
Garage Cond        21
Pool QC           499
Fence             417
Misc Feature      484
dtype: int64</code></pre>
</div>
</div>
<div id="cell-222" class="cell" data-execution_count="136">
<div class="sourceCode cell-code" id="cb186"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb186-1"><a href="#cb186-1" aria-hidden="true" tabindex="-1"></a>test_df[<span class="st">'Alley'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb186-2"><a href="#cb186-2" aria-hidden="true" tabindex="-1"></a>test_df[<span class="st">'Bsmt Qual'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb186-3"><a href="#cb186-3" aria-hidden="true" tabindex="-1"></a>test_df[<span class="st">'Bsmt Cond'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb186-4"><a href="#cb186-4" aria-hidden="true" tabindex="-1"></a>test_df[<span class="st">'Bsmt Exposure'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb186-5"><a href="#cb186-5" aria-hidden="true" tabindex="-1"></a>test_df[<span class="st">'BsmtFin Type 1'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb186-6"><a href="#cb186-6" aria-hidden="true" tabindex="-1"></a>test_df[<span class="st">'BsmtFin Type 2'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb186-7"><a href="#cb186-7" aria-hidden="true" tabindex="-1"></a>test_df[<span class="st">'Fireplace Qu'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb186-8"><a href="#cb186-8" aria-hidden="true" tabindex="-1"></a>test_df[<span class="st">'Garage Type'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb186-9"><a href="#cb186-9" aria-hidden="true" tabindex="-1"></a>test_df[<span class="st">'Garage Finish'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb186-10"><a href="#cb186-10" aria-hidden="true" tabindex="-1"></a>test_df[<span class="st">'Garage Qual'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb186-11"><a href="#cb186-11" aria-hidden="true" tabindex="-1"></a>test_df[<span class="st">'Garage Cond'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb186-12"><a href="#cb186-12" aria-hidden="true" tabindex="-1"></a>test_df[<span class="st">'Pool QC'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb186-13"><a href="#cb186-13" aria-hidden="true" tabindex="-1"></a>test_df[<span class="st">'Fence'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb186-14"><a href="#cb186-14" aria-hidden="true" tabindex="-1"></a>test_df[<span class="st">'Misc Feature'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-223" class="cell" data-execution_count="137">
<div class="sourceCode cell-code" id="cb187"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a>col_NA2 <span class="op">=</span> [col <span class="cf">for</span> col <span class="kw">in</span> test_df.columns <span class="cf">if</span> test_df[col].isnull().<span class="bu">any</span>()]</span>
<span id="cb187-2"><a href="#cb187-2" aria-hidden="true" tabindex="-1"></a>test_df[col_NA2].isnull().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="137">
<pre><code>Lot Frontage     70
Mas Vnr Type      3
Mas Vnr Area      3
Garage Yr Blt    21
dtype: int64</code></pre>
</div>
</div>
<div id="cell-224" class="cell" data-execution_count="138">
<div class="sourceCode cell-code" id="cb189"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a>test_df[<span class="st">'Lot Frontage'</span>].fillna(value<span class="op">=</span>test_df[<span class="st">'Lot Frontage'</span>].median(), inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-225" class="cell" data-execution_count="139">
<div class="sourceCode cell-code" id="cb190"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a>test_df[<span class="st">'Mas Vnr Area'</span>].fillna(value<span class="op">=</span><span class="dv">0</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb190-2"><a href="#cb190-2" aria-hidden="true" tabindex="-1"></a>test_df[<span class="st">'Mas Vnr Type'</span>].fillna(value<span class="op">=</span><span class="st">'NA'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-226" class="cell" data-execution_count="140">
<div class="sourceCode cell-code" id="cb191"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb191-1"><a href="#cb191-1" aria-hidden="true" tabindex="-1"></a>test_df[<span class="st">'Garage Yr Blt'</span>].fillna(value<span class="op">=</span><span class="dv">1978</span>, inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-227" class="cell" data-execution_count="141">
<div class="sourceCode cell-code" id="cb192"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb192-1"><a href="#cb192-1" aria-hidden="true" tabindex="-1"></a>test_df.isnull().<span class="bu">sum</span>().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="141">
<pre><code>0</code></pre>
</div>
</div>
<ul>
<li>Potential inconsistencies:</li>
</ul>
<div id="cell-229" class="cell" data-execution_count="142">
<div class="sourceCode cell-code" id="cb194"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb194-1"><a href="#cb194-1" aria-hidden="true" tabindex="-1"></a>test_df[(test_df[<span class="st">'Bsmt Qual'</span> ] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (test_df[<span class="st">'Bsmt Cond'</span>]<span class="op">!=</span> <span class="st">'NA'</span>)][[<span class="st">'Bsmt Qual'</span>,<span class="st">'Bsmt Cond'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="142">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Bsmt Qual</th>
<th data-quarto-table-cell-role="th">Bsmt Cond</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-230" class="cell" data-execution_count="143">
<div class="sourceCode cell-code" id="cb195"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb195-1"><a href="#cb195-1" aria-hidden="true" tabindex="-1"></a>test_df[(test_df[<span class="st">'Bsmt Qual'</span> ] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (test_df[<span class="st">'Bsmt Exposure'</span>]<span class="op">!=</span> <span class="st">'NA'</span>)][[<span class="st">'Bsmt Qual'</span>,<span class="st">'Bsmt Exposure'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="143">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Bsmt Qual</th>
<th data-quarto-table-cell-role="th">Bsmt Exposure</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-231" class="cell" data-execution_count="144">
<div class="sourceCode cell-code" id="cb196"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a>test_df[(test_df[<span class="st">'Bsmt Qual'</span> ] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (test_df[<span class="st">'BsmtFin Type 1'</span>]<span class="op">!=</span> <span class="st">'NA'</span>)][[<span class="st">'Bsmt Qual'</span>,<span class="st">'BsmtFin Type 1'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="144">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Bsmt Qual</th>
<th data-quarto-table-cell-role="th">BsmtFin Type 1</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-232" class="cell" data-execution_count="145">
<div class="sourceCode cell-code" id="cb197"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb197-1"><a href="#cb197-1" aria-hidden="true" tabindex="-1"></a>test_df[(test_df[<span class="st">'Bsmt Qual'</span> ] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (test_df[<span class="st">'BsmtFin Type 2'</span>]<span class="op">!=</span> <span class="st">'NA'</span>)][[<span class="st">'Bsmt Qual'</span>,<span class="st">'BsmtFin Type 2'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="145">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Bsmt Qual</th>
<th data-quarto-table-cell-role="th">BsmtFin Type 2</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-233" class="cell" data-execution_count="146">
<div class="sourceCode cell-code" id="cb198"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb198-1"><a href="#cb198-1" aria-hidden="true" tabindex="-1"></a>test_df[(test_df[<span class="st">'Bsmt Qual'</span> ] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (test_df[<span class="st">'BsmtFin SF 1'</span>]<span class="op">!=</span> <span class="dv">0</span>)][[<span class="st">'Bsmt Qual'</span>,<span class="st">'BsmtFin SF 1'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="146">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Bsmt Qual</th>
<th data-quarto-table-cell-role="th">BsmtFin SF 1</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-234" class="cell" data-execution_count="147">
<div class="sourceCode cell-code" id="cb199"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb199-1"><a href="#cb199-1" aria-hidden="true" tabindex="-1"></a>test_df[(test_df[<span class="st">'Bsmt Qual'</span> ] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (test_df[<span class="st">'BsmtFin SF 2'</span>]<span class="op">!=</span> <span class="dv">0</span>)][[<span class="st">'Bsmt Qual'</span>,<span class="st">'BsmtFin SF 2'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="147">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Bsmt Qual</th>
<th data-quarto-table-cell-role="th">BsmtFin SF 2</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-235" class="cell" data-execution_count="148">
<div class="sourceCode cell-code" id="cb200"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb200-1"><a href="#cb200-1" aria-hidden="true" tabindex="-1"></a>test_df[(test_df[<span class="st">'Bsmt Qual'</span> ] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (test_df[<span class="st">'Bsmt Unf SF'</span>]<span class="op">!=</span> <span class="dv">0</span>)][[<span class="st">'Bsmt Qual'</span>,<span class="st">'Bsmt Unf SF'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="148">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Bsmt Qual</th>
<th data-quarto-table-cell-role="th">Bsmt Unf SF</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-236" class="cell" data-execution_count="149">
<div class="sourceCode cell-code" id="cb201"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb201-1"><a href="#cb201-1" aria-hidden="true" tabindex="-1"></a>test_df[(test_df[<span class="st">'Bsmt Qual'</span> ] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (test_df[<span class="st">'Total Bsmt SF'</span>]<span class="op">!=</span> <span class="dv">0</span>)][[<span class="st">'Bsmt Qual'</span>,<span class="st">'Total Bsmt SF'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="149">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Bsmt Qual</th>
<th data-quarto-table-cell-role="th">Total Bsmt SF</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-237" class="cell" data-execution_count="150">
<div class="sourceCode cell-code" id="cb202"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb202-1"><a href="#cb202-1" aria-hidden="true" tabindex="-1"></a>test_df[(test_df[<span class="st">'Bsmt Qual'</span> ] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (test_df[<span class="st">'Bsmt Full Bath'</span>]<span class="op">!=</span> <span class="dv">0</span>)][[<span class="st">'Bsmt Qual'</span>,<span class="st">'Bsmt Full Bath'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="150">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Bsmt Qual</th>
<th data-quarto-table-cell-role="th">Bsmt Full Bath</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-238" class="cell" data-execution_count="151">
<div class="sourceCode cell-code" id="cb203"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb203-1"><a href="#cb203-1" aria-hidden="true" tabindex="-1"></a>test_df[(test_df[<span class="st">'Bsmt Qual'</span> ] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (test_df[<span class="st">'Bsmt Half Bath'</span>]<span class="op">!=</span> <span class="dv">0</span>)][[<span class="st">'Bsmt Qual'</span>,<span class="st">'Bsmt Half Bath'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="151">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Bsmt Qual</th>
<th data-quarto-table-cell-role="th">Bsmt Half Bath</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-239" class="cell" data-execution_count="152">
<div class="sourceCode cell-code" id="cb204"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb204-1"><a href="#cb204-1" aria-hidden="true" tabindex="-1"></a>test_df[(test_df[<span class="st">'House Style'</span> ] <span class="op">==</span> <span class="st">'1Story'</span>) <span class="op">&amp;</span> (test_df[<span class="st">'2nd Flr SF'</span>]<span class="op">!=</span> <span class="dv">0</span>)][[<span class="st">'House Style'</span>,<span class="st">'2nd Flr SF'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="152">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">House Style</th>
<th data-quarto-table-cell-role="th">2nd Flr SF</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-240" class="cell" data-execution_count="153">
<div class="sourceCode cell-code" id="cb205"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb205-1"><a href="#cb205-1" aria-hidden="true" tabindex="-1"></a>test_df[(test_df[<span class="st">'Fireplaces'</span>] <span class="op">==</span> <span class="dv">0</span>) <span class="op">&amp;</span> (test_df[<span class="st">'Fireplace Qu'</span>]<span class="op">!=</span> <span class="st">'NA'</span>)][[<span class="st">'Fireplaces'</span>,<span class="st">'Fireplace Qu'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="153">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Fireplaces</th>
<th data-quarto-table-cell-role="th">Fireplace Qu</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-241" class="cell" data-execution_count="154">
<div class="sourceCode cell-code" id="cb206"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb206-1"><a href="#cb206-1" aria-hidden="true" tabindex="-1"></a>test_df[(test_df[<span class="st">'Garage Type'</span>] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (test_df[<span class="st">'Garage Yr Blt'</span>]<span class="op">!=</span> <span class="st">'NA'</span>)][[<span class="st">'Garage Type'</span>,<span class="st">'Garage Yr Blt'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="154">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Garage Type</th>
<th data-quarto-table-cell-role="th">Garage Yr Blt</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>NA</td>
<td>1978.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">58</td>
<td>NA</td>
<td>1978.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">62</td>
<td>NA</td>
<td>1978.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">63</td>
<td>NA</td>
<td>1978.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">81</td>
<td>NA</td>
<td>1978.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">101</td>
<td>NA</td>
<td>1978.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">102</td>
<td>NA</td>
<td>1978.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">184</td>
<td>NA</td>
<td>1978.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">199</td>
<td>NA</td>
<td>1978.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">212</td>
<td>NA</td>
<td>1978.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">233</td>
<td>NA</td>
<td>1978.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">237</td>
<td>NA</td>
<td>1978.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">301</td>
<td>NA</td>
<td>1978.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">303</td>
<td>NA</td>
<td>1978.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">321</td>
<td>NA</td>
<td>1978.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">337</td>
<td>NA</td>
<td>1978.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">448</td>
<td>NA</td>
<td>1978.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">453</td>
<td>NA</td>
<td>1978.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">457</td>
<td>NA</td>
<td>1978.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">465</td>
<td>NA</td>
<td>1978.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">482</td>
<td>NA</td>
<td>1978.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-242" class="cell" data-execution_count="155">
<div class="sourceCode cell-code" id="cb207"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb207-1"><a href="#cb207-1" aria-hidden="true" tabindex="-1"></a>test_df[(test_df[<span class="st">'Garage Type'</span>] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (test_df[<span class="st">'Garage Finish'</span>]<span class="op">!=</span> <span class="st">'NA'</span>)][[<span class="st">'Garage Type'</span>,<span class="st">'Garage Finish'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="155">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Garage Type</th>
<th data-quarto-table-cell-role="th">Garage Finish</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-243" class="cell" data-execution_count="156">
<div class="sourceCode cell-code" id="cb208"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb208-1"><a href="#cb208-1" aria-hidden="true" tabindex="-1"></a>test_df[(test_df[<span class="st">'Garage Type'</span>] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (test_df[<span class="st">'Garage Cars'</span>]<span class="op">!=</span> <span class="dv">0</span>)][[<span class="st">'Garage Type'</span>,<span class="st">'Garage Cars'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="156">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Garage Type</th>
<th data-quarto-table-cell-role="th">Garage Cars</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-244" class="cell" data-execution_count="157">
<div class="sourceCode cell-code" id="cb209"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb209-1"><a href="#cb209-1" aria-hidden="true" tabindex="-1"></a>test_df[(test_df[<span class="st">'Garage Type'</span>] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (test_df[<span class="st">'Garage Area'</span>]<span class="op">!=</span> <span class="dv">0</span>)][[<span class="st">'Garage Type'</span>,<span class="st">'Garage Area'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="157">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Garage Type</th>
<th data-quarto-table-cell-role="th">Garage Area</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-245" class="cell" data-execution_count="158">
<div class="sourceCode cell-code" id="cb210"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb210-1"><a href="#cb210-1" aria-hidden="true" tabindex="-1"></a>test_df[(test_df[<span class="st">'Garage Type'</span>] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (test_df[<span class="st">'Garage Qual'</span>]<span class="op">!=</span> <span class="st">'NA'</span>)][[<span class="st">'Garage Type'</span>,<span class="st">'Garage Qual'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="158">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Garage Type</th>
<th data-quarto-table-cell-role="th">Garage Qual</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-246" class="cell" data-execution_count="159">
<div class="sourceCode cell-code" id="cb211"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb211-1"><a href="#cb211-1" aria-hidden="true" tabindex="-1"></a>test_df[(test_df[<span class="st">'Garage Type'</span>] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (test_df[<span class="st">'Garage Cond'</span>]<span class="op">!=</span> <span class="st">'NA'</span>)][[<span class="st">'Garage Type'</span>,<span class="st">'Garage Cond'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="159">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Garage Type</th>
<th data-quarto-table-cell-role="th">Garage Cond</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-247" class="cell" data-execution_count="160">
<div class="sourceCode cell-code" id="cb212"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb212-1"><a href="#cb212-1" aria-hidden="true" tabindex="-1"></a>test_df[(test_df[<span class="st">'Pool QC'</span> ] <span class="op">!=</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (test_df[<span class="st">'Pool Area'</span>]<span class="op">==</span> <span class="dv">0</span>)][[<span class="st">'Pool QC'</span>,<span class="st">'Pool Area'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="160">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Pool QC</th>
<th data-quarto-table-cell-role="th">Pool Area</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-248" class="cell" data-execution_count="161">
<div class="sourceCode cell-code" id="cb213"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb213-1"><a href="#cb213-1" aria-hidden="true" tabindex="-1"></a>test_df[(test_df[<span class="st">'Pool QC'</span> ] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (test_df[<span class="st">'Pool Area'</span>]<span class="op">!=</span> <span class="dv">0</span>)][[<span class="st">'Pool QC'</span>,<span class="st">'Pool Area'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="161">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Pool QC</th>
<th data-quarto-table-cell-role="th">Pool Area</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-249" class="cell" data-execution_count="162">
<div class="sourceCode cell-code" id="cb214"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb214-1"><a href="#cb214-1" aria-hidden="true" tabindex="-1"></a>test_df[(test_df[<span class="st">'Misc Feature'</span> ] <span class="op">!=</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (test_df[<span class="st">'Misc Val'</span>]<span class="op">==</span> <span class="dv">0</span>)][[<span class="st">'Misc Feature'</span>,<span class="st">'Misc Val'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="162">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Misc Feature</th>
<th data-quarto-table-cell-role="th">Misc Val</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">451</td>
<td>Othr</td>
<td>0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>I replace the misc feature by NA since its misc value is equal to 0.</p>
<div id="cell-251" class="cell" data-execution_count="163">
<div class="sourceCode cell-code" id="cb215"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb215-1"><a href="#cb215-1" aria-hidden="true" tabindex="-1"></a>test_df.loc[<span class="dv">451</span>,<span class="st">'Misc Feature'</span>] <span class="op">=</span> <span class="st">'NA'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-252" class="cell" data-execution_count="164">
<div class="sourceCode cell-code" id="cb216"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb216-1"><a href="#cb216-1" aria-hidden="true" tabindex="-1"></a>test_df[(test_df[<span class="st">'Misc Feature'</span> ] <span class="op">==</span> <span class="st">'NA'</span>) <span class="op">&amp;</span> (test_df[<span class="st">'Misc Val'</span>]<span class="op">!=</span> <span class="dv">0</span>)][[<span class="st">'Misc Feature'</span>,<span class="st">'Misc Val'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="164">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Misc Feature</th>
<th data-quarto-table-cell-role="th">Misc Val</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-253" class="cell" data-execution_count="165">
<div class="sourceCode cell-code" id="cb217"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb217-1"><a href="#cb217-1" aria-hidden="true" tabindex="-1"></a>(test_df[<span class="st">'Year Built'</span>] <span class="op">&gt;</span> test_df[<span class="st">'Yr Sold'</span>]).<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="165">
<pre><code>0</code></pre>
</div>
</div>
<div id="cell-254" class="cell" data-execution_count="166">
<div class="sourceCode cell-code" id="cb219"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb219-1"><a href="#cb219-1" aria-hidden="true" tabindex="-1"></a>test_df[[<span class="st">'Lot Frontage'</span>,</span>
<span id="cb219-2"><a href="#cb219-2" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Lot Area'</span>, </span>
<span id="cb219-3"><a href="#cb219-3" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Mas Vnr Area'</span>,</span>
<span id="cb219-4"><a href="#cb219-4" aria-hidden="true" tabindex="-1"></a>         <span class="st">'BsmtFin SF 1'</span>,</span>
<span id="cb219-5"><a href="#cb219-5" aria-hidden="true" tabindex="-1"></a>         <span class="st">'BsmtFin SF 2'</span>,</span>
<span id="cb219-6"><a href="#cb219-6" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Bsmt Unf SF'</span>,</span>
<span id="cb219-7"><a href="#cb219-7" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Total Bsmt SF'</span>,</span>
<span id="cb219-8"><a href="#cb219-8" aria-hidden="true" tabindex="-1"></a>         <span class="st">'1st Flr SF'</span>,</span>
<span id="cb219-9"><a href="#cb219-9" aria-hidden="true" tabindex="-1"></a>         <span class="st">'2nd Flr SF'</span>,</span>
<span id="cb219-10"><a href="#cb219-10" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Low Qual Fin SF'</span>,</span>
<span id="cb219-11"><a href="#cb219-11" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Gr Liv Area'</span>,</span>
<span id="cb219-12"><a href="#cb219-12" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Bsmt Full Bath'</span>,</span>
<span id="cb219-13"><a href="#cb219-13" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Bsmt Half Bath'</span>,</span>
<span id="cb219-14"><a href="#cb219-14" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Full Bath'</span>,</span>
<span id="cb219-15"><a href="#cb219-15" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Half Bath'</span>,</span>
<span id="cb219-16"><a href="#cb219-16" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Bedroom AbvGr'</span>,</span>
<span id="cb219-17"><a href="#cb219-17" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Kitchen AbvGr'</span>,</span>
<span id="cb219-18"><a href="#cb219-18" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Total Bsmt SF'</span>,</span>
<span id="cb219-19"><a href="#cb219-19" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Fireplaces'</span>,</span>
<span id="cb219-20"><a href="#cb219-20" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Garage Cars'</span>,</span>
<span id="cb219-21"><a href="#cb219-21" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Garage Area'</span>,</span>
<span id="cb219-22"><a href="#cb219-22" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Wood Deck SF'</span>,</span>
<span id="cb219-23"><a href="#cb219-23" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Open Porch SF'</span>,</span>
<span id="cb219-24"><a href="#cb219-24" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Enclosed Porch'</span>,</span>
<span id="cb219-25"><a href="#cb219-25" aria-hidden="true" tabindex="-1"></a>         <span class="st">'3Ssn Porch'</span>,</span>
<span id="cb219-26"><a href="#cb219-26" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Screen Porch'</span>,</span>
<span id="cb219-27"><a href="#cb219-27" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Pool Area'</span>,</span>
<span id="cb219-28"><a href="#cb219-28" aria-hidden="true" tabindex="-1"></a>         <span class="st">'Misc Val'</span>]].describe().T</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="166">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">count</th>
<th data-quarto-table-cell-role="th">mean</th>
<th data-quarto-table-cell-role="th">std</th>
<th data-quarto-table-cell-role="th">min</th>
<th data-quarto-table-cell-role="th">25%</th>
<th data-quarto-table-cell-role="th">50%</th>
<th data-quarto-table-cell-role="th">75%</th>
<th data-quarto-table-cell-role="th">max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Lot Frontage</td>
<td>500.0</td>
<td>69.284</td>
<td>21.154251</td>
<td>21.0</td>
<td>60.00</td>
<td>69.0</td>
<td>79.00</td>
<td>153.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Lot Area</td>
<td>500.0</td>
<td>9683.132</td>
<td>4950.630454</td>
<td>1300.0</td>
<td>7329.00</td>
<td>9150.5</td>
<td>11312.75</td>
<td>53504.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Mas Vnr Area</td>
<td>500.0</td>
<td>100.810</td>
<td>190.548649</td>
<td>0.0</td>
<td>0.00</td>
<td>0.0</td>
<td>146.50</td>
<td>1378.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">BsmtFin SF 1</td>
<td>500.0</td>
<td>436.242</td>
<td>446.826476</td>
<td>0.0</td>
<td>0.00</td>
<td>342.5</td>
<td>706.25</td>
<td>2260.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">BsmtFin SF 2</td>
<td>500.0</td>
<td>43.158</td>
<td>153.891202</td>
<td>0.0</td>
<td>0.00</td>
<td>0.0</td>
<td>0.00</td>
<td>1474.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Bsmt Unf SF</td>
<td>500.0</td>
<td>572.776</td>
<td>438.924115</td>
<td>0.0</td>
<td>242.75</td>
<td>478.0</td>
<td>811.50</td>
<td>1969.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Total Bsmt SF</td>
<td>500.0</td>
<td>1052.176</td>
<td>420.686171</td>
<td>0.0</td>
<td>784.00</td>
<td>990.0</td>
<td>1303.00</td>
<td>3200.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1st Flr SF</td>
<td>500.0</td>
<td>1158.160</td>
<td>386.358440</td>
<td>494.0</td>
<td>864.00</td>
<td>1077.5</td>
<td>1382.25</td>
<td>3228.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2nd Flr SF</td>
<td>500.0</td>
<td>378.142</td>
<td>467.378415</td>
<td>0.0</td>
<td>0.00</td>
<td>0.0</td>
<td>731.25</td>
<td>1796.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Low Qual Fin SF</td>
<td>500.0</td>
<td>5.114</td>
<td>41.670299</td>
<td>0.0</td>
<td>0.00</td>
<td>0.0</td>
<td>0.00</td>
<td>514.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Gr Liv Area</td>
<td>500.0</td>
<td>1541.416</td>
<td>547.214249</td>
<td>540.0</td>
<td>1173.50</td>
<td>1454.5</td>
<td>1769.50</td>
<td>4676.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Bsmt Full Bath</td>
<td>500.0</td>
<td>0.418</td>
<td>0.509701</td>
<td>0.0</td>
<td>0.00</td>
<td>0.0</td>
<td>1.00</td>
<td>2.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Bsmt Half Bath</td>
<td>500.0</td>
<td>0.066</td>
<td>0.256467</td>
<td>0.0</td>
<td>0.00</td>
<td>0.0</td>
<td>0.00</td>
<td>2.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Full Bath</td>
<td>500.0</td>
<td>1.594</td>
<td>0.574303</td>
<td>0.0</td>
<td>1.00</td>
<td>2.0</td>
<td>2.00</td>
<td>4.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Half Bath</td>
<td>500.0</td>
<td>0.428</td>
<td>0.507278</td>
<td>0.0</td>
<td>0.00</td>
<td>0.0</td>
<td>1.00</td>
<td>2.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Bedroom AbvGr</td>
<td>500.0</td>
<td>2.910</td>
<td>0.873743</td>
<td>1.0</td>
<td>2.00</td>
<td>3.0</td>
<td>3.00</td>
<td>6.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Kitchen AbvGr</td>
<td>500.0</td>
<td>1.052</td>
<td>0.239606</td>
<td>0.0</td>
<td>1.00</td>
<td>1.0</td>
<td>1.00</td>
<td>3.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Total Bsmt SF</td>
<td>500.0</td>
<td>1052.176</td>
<td>420.686171</td>
<td>0.0</td>
<td>784.00</td>
<td>990.0</td>
<td>1303.00</td>
<td>3200.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Fireplaces</td>
<td>500.0</td>
<td>0.620</td>
<td>0.654566</td>
<td>0.0</td>
<td>0.00</td>
<td>1.0</td>
<td>1.00</td>
<td>3.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Garage Cars</td>
<td>500.0</td>
<td>1.788</td>
<td>0.772171</td>
<td>0.0</td>
<td>1.00</td>
<td>2.0</td>
<td>2.00</td>
<td>5.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Garage Area</td>
<td>500.0</td>
<td>476.902</td>
<td>211.744251</td>
<td>0.0</td>
<td>312.75</td>
<td>480.0</td>
<td>576.25</td>
<td>1220.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Wood Deck SF</td>
<td>500.0</td>
<td>92.946</td>
<td>117.628585</td>
<td>0.0</td>
<td>0.00</td>
<td>0.0</td>
<td>171.25</td>
<td>728.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Open Porch SF</td>
<td>500.0</td>
<td>49.680</td>
<td>69.232651</td>
<td>0.0</td>
<td>0.00</td>
<td>26.0</td>
<td>72.00</td>
<td>444.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Enclosed Porch</td>
<td>500.0</td>
<td>26.496</td>
<td>72.019689</td>
<td>0.0</td>
<td>0.00</td>
<td>0.0</td>
<td>0.00</td>
<td>584.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3Ssn Porch</td>
<td>500.0</td>
<td>3.180</td>
<td>26.391450</td>
<td>0.0</td>
<td>0.00</td>
<td>0.0</td>
<td>0.00</td>
<td>360.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Screen Porch</td>
<td>500.0</td>
<td>13.440</td>
<td>52.347674</td>
<td>0.0</td>
<td>0.00</td>
<td>0.0</td>
<td>0.00</td>
<td>576.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Pool Area</td>
<td>500.0</td>
<td>1.476</td>
<td>33.004363</td>
<td>0.0</td>
<td>0.00</td>
<td>0.0</td>
<td>0.00</td>
<td>738.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Misc Val</td>
<td>500.0</td>
<td>23.688</td>
<td>175.375094</td>
<td>0.0</td>
<td>0.00</td>
<td>0.0</td>
<td>0.00</td>
<td>2500.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-255" class="cell" data-execution_count="167">
<div class="sourceCode cell-code" id="cb220"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb220-1"><a href="#cb220-1" aria-hidden="true" tabindex="-1"></a>test_df[[<span class="st">'Year Built'</span>,<span class="st">'Year Remod/Add'</span>,<span class="st">'Yr Sold'</span>]].describe().T</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="167">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">count</th>
<th data-quarto-table-cell-role="th">mean</th>
<th data-quarto-table-cell-role="th">std</th>
<th data-quarto-table-cell-role="th">min</th>
<th data-quarto-table-cell-role="th">25%</th>
<th data-quarto-table-cell-role="th">50%</th>
<th data-quarto-table-cell-role="th">75%</th>
<th data-quarto-table-cell-role="th">max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Year Built</td>
<td>500.0</td>
<td>1972.274</td>
<td>30.440305</td>
<td>1872.0</td>
<td>1953.0</td>
<td>1975.0</td>
<td>2001.25</td>
<td>2010.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Year Remod/Add</td>
<td>500.0</td>
<td>1984.402</td>
<td>21.403378</td>
<td>1950.0</td>
<td>1964.0</td>
<td>1994.0</td>
<td>2004.00</td>
<td>2010.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Yr Sold</td>
<td>500.0</td>
<td>2007.824</td>
<td>1.340380</td>
<td>2006.0</td>
<td>2007.0</td>
<td>2008.0</td>
<td>2009.00</td>
<td>2010.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Everything seems correct.</p>
</section>
<section id="feature-encoding-1" class="level3">
<h3 class="anchored" data-anchor-id="feature-encoding-1">Feature Encoding</h3>
<ul>
<li>Ordinal variales:</li>
</ul>
<div id="cell-259" class="cell" data-execution_count="168">
<div class="sourceCode cell-code" id="cb221"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb221-1"><a href="#cb221-1" aria-hidden="true" tabindex="-1"></a>test_df[OrdinalVar[<span class="dv">0</span>]].replace({<span class="st">'Reg'</span>:<span class="dv">4</span>, <span class="st">'IR1'</span>:<span class="dv">3</span>,<span class="st">'IR2'</span>:<span class="dv">2</span>,<span class="st">'IR3'</span>:<span class="dv">1</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb221-2"><a href="#cb221-2" aria-hidden="true" tabindex="-1"></a>test_df[OrdinalVar[<span class="dv">1</span>]].replace({<span class="st">'AllPub'</span>:<span class="dv">4</span>, <span class="st">'NoSewr'</span>:<span class="dv">3</span>,<span class="st">'NoSeWa'</span>:<span class="dv">2</span>,<span class="st">'ELO'</span>:<span class="dv">1</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb221-3"><a href="#cb221-3" aria-hidden="true" tabindex="-1"></a>test_df[OrdinalVar[<span class="dv">2</span>]].replace({ <span class="st">'Gtl'</span>:<span class="dv">3</span>,<span class="st">'Mod'</span>:<span class="dv">2</span>,<span class="st">'Sev'</span>:<span class="dv">1</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb221-4"><a href="#cb221-4" aria-hidden="true" tabindex="-1"></a><span class="co">### data_df[OrdinalVar[3]].replace({},inplace=True) (already in a numerical order)</span></span>
<span id="cb221-5"><a href="#cb221-5" aria-hidden="true" tabindex="-1"></a><span class="co">### data_df[OrdinalVar[4]].replace({},inplace=True) (already in a numerical order)</span></span>
<span id="cb221-6"><a href="#cb221-6" aria-hidden="true" tabindex="-1"></a>test_df[OrdinalVar[<span class="dv">5</span>]].replace({<span class="st">'Ex'</span>:<span class="dv">5</span>, <span class="st">'Gd'</span>:<span class="dv">4</span>, <span class="st">'TA'</span>:<span class="dv">3</span>,<span class="st">'Fa'</span>:<span class="dv">2</span>,<span class="st">'Po'</span>:<span class="dv">1</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb221-7"><a href="#cb221-7" aria-hidden="true" tabindex="-1"></a>test_df[OrdinalVar[<span class="dv">6</span>]].replace({<span class="st">'Ex'</span>:<span class="dv">5</span>, <span class="st">'Gd'</span>:<span class="dv">4</span>, <span class="st">'TA'</span>:<span class="dv">3</span>,<span class="st">'Fa'</span>:<span class="dv">2</span>,<span class="st">'Po'</span>:<span class="dv">1</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb221-8"><a href="#cb221-8" aria-hidden="true" tabindex="-1"></a>test_df[OrdinalVar[<span class="dv">7</span>]].replace({<span class="st">'Ex'</span>:<span class="dv">5</span>, <span class="st">'Gd'</span>:<span class="dv">4</span>, <span class="st">'TA'</span>:<span class="dv">3</span>,<span class="st">'Fa'</span>:<span class="dv">2</span>,<span class="st">'Po'</span>:<span class="dv">1</span>,<span class="st">'NA'</span>:<span class="dv">0</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb221-9"><a href="#cb221-9" aria-hidden="true" tabindex="-1"></a>test_df[OrdinalVar[<span class="dv">8</span>]].replace({<span class="st">'Ex'</span>:<span class="dv">5</span>, <span class="st">'Gd'</span>:<span class="dv">4</span>, <span class="st">'TA'</span>:<span class="dv">3</span>,<span class="st">'Fa'</span>:<span class="dv">2</span>,<span class="st">'Po'</span>:<span class="dv">1</span>, <span class="st">'NA'</span>:<span class="dv">0</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb221-10"><a href="#cb221-10" aria-hidden="true" tabindex="-1"></a>test_df[OrdinalVar[<span class="dv">9</span>]].replace({<span class="st">'Gd'</span>:<span class="dv">4</span>, <span class="st">'Av'</span>:<span class="dv">3</span>,<span class="st">'Mn'</span>:<span class="dv">2</span>,<span class="st">'No'</span>:<span class="dv">1</span>, <span class="st">'NA'</span>:<span class="dv">0</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb221-11"><a href="#cb221-11" aria-hidden="true" tabindex="-1"></a>test_df[OrdinalVar[<span class="dv">10</span>]].replace({<span class="st">'GLQ'</span>:<span class="dv">6</span>,<span class="st">'ALQ'</span>:<span class="dv">5</span>, <span class="st">'BLQ'</span>:<span class="dv">4</span>, <span class="st">'Rec'</span>:<span class="dv">3</span>,<span class="st">'LwQ'</span>:<span class="dv">2</span>,<span class="st">'Unf'</span>:<span class="dv">1</span>, <span class="st">'NA'</span>:<span class="dv">0</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb221-12"><a href="#cb221-12" aria-hidden="true" tabindex="-1"></a>test_df[OrdinalVar[<span class="dv">11</span>]].replace({<span class="st">'GLQ'</span>:<span class="dv">6</span>,<span class="st">'ALQ'</span>:<span class="dv">5</span>, <span class="st">'BLQ'</span>:<span class="dv">4</span>, <span class="st">'Rec'</span>:<span class="dv">3</span>,<span class="st">'LwQ'</span>:<span class="dv">2</span>,<span class="st">'Unf'</span>:<span class="dv">1</span>, <span class="st">'NA'</span>:<span class="dv">0</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb221-13"><a href="#cb221-13" aria-hidden="true" tabindex="-1"></a>test_df[OrdinalVar[<span class="dv">12</span>]].replace({<span class="st">'Ex'</span>:<span class="dv">5</span>, <span class="st">'Gd'</span>:<span class="dv">4</span>, <span class="st">'TA'</span>:<span class="dv">3</span>,<span class="st">'Fa'</span>:<span class="dv">2</span>,<span class="st">'Po'</span>:<span class="dv">1</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb221-14"><a href="#cb221-14" aria-hidden="true" tabindex="-1"></a>test_df[OrdinalVar[<span class="dv">13</span>]].replace({<span class="st">'SBrkr'</span>:<span class="dv">5</span>, <span class="st">'FuseA'</span>:<span class="dv">4</span>, <span class="st">'FuseF'</span>:<span class="dv">3</span>,<span class="st">'FuseP'</span>:<span class="dv">2</span>,<span class="st">'Mix'</span>:<span class="dv">1</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb221-15"><a href="#cb221-15" aria-hidden="true" tabindex="-1"></a>test_df[OrdinalVar[<span class="dv">14</span>]].replace({<span class="st">'Ex'</span>:<span class="dv">5</span>, <span class="st">'Gd'</span>:<span class="dv">4</span>, <span class="st">'TA'</span>:<span class="dv">3</span>,<span class="st">'Fa'</span>:<span class="dv">2</span>,<span class="st">'Po'</span>:<span class="dv">1</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb221-16"><a href="#cb221-16" aria-hidden="true" tabindex="-1"></a>test_df[OrdinalVar[<span class="dv">15</span>]].replace({<span class="st">'Typ'</span>:<span class="dv">8</span>,<span class="st">'Min1'</span>:<span class="dv">7</span>,<span class="st">'Min2'</span>:<span class="dv">6</span>,<span class="st">'Mod'</span>:<span class="dv">5</span>, <span class="st">'Maj1'</span>:<span class="dv">4</span>, <span class="st">'Maj2'</span>:<span class="dv">3</span>,<span class="st">'Sev'</span>:<span class="dv">2</span>,<span class="st">'Sal'</span>:<span class="dv">1</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb221-17"><a href="#cb221-17" aria-hidden="true" tabindex="-1"></a>test_df[OrdinalVar[<span class="dv">16</span>]].replace({<span class="st">'Ex'</span>:<span class="dv">5</span>, <span class="st">'Gd'</span>:<span class="dv">4</span>, <span class="st">'TA'</span>:<span class="dv">3</span>,<span class="st">'Fa'</span>:<span class="dv">2</span>,<span class="st">'Po'</span>:<span class="dv">1</span>,<span class="st">'NA'</span>:<span class="dv">0</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb221-18"><a href="#cb221-18" aria-hidden="true" tabindex="-1"></a>test_df[OrdinalVar[<span class="dv">17</span>]].replace({<span class="st">'Fin'</span>:<span class="dv">3</span>,<span class="st">'RFn'</span>:<span class="dv">2</span>,<span class="st">'Unf'</span>:<span class="dv">1</span>,<span class="st">'NA'</span>:<span class="dv">0</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb221-19"><a href="#cb221-19" aria-hidden="true" tabindex="-1"></a>test_df[OrdinalVar[<span class="dv">18</span>]].replace({<span class="st">'Ex'</span>:<span class="dv">5</span>, <span class="st">'Gd'</span>:<span class="dv">4</span>, <span class="st">'TA'</span>:<span class="dv">3</span>,<span class="st">'Fa'</span>:<span class="dv">2</span>,<span class="st">'Po'</span>:<span class="dv">1</span>,<span class="st">'NA'</span>:<span class="dv">0</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb221-20"><a href="#cb221-20" aria-hidden="true" tabindex="-1"></a>test_df[OrdinalVar[<span class="dv">19</span>]].replace({<span class="st">'Ex'</span>:<span class="dv">5</span>, <span class="st">'Gd'</span>:<span class="dv">4</span>, <span class="st">'TA'</span>:<span class="dv">3</span>,<span class="st">'Fa'</span>:<span class="dv">2</span>,<span class="st">'Po'</span>:<span class="dv">1</span>,<span class="st">'NA'</span>:<span class="dv">0</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb221-21"><a href="#cb221-21" aria-hidden="true" tabindex="-1"></a>test_df[OrdinalVar[<span class="dv">20</span>]].replace({<span class="st">'Y'</span>:<span class="dv">3</span>,<span class="st">'P'</span>:<span class="dv">2</span>,<span class="st">'N'</span>:<span class="dv">1</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb221-22"><a href="#cb221-22" aria-hidden="true" tabindex="-1"></a>test_df[OrdinalVar[<span class="dv">21</span>]].replace({<span class="st">'Ex'</span>:<span class="dv">4</span>, <span class="st">'Gd'</span>:<span class="dv">3</span>,<span class="st">'TA'</span>:<span class="dv">2</span>,<span class="st">'Fa'</span>:<span class="dv">1</span>,<span class="st">'NA'</span>:<span class="dv">0</span>},inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb221-23"><a href="#cb221-23" aria-hidden="true" tabindex="-1"></a>test_df[OrdinalVar[<span class="dv">22</span>]].replace({<span class="st">'GdPrv'</span>:<span class="dv">4</span>, <span class="st">'MnPrv'</span>:<span class="dv">3</span>,<span class="st">'GdWo'</span>:<span class="dv">2</span>,<span class="st">'MnWw'</span>:<span class="dv">1</span>,<span class="st">'NA'</span>:<span class="dv">0</span>},inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-260" class="cell" data-execution_count="169">
<div class="sourceCode cell-code" id="cb222"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb222-1"><a href="#cb222-1" aria-hidden="true" tabindex="-1"></a>test_df[OrdinalVar].<span class="bu">apply</span>(<span class="kw">lambda</span> s: pd.to_numeric(s, errors<span class="op">=</span><span class="st">'coerce'</span>).notnull().<span class="bu">all</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="169">
<pre><code>Lot Shape         True
Utilities         True
Land Slope        True
Overall Qual      True
Overall Cond      True
Exter Qual        True
Exter Cond        True
Bsmt Qual         True
Bsmt Cond         True
Bsmt Exposure     True
BsmtFin Type 1    True
BsmtFin Type 2    True
Heating QC        True
Electrical        True
Kitchen Qual      True
Functional        True
Fireplace Qu      True
Garage Finish     True
Garage Qual       True
Garage Cond       True
Paved Drive       True
Pool QC           True
Fence             True
dtype: bool</code></pre>
</div>
</div>
<ul>
<li>Nominal variables:</li>
</ul>
<div id="cell-262" class="cell" data-execution_count="170">
<div class="sourceCode cell-code" id="cb224"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb224-1"><a href="#cb224-1" aria-hidden="true" tabindex="-1"></a>test_df <span class="op">=</span> pd.get_dummies(test_df, columns<span class="op">=</span>NominalVar, drop_first<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-263" class="cell" data-execution_count="171">
<div class="sourceCode cell-code" id="cb225"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb225-1"><a href="#cb225-1" aria-hidden="true" tabindex="-1"></a>test_df.<span class="bu">apply</span>(<span class="kw">lambda</span> s: pd.to_numeric(s, errors<span class="op">=</span><span class="st">'coerce'</span>).notnull().<span class="bu">all</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="171">
<pre><code>Lot Frontage              True
Lot Area                  True
Lot Shape                 True
Utilities                 True
Land Slope                True
Overall Qual              True
Overall Cond              True
Year Built                True
Year Remod/Add            True
Mas Vnr Area              True
Exter Qual                True
Exter Cond                True
Bsmt Qual                 True
Bsmt Cond                 True
Bsmt Exposure             True
BsmtFin Type 1            True
BsmtFin SF 1              True
BsmtFin Type 2            True
BsmtFin SF 2              True
Bsmt Unf SF               True
Total Bsmt SF             True
Heating QC                True
Electrical                True
1st Flr SF                True
2nd Flr SF                True
Low Qual Fin SF           True
Gr Liv Area               True
Bsmt Full Bath            True
Bsmt Half Bath            True
Full Bath                 True
Half Bath                 True
Bedroom AbvGr             True
Kitchen AbvGr             True
Kitchen Qual              True
TotRms AbvGrd             True
Functional                True
Fireplaces                True
Fireplace Qu              True
Garage Yr Blt             True
Garage Finish             True
Garage Cars               True
Garage Area               True
Garage Qual               True
Garage Cond               True
Paved Drive               True
Wood Deck SF              True
Open Porch SF             True
Enclosed Porch            True
3Ssn Porch                True
Screen Porch              True
Pool Area                 True
Pool QC                   True
Fence                     True
Misc Val                  True
Mo Sold                   True
Yr Sold                   True
MS SubClass_b             True
MS SubClass_c             True
MS SubClass_d             True
MS SubClass_e             True
MS SubClass_f             True
MS SubClass_g             True
MS SubClass_h             True
MS SubClass_i             True
MS SubClass_j             True
MS SubClass_k             True
MS SubClass_l             True
MS SubClass_n             True
MS SubClass_o             True
MS SubClass_p             True
MS Zoning_FV              True
MS Zoning_RH              True
MS Zoning_RL              True
MS Zoning_RM              True
Street_Pave               True
Alley_NA                  True
Alley_Pave                True
Land Contour_HLS          True
Land Contour_Low          True
Land Contour_Lvl          True
Lot Config_CulDSac        True
Lot Config_FR2            True
Lot Config_FR3            True
Lot Config_Inside         True
Neighborhood_Blueste      True
Neighborhood_BrDale       True
Neighborhood_BrkSide      True
Neighborhood_ClearCr      True
Neighborhood_CollgCr      True
Neighborhood_Crawfor      True
Neighborhood_Edwards      True
Neighborhood_Gilbert      True
Neighborhood_IDOTRR       True
Neighborhood_MeadowV      True
Neighborhood_Mitchel      True
Neighborhood_NAmes        True
Neighborhood_NPkVill      True
Neighborhood_NWAmes       True
Neighborhood_NoRidge      True
Neighborhood_NridgHt      True
Neighborhood_OldTown      True
Neighborhood_SWISU        True
Neighborhood_Sawyer       True
Neighborhood_SawyerW      True
Neighborhood_Somerst      True
Neighborhood_StoneBr      True
Neighborhood_Timber       True
Neighborhood_Veenker      True
Condition 1_Feedr         True
Condition 1_Norm          True
Condition 1_PosA          True
Condition 1_PosN          True
Condition 1_RRAe          True
Condition 1_RRAn          True
Condition 1_RRNe          True
Condition 1_RRNn          True
Condition 2_Norm          True
Condition 2_PosN          True
Bldg Type_2fmCon          True
Bldg Type_Duplex          True
Bldg Type_Twnhs           True
Bldg Type_TwnhsE          True
House Style_1.5Unf        True
House Style_1Story        True
House Style_2.5Fin        True
House Style_2.5Unf        True
House Style_2Story        True
House Style_SFoyer        True
House Style_SLvl          True
Roof Style_Gable          True
Roof Style_Gambrel        True
Roof Style_Hip            True
Roof Style_Mansard        True
Roof Matl_Roll            True
Roof Matl_Tar&amp;Grv         True
Roof Matl_WdShake         True
Exterior 1st_BrkFace      True
Exterior 1st_CemntBd      True
Exterior 1st_HdBoard      True
Exterior 1st_MetalSd      True
Exterior 1st_Plywood      True
Exterior 1st_Stucco       True
Exterior 1st_VinylSd      True
Exterior 1st_Wd Sdng      True
Exterior 1st_WdShing      True
Exterior 2nd_Brk Cmn      True
Exterior 2nd_BrkFace      True
Exterior 2nd_CBlock       True
Exterior 2nd_CmentBd      True
Exterior 2nd_HdBoard      True
Exterior 2nd_ImStucc      True
Exterior 2nd_MetalSd      True
Exterior 2nd_Other        True
Exterior 2nd_Plywood      True
Exterior 2nd_Stone        True
Exterior 2nd_Stucco       True
Exterior 2nd_VinylSd      True
Exterior 2nd_Wd Sdng      True
Exterior 2nd_Wd Shng      True
Mas Vnr Type_BrkFace      True
Mas Vnr Type_NA           True
Mas Vnr Type_None         True
Mas Vnr Type_Stone        True
Foundation_CBlock         True
Foundation_PConc          True
Foundation_Slab           True
Foundation_Stone          True
Heating_GasW              True
Heating_Grav              True
Heating_OthW              True
Heating_Wall              True
Central Air_Y             True
Garage Type_Attchd        True
Garage Type_Basment       True
Garage Type_BuiltIn       True
Garage Type_CarPort       True
Garage Type_Detchd        True
Garage Type_NA            True
Misc Feature_Shed         True
Sale Type_CWD             True
Sale Type_ConLD           True
Sale Type_ConLI           True
Sale Type_ConLw           True
Sale Type_New             True
Sale Type_Oth             True
Sale Type_WD              True
Sale Condition_AdjLand    True
Sale Condition_Alloca     True
Sale Condition_Family     True
Sale Condition_Normal     True
Sale Condition_Partial    True
dtype: bool</code></pre>
</div>
</div>
</section>
<section id="feature-engineering-1" class="level3">
<h3 class="anchored" data-anchor-id="feature-engineering-1">Feature engineering</h3>
<ul>
<li>Continuous Variables:</li>
</ul>
<div id="cell-266" class="cell" data-execution_count="172">
<div class="sourceCode cell-code" id="cb227"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb227-1"><a href="#cb227-1" aria-hidden="true" tabindex="-1"></a>test_df[ContinuousVar]<span class="op">=</span>np.log1p(test_df[ContinuousVar])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-267" class="cell" data-execution_count="173">
<div class="sourceCode cell-code" id="cb228"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb228-1"><a href="#cb228-1" aria-hidden="true" tabindex="-1"></a>test_df <span class="op">=</span> test_df.rename(columns<span class="op">=</span>{<span class="st">'Lot Frontage'</span>:<span class="st">'log_Lot Frontage'</span>,</span>
<span id="cb228-2"><a href="#cb228-2" aria-hidden="true" tabindex="-1"></a> <span class="st">'Lot Area'</span>:<span class="st">'log_Lot Area'</span>,</span>
<span id="cb228-3"><a href="#cb228-3" aria-hidden="true" tabindex="-1"></a> <span class="st">'Mas Vnr Area'</span>:<span class="st">'log_Mas Vnr Area'</span>,</span>
<span id="cb228-4"><a href="#cb228-4" aria-hidden="true" tabindex="-1"></a> <span class="st">'BsmtFin SF 1'</span>:<span class="st">'log_BsmtFin SF 1'</span>,</span>
<span id="cb228-5"><a href="#cb228-5" aria-hidden="true" tabindex="-1"></a> <span class="st">'BsmtFin SF 2'</span>:<span class="st">'log_BsmtFin SF 2'</span>,</span>
<span id="cb228-6"><a href="#cb228-6" aria-hidden="true" tabindex="-1"></a> <span class="st">'Bsmt Unf SF'</span>:<span class="st">'log_Bsmt Unf SF'</span>,</span>
<span id="cb228-7"><a href="#cb228-7" aria-hidden="true" tabindex="-1"></a> <span class="st">'Total Bsmt SF'</span>:<span class="st">'log_Total Bsmt SF'</span>,</span>
<span id="cb228-8"><a href="#cb228-8" aria-hidden="true" tabindex="-1"></a> <span class="st">'1st Flr SF'</span>:<span class="st">'log_1st Flr SF'</span>,</span>
<span id="cb228-9"><a href="#cb228-9" aria-hidden="true" tabindex="-1"></a> <span class="st">'2nd Flr SF'</span>:<span class="st">'log_2nd Flr SF'</span>,</span>
<span id="cb228-10"><a href="#cb228-10" aria-hidden="true" tabindex="-1"></a> <span class="st">'Low Qual Fin SF'</span>:<span class="st">'log_Low Qual Fin SF'</span>,</span>
<span id="cb228-11"><a href="#cb228-11" aria-hidden="true" tabindex="-1"></a> <span class="st">'Gr Liv Area'</span>:<span class="st">'log_Gr Liv Area'</span>,</span>
<span id="cb228-12"><a href="#cb228-12" aria-hidden="true" tabindex="-1"></a> <span class="st">'Garage Area'</span>:<span class="st">'log_Garage Area'</span>,</span>
<span id="cb228-13"><a href="#cb228-13" aria-hidden="true" tabindex="-1"></a> <span class="st">'Wood Deck SF'</span>:<span class="st">'log_Wood Deck SF'</span>,</span>
<span id="cb228-14"><a href="#cb228-14" aria-hidden="true" tabindex="-1"></a> <span class="st">'Open Porch SF'</span>:<span class="st">'log_Open Porch SF'</span>,</span>
<span id="cb228-15"><a href="#cb228-15" aria-hidden="true" tabindex="-1"></a> <span class="st">'Enclosed Porch'</span>:<span class="st">'log_Enclosed Porch'</span>,</span>
<span id="cb228-16"><a href="#cb228-16" aria-hidden="true" tabindex="-1"></a> <span class="st">'3Ssn Porch'</span>:<span class="st">'log_3Ssn Porch'</span>,</span>
<span id="cb228-17"><a href="#cb228-17" aria-hidden="true" tabindex="-1"></a> <span class="st">'Screen Porch'</span>:<span class="st">'log_Screen Porch'</span>,</span>
<span id="cb228-18"><a href="#cb228-18" aria-hidden="true" tabindex="-1"></a> <span class="st">'Pool Area'</span>:<span class="st">'log_Pool Area'</span>,</span>
<span id="cb228-19"><a href="#cb228-19" aria-hidden="true" tabindex="-1"></a> <span class="st">'Misc Val'</span>:<span class="st">'log_Misc Val'</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-268" class="cell" data-execution_count="174">
<div class="sourceCode cell-code" id="cb229"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb229-1"><a href="#cb229-1" aria-hidden="true" tabindex="-1"></a>test_df[<span class="st">'Basement'</span>] <span class="op">=</span> (test_df[<span class="st">'log_Total Bsmt SF'</span>] <span class="op">!=</span><span class="dv">0</span>).astype(<span class="bu">int</span>)</span>
<span id="cb229-2"><a href="#cb229-2" aria-hidden="true" tabindex="-1"></a>test_df[<span class="st">'Pool'</span>] <span class="op">=</span> (test_df[<span class="st">'log_Pool Area'</span>] <span class="op">!=</span><span class="dv">0</span>).astype(<span class="bu">int</span>)</span>
<span id="cb229-3"><a href="#cb229-3" aria-hidden="true" tabindex="-1"></a>test_df[<span class="st">'Mas Vnr Area'</span>] <span class="op">=</span> (test_df[<span class="st">'log_Mas Vnr Area'</span>] <span class="op">!=</span><span class="dv">0</span>).astype(<span class="bu">int</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Discrete Variables:</li>
</ul>
<div id="cell-270" class="cell" data-execution_count="175">
<div class="sourceCode cell-code" id="cb230"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb230-1"><a href="#cb230-1" aria-hidden="true" tabindex="-1"></a>test_df[<span class="st">'Year Built Above 1980'</span>] <span class="op">=</span> (test_df[<span class="st">'Year Built'</span>] <span class="op">&gt;=</span> <span class="dv">1980</span>).astype(<span class="bu">int</span>)</span>
<span id="cb230-2"><a href="#cb230-2" aria-hidden="true" tabindex="-1"></a>test_df[<span class="st">'Year Built Below 1980'</span>] <span class="op">=</span> (test_df[<span class="st">'Year Built'</span>] <span class="op">&lt;</span> <span class="dv">1980</span>).astype(<span class="bu">int</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-271" class="cell" data-execution_count="176">
<div class="sourceCode cell-code" id="cb231"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb231-1"><a href="#cb231-1" aria-hidden="true" tabindex="-1"></a>test_df[<span class="st">'House without Garage'</span>] <span class="op">=</span> (test_df[<span class="st">'Garage Cars'</span>] <span class="op">==</span> <span class="dv">0</span>).astype(<span class="bu">int</span>)</span>
<span id="cb231-2"><a href="#cb231-2" aria-hidden="true" tabindex="-1"></a>test_df[<span class="st">'House with Garage'</span>] <span class="op">=</span> (test_df[<span class="st">'Garage Cars'</span>] <span class="op">!=</span> <span class="dv">0</span>).astype(<span class="bu">int</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now that I have the same encoding and engineering for all the data, I can start to make the model predictions.</p>
</section>
<section id="simple-model" class="level3">
<h3 class="anchored" data-anchor-id="simple-model">Simple model</h3>
<div id="cell-274" class="cell" data-execution_count="177">
<div class="sourceCode cell-code" id="cb232"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb232-1"><a href="#cb232-1" aria-hidden="true" tabindex="-1"></a>test_X_simple <span class="op">=</span> test_df[[<span class="st">'Overall Qual'</span>,<span class="st">'log_Gr Liv Area'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-275" class="cell" data-execution_count="178">
<div class="sourceCode cell-code" id="cb233"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb233-1"><a href="#cb233-1" aria-hidden="true" tabindex="-1"></a>huber <span class="op">=</span> HuberRegressor(epsilon<span class="op">=</span><span class="fl">1.45</span>)</span>
<span id="cb233-2"><a href="#cb233-2" aria-hidden="true" tabindex="-1"></a>huber.fit(X_tr_simple, y_tr_simple) </span>
<span id="cb233-3"><a href="#cb233-3" aria-hidden="true" tabindex="-1"></a>y_pred_huber_simple_test <span class="op">=</span> huber.predict(test_X_simple)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-276" class="cell" data-execution_count="179">
<div class="sourceCode cell-code" id="cb234"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb234-1"><a href="#cb234-1" aria-hidden="true" tabindex="-1"></a>y_pred_simple <span class="op">=</span> np.exp(y_pred_huber_simple_test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-277" class="cell" data-execution_count="180">
<div class="sourceCode cell-code" id="cb235"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb235-1"><a href="#cb235-1" aria-hidden="true" tabindex="-1"></a>pd.DataFrame({<span class="st">'PID'</span>:test_PID,<span class="st">'SalePrice'</span>:y_pred_simple}).to_csv(<span class="st">'predictions-simple-model.csv'</span>,index<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="intermediate-model" class="level3">
<h3 class="anchored" data-anchor-id="intermediate-model">Intermediate model</h3>
<div id="cell-279" class="cell" data-execution_count="181">
<div class="sourceCode cell-code" id="cb236"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb236-1"><a href="#cb236-1" aria-hidden="true" tabindex="-1"></a>test_X_intermediate <span class="op">=</span> test_df[[<span class="st">'Overall Qual'</span>,<span class="st">'log_Gr Liv Area'</span>,<span class="st">'Garage Cars'</span>, <span class="st">'Kitchen Qual'</span>, <span class="st">'Bsmt Qual'</span>,<span class="st">'log_1st Flr SF'</span>,<span class="st">'Year Built Above 1980'</span>,<span class="st">'Garage Finish'</span>,</span>
<span id="cb236-2"><a href="#cb236-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Year Remod/Add'</span>,<span class="st">'Full Bath'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-280" class="cell" data-execution_count="182">
<div class="sourceCode cell-code" id="cb237"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb237-1"><a href="#cb237-1" aria-hidden="true" tabindex="-1"></a>huber <span class="op">=</span> HuberRegressor(epsilon<span class="op">=</span><span class="fl">1.45</span>)</span>
<span id="cb237-2"><a href="#cb237-2" aria-hidden="true" tabindex="-1"></a>huber.fit(X_tr_intermediate, y_tr_intermediate) </span>
<span id="cb237-3"><a href="#cb237-3" aria-hidden="true" tabindex="-1"></a>y_pred_huber_intermediate_test <span class="op">=</span> huber.predict(test_X_intermediate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-281" class="cell" data-execution_count="183">
<div class="sourceCode cell-code" id="cb238"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb238-1"><a href="#cb238-1" aria-hidden="true" tabindex="-1"></a>y_pred_intermediate <span class="op">=</span> np.exp(y_pred_huber_intermediate_test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-282" class="cell" data-execution_count="184">
<div class="sourceCode cell-code" id="cb239"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb239-1"><a href="#cb239-1" aria-hidden="true" tabindex="-1"></a>pd.DataFrame({<span class="st">'PID'</span>:test_PID,<span class="st">'SalePrice'</span>:y_pred_intermediate}).to_csv(<span class="st">'predictions-intermediate-model.csv'</span>,index<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="complex-model" class="level3">
<h3 class="anchored" data-anchor-id="complex-model">Complex model</h3>
<p>I had a problem with the dimensions of the dataset. Indeed, the first dataset had more variables (due to the encoding/dummies). I had to tranform the new dataset and fill the columns with 0 to hanndle this problem.</p>
<div id="cell-285" class="cell" data-execution_count="185">
<div class="sourceCode cell-code" id="cb240"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb240-1"><a href="#cb240-1" aria-hidden="true" tabindex="-1"></a>columns_data <span class="op">=</span> data_df.columns.drop([<span class="st">'SalePrice'</span>,<span class="st">'log_SalePrice'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-286" class="cell" data-execution_count="186">
<div class="sourceCode cell-code" id="cb241"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb241-1"><a href="#cb241-1" aria-hidden="true" tabindex="-1"></a>columns_test <span class="op">=</span> test_df.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-287" class="cell" data-execution_count="187">
<div class="sourceCode cell-code" id="cb242"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb242-1"><a href="#cb242-1" aria-hidden="true" tabindex="-1"></a>columns_add <span class="op">=</span> columns_data[<span class="op">~</span>columns_data.isin(columns_test)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-288" class="cell" data-execution_count="188">
<div class="sourceCode cell-code" id="cb243"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb243-1"><a href="#cb243-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> columns_add:</span>
<span id="cb243-2"><a href="#cb243-2" aria-hidden="true" tabindex="-1"></a>    test_df[col] <span class="op">=</span> <span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-289" class="cell" data-execution_count="189">
<div class="sourceCode cell-code" id="cb244"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb244-1"><a href="#cb244-1" aria-hidden="true" tabindex="-1"></a>test_df <span class="op">=</span> test_df.reindex(columns<span class="op">=</span>data_df.columns).drop([<span class="st">'SalePrice'</span>,<span class="st">'log_SalePrice'</span>],axis<span class="op">=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-290" class="cell" data-execution_count="190">
<div class="sourceCode cell-code" id="cb245"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb245-1"><a href="#cb245-1" aria-hidden="true" tabindex="-1"></a>test_X_rescaled <span class="op">=</span> scaler.transform(test_df)</span>
<span id="cb245-2"><a href="#cb245-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb245-3"><a href="#cb245-3" aria-hidden="true" tabindex="-1"></a>y_pred_complex <span class="op">=</span> np.exp(best_result.model.predict(test_X_rescaled))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-291" class="cell" data-execution_count="191">
<div class="sourceCode cell-code" id="cb246"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb246-1"><a href="#cb246-1" aria-hidden="true" tabindex="-1"></a>pd.DataFrame({<span class="st">'PID'</span>:test_PID,<span class="st">'SalePrice'</span>:y_pred_complex}).to_csv(<span class="st">'predictions-complex-model.csv'</span>,index<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<a class="quarto-notebook-link" id="nblink-1" href="..\..\Documents\ML\Course_3\09_Course_project\House_prices_prediction-preview.html#cell-0">Source: Packages</a></div>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    const typesetMath = (el) => {
      if (window.MathJax) {
        // MathJax Typeset
        window.MathJax.typeset([el]);
      } else if (window.katex) {
        // KaTeX Render
        var mathElements = el.getElementsByClassName("math");
        var macros = [];
        for (var i = 0; i < mathElements.length; i++) {
          var texText = mathElements[i].firstChild;
          if (mathElements[i].tagName == "SPAN") {
            window.katex.render(texText.data, mathElements[i], {
              displayMode: mathElements[i].classList.contains('display'),
              throwOnError: false,
              macros: macros,
              fleqn: false
            });
          }
        }
      }
    }
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        typesetMath(container);
        return container.innerHTML
      } else {
        typesetMath(note);
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      typesetMath(note);
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Copyright 2023, Grégoire Urvoy</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>